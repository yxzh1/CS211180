{"remainingRequest":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WorkSpace\\localCode\\CS211180\\client_admin\\src\\components\\charts\\bar_chart.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\src\\components\\charts\\bar_chart.vue","mtime":1642669596000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCBlY2hhcnRzIGZyb20gIkAvYXNzZXRzL2pzL2VjaGFydHMubWluLmpzIjsKZXhwb3J0IGRlZmF1bHQgewoJbmFtZTogIkhvbWUiLAoJY29tcG9uZW50czoge30sCglwcm9wczogewoJCWlkOiB7CgkJCXR5cGU6IFN0cmluZywKCQkJZGVmYXVsdDogImJhckNoYXJ0IgoJCX0sCgkJdGl0bGU6IHsKCQkJdHlwZTogU3RyaW5nLAoJCQlkZWZhdWx0OiAiWFhY5p2h5b2i5Zu+IgoJCX0sCgkJbGlzdDogewoJCQl0eXBlOiBBcnJheSwKCQkJcmVxdWlyZWQ6IHRydWUKCQl9LAoJCXZtOiB7CgkJCXR5cGU6IE9iamVjdCwKCQkJZGVmYXVsdDogZnVuY3Rpb24oKSB7CgkJCQlyZXR1cm4gewoJCQkJCW5hbWU6ICJuYW1lIiwKCQkJCQl0aW1lOiAidGltZSIsCgkJCQkJdmFsdWU6ICJ2YWx1ZSIsCgkJCQl9OwoJCQl9LAoJCX0KCX0sCglkYXRhKCkgewoJCXJldHVybiB7CgkJCW9wdGlvbjogewoJCQkJdGl0bGU6IHsKCQkJCQl0ZXh0OiAiN+aXpeS4quexu+WVhuWTgemUgOWUruminSIsCgkJCQkJbGVmdDogImNlbnRlciIsCgkJCQl9LAoJCQkJdG9vbHRpcDogewoJCQkJCXRyaWdnZXI6ICdheGlzJywKCQkJCQlheGlzUG9pbnRlcjogewoJCQkJCQl0eXBlOiAnc2hhZG93JwoJCQkJCX0KCQkJCX0sCgkJCQl4QXhpczogW3sKCQkJCQl0eXBlOiAnY2F0ZWdvcnknLAoJCQkJCWF4aXNUaWNrOiB7CgkJCQkJCXNob3c6IGZhbHNlCgkJCQkJfSwKCQkJCQlkYXRhOiBbXQoJCQkJfV0sCgkJCQl5QXhpczogW3sKCQkJCQl0eXBlOiAndmFsdWUnCgkJCQl9XSwKCQkJCXNlcmllczogWwoJCQkJCS8vIHsKCQkJCQkvLyAJbmFtZTogJ0ZvcmVzdCcsCgkJCQkJLy8gCXR5cGU6ICdiYXInLAoJCQkJCS8vIAliYXJHYXA6IDAsCgkJCQkJLy8gCWVtcGhhc2lzOiB7CgkJCQkJLy8gCQlmb2N1czogJ3NlcmllcycKCQkJCQkvLyAJfSwKCQkJCQkvLyAJZGF0YTogWzMyMCwgMzMyLCAzMDEsIDMzNCwgMzkwXQoJCQkJCS8vIH0sCgkJCQldCgkJCX0KCQl9OwoJfSwKCWNyZWF0ZWQoKSB7fSwKCW1vdW50ZWQoKSB7CgkJdGhpcy5pbml0X2NoYXJ0KCk7Cgl9LAoJbWV0aG9kczogewoJCWluaXRfY2hhcnQoKSB7CgkJCXZhciBvcHRpb24gPSB0aGlzLm9wdGlvbjsKCgkJCXZhciB0aXRsZSA9IHRoaXMudGl0bGU7CgkJCWlmICh0aXRsZSkgewoJCQkJb3B0aW9uLnRpdGxlLnRleHQgPSB0aXRsZTsKCQkJfQoKCQkJdmFyIHNlcmllcyA9IHRoaXMuc2VyaWVzOwoJCQlvcHRpb24uc2VyaWVzID0gc2VyaWVzOwoKCQkJdmFyIGxpc3RfdGltZSA9IHRoaXMubGlzdF90aW1lOwoJCQl2YXIgeEF4aXMgPSBvcHRpb24ueEF4aXNbMF07CgkJCXhBeGlzLmRhdGEgPSBsaXN0X3RpbWU7CgoJCQlsZXQgbXlDaGFydCA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKSk7CgkJCW15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7CgkJfSwKCX0sCgljb21wdXRlZDogewoJCWxpc3RfdGltZSgpIHsKCQkJdmFyIHZtID0gdGhpcy52bTsKCQkJdmFyIGxpc3QgPSB0aGlzLmxpc3Q7CgkJCXZhciBhcnIgPSBbXTsKCQkJaWYgKGxpc3QubGVuZ3RoID4gMCkgewoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CgkJCQkJdmFyIG8gPSBsaXN0W2ldOwoJCQkJCXZhciB0aW1lID0gb1t2bS50aW1lXTsKCQkJCQlpZiAoYXJyLmluZGV4T2YodGltZSkgPT09IC0xKSB7CgkJCQkJCWFyci5wdXNoKHRpbWUpOwoJCQkJCX0KCQkJCX0KCQkJfQoJCQlyZXR1cm4gYXJyOwoJCX0sCgkJc2VyaWVzKCkgewoJCQl2YXIgdm0gPSB0aGlzLnZtOwoJCQl2YXIgbGlzdCA9IHRoaXMubGlzdDsKCQkJdmFyIHNlcmllcyA9IFtdOwoJCQlpZiAobGlzdC5sZW5ndGggPiAwKSB7CgkJCQl2YXIgZGljdF90eXBlID0ge307CgkJCQl2YXIgbGlzdF90aW1lID0gdGhpcy5saXN0X3RpbWU7CgkJCQkKCQkJCS8vIOWIneWni+WMluaVsOWAvOmVv+W6pgoJCQkJdmFyIGluaXRfbnVtID0gbmV3IEFycmF5KGxpc3RfdGltZS5sZW5ndGgpLmZpbGwoMCk7CgkJCQkKCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewoJCQkJCXZhciBvID0gbGlzdFtpXTsKCQkJCQl2YXIgbmFtZSA9IG9bdm0ubmFtZV07CgkJCQkJLy8g5Yid5aeL5YyW57G7CgkJCQkJZGljdF90eXBlW25hbWVdID0gewoJCQkJCQluYW1lLAoJCQkJCQl0eXBlOiAnYmFyJywKCQkJCQkJZGF0YTogW10uY29uY2F0KGluaXRfbnVtKQoJCQkJCX0KCQkJCX07CgkJCQkKCQkJCWxpc3QubWFwKG8gPT4gewoJCQkJCXZhciBpZHggPSBsaXN0X3RpbWUuaW5kZXhPZihvW3ZtLnRpbWVdKTsKCQkJCQlpZiAoaWR4ICE9PSAtMSkgewoJCQkJCQkvLyDotYvkuojnsbvnmoTlr7nlupTkvY3lgLwKCQkJCQkJZGljdF90eXBlW29bdm0ubmFtZV1dLmRhdGFbaWR4XSA9IG9bdm0udmFsdWVdOwoJCQkJCX0KCQkJCX0pOwoJCQkJCgkJCQlmb3IgKHZhciBrZXkgaW4gZGljdF90eXBlKSB7CgkJCQkJc2VyaWVzLnB1c2goZGljdF90eXBlW2tleV0pOwoJCQkJfQoJCQl9CgkJCXJldHVybiBzZXJpZXM7CgkJfQoJfSwKCXdhdGNoOiB7CgkJbGlzdCgpIHsKCQkJdGhpcy5pbml0X2NoYXJ0KCk7CgkJfSwKCX0sCn07Cg=="},{"version":3,"sources":["bar_chart.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bar_chart.vue","sourceRoot":"src/components/charts","sourcesContent":["<template>\r\n\t<div class=\"bar_chart\" :id=\"id\">条形图</div>\r\n</template>\r\n\r\n<script>\r\n\timport echarts from \"@/assets/js/echarts.min.js\";\r\n\texport default {\r\n\t\tname: \"Home\",\r\n\t\tcomponents: {},\r\n\t\tprops: {\r\n\t\t\tid: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"barChart\"\r\n\t\t\t},\r\n\t\t\ttitle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"XXX条形图\"\r\n\t\t\t},\r\n\t\t\tlist: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t\tvm: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\ttime: \"time\",\r\n\t\t\t\t\t\tvalue: \"value\",\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\toption: {\r\n\t\t\t\t\ttitle: {\r\n\t\t\t\t\t\ttext: \"7日个类商品销售额\",\r\n\t\t\t\t\t\tleft: \"center\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\t\ttype: 'shadow'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\txAxis: [{\r\n\t\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tyAxis: [{\r\n\t\t\t\t\t\ttype: 'value'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tseries: [\r\n\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t// \tname: 'Forest',\r\n\t\t\t\t\t\t// \ttype: 'bar',\r\n\t\t\t\t\t\t// \tbarGap: 0,\r\n\t\t\t\t\t\t// \temphasis: {\r\n\t\t\t\t\t\t// \t\tfocus: 'series'\r\n\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t// \tdata: [320, 332, 301, 334, 390]\r\n\t\t\t\t\t\t// },\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmounted() {\r\n\t\t\tthis.init_chart();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit_chart() {\r\n\t\t\t\tvar option = this.option;\r\n\r\n\t\t\t\tvar title = this.title;\r\n\t\t\t\tif (title) {\r\n\t\t\t\t\toption.title.text = title;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar series = this.series;\r\n\t\t\t\toption.series = series;\r\n\r\n\t\t\t\tvar list_time = this.list_time;\r\n\t\t\t\tvar xAxis = option.xAxis[0];\r\n\t\t\t\txAxis.data = list_time;\r\n\r\n\t\t\t\tlet myChart = echarts.init(document.getElementById(this.id));\r\n\t\t\t\tmyChart.setOption(option);\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tlist_time() {\r\n\t\t\t\tvar vm = this.vm;\r\n\t\t\t\tvar list = this.list;\r\n\t\t\t\tvar arr = [];\r\n\t\t\t\tif (list.length > 0) {\r\n\t\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t\tvar o = list[i];\r\n\t\t\t\t\t\tvar time = o[vm.time];\r\n\t\t\t\t\t\tif (arr.indexOf(time) === -1) {\r\n\t\t\t\t\t\t\tarr.push(time);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn arr;\r\n\t\t\t},\r\n\t\t\tseries() {\r\n\t\t\t\tvar vm = this.vm;\r\n\t\t\t\tvar list = this.list;\r\n\t\t\t\tvar series = [];\r\n\t\t\t\tif (list.length > 0) {\r\n\t\t\t\t\tvar dict_type = {};\r\n\t\t\t\t\tvar list_time = this.list_time;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 初始化数值长度\r\n\t\t\t\t\tvar init_num = new Array(list_time.length).fill(0);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t\tvar o = list[i];\r\n\t\t\t\t\t\tvar name = o[vm.name];\r\n\t\t\t\t\t\t// 初始化类\r\n\t\t\t\t\t\tdict_type[name] = {\r\n\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\t\t\tdata: [].concat(init_num)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tlist.map(o => {\r\n\t\t\t\t\t\tvar idx = list_time.indexOf(o[vm.time]);\r\n\t\t\t\t\t\tif (idx !== -1) {\r\n\t\t\t\t\t\t\t// 赋予类的对应位值\r\n\t\t\t\t\t\t\tdict_type[o[vm.name]].data[idx] = o[vm.value];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var key in dict_type) {\r\n\t\t\t\t\t\tseries.push(dict_type[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn series;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tlist() {\r\n\t\t\t\tthis.init_chart();\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n"]}]}