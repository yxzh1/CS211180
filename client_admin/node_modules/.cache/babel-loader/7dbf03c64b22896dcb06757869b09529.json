{"remainingRequest":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\localCode\\CS211180\\client_admin\\src\\mixins\\component.js","dependencies":[{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\src\\mixins\\component.js","mtime":1642669596000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICAvKioNCiAgICAgKiDlm57osIPlh73mlbAo5Lit5o6nKQ0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIOWHveaVsOWQjQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbTENCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0yDQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtMw0KICAgICAqIEByZXR1cm4ge09iamVjdH0g5Lu75oSP5YC8DQogICAgICovCiAgICBmdW5jOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIGZ1bmMobmFtZSwgcGFyYW0xLCBwYXJhbTIsIHBhcmFtMykge30KICAgIH0sCiAgICBxdWVyeTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgICBzaXplOiAxMAogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBsaXN0OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGNvbDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICJkZWZhdWx0IjogMAogICAgfSwKICAgIHZtOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgImRlZmF1bHQiOiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgLy8g5b2T5YmNSUQKICAgICAgICAgIGlkOiAnaWQnLAogICAgICAgICAgLy8g5LiK57qnSUQKICAgICAgICAgIGZpZDogJ2ZpZCcsCiAgICAgICAgICAvLyDnlKjmiLflkI0KICAgICAgICAgIHVzZXJuYW1lOiAndXNlcm5hbWUnLAogICAgICAgICAgLy8g55So5oi3aWQKICAgICAgICAgIHVzZXJfaWQ6ICd1c2VyX2lkJywKICAgICAgICAgIC8vIOWbvueJhwogICAgICAgICAgaW1nOiAnaW1nJywKICAgICAgICAgIC8vIOWbvuaghwogICAgICAgICAgaWNvbjogJ2ljb24nLAogICAgICAgICAgLy8g5qCH6aKYCiAgICAgICAgICB0aXRsZTogJ3RpdGxlJywKICAgICAgICAgIC8vIOWtkOmhuQogICAgICAgICAgc3ViOiAnc3ViJywKICAgICAgICAgIC8vIOaPj+i/sAogICAgICAgICAgZGVzY3JpcHRpb246ICdkZXNjcmlwdGlvbicsCiAgICAgICAgICAvLyDlhbPplK7or40KICAgICAgICAgIGtleXdvcmRzOiAna2V5d29yZHMnLAogICAgICAgICAgLy8g5Zu+54mHCiAgICAgICAgICBpbWFnZTogJ2ltYWdlJywKICAgICAgICAgIC8vIOWGheWuuQogICAgICAgICAgY29udGVudDogJ2NvbnRlbnQnLAogICAgICAgICAgLy8g5pe26Ze0CiAgICAgICAgICB0aW1lOiAndGltZScsCiAgICAgICAgICAvLyDliJvlu7rml7bpl7QKICAgICAgICAgIGNyZWF0ZV90aW1lOiAiY3JlYXRlX3RpbWUiLAogICAgICAgICAgLy8g6ZO+5o6lCiAgICAgICAgICB1cmw6ICd1cmwnLAogICAgICAgICAgLy8g5pa55byPCiAgICAgICAgICBtb2RlOiAnbW9kZScsCiAgICAgICAgICAvLyDmnaXmupAKICAgICAgICAgIHNvdXJjZTogJ3NvdXJjZScsCiAgICAgICAgICAvLyDmnaXmupDlnLDlnYAKICAgICAgICAgIHNvdXJjZV91cmw6ICdzb3VyY2VfdXJsJywKICAgICAgICAgIC8vIOagh+etvgogICAgICAgICAgbGFiZWw6ICdsYWJlbCcsCiAgICAgICAgICAvLyDlkI3np7AKICAgICAgICAgIG5hbWU6ICduYW1lJywKICAgICAgICAgIC8vIOWAvAogICAgICAgICAgdmFsdWU6ICd2YWx1ZScsCiAgICAgICAgICAvLyDmj5DnpLoKICAgICAgICAgIHRpcDogJ3RpcCcsCiAgICAgICAgICAvLyDng63luqYKICAgICAgICAgIGhvdDogJ2hvdCcsCiAgICAgICAgICAvLyDljp/ku7cKICAgICAgICAgIHByaWNlX2FnbzogJ3ByaWNlX2FnbycsCiAgICAgICAgICAvLyDku7fmoLwKICAgICAgICAgIHByaWNlOiAncHJpY2UnLAogICAgICAgICAgLy8g5oC75Lu3CiAgICAgICAgICB0b3RhbDogJ3RvdGFsJywKICAgICAgICAgIC8vIOivhOiuugogICAgICAgICAgbnVtX2NvbW1lbnQ6ICdudW1fY29tbWVudCcsCiAgICAgICAgICAvLyDngrnotZ7mlbAKICAgICAgICAgIG51bV9wcmFpc2U6ICdudW1fcHJhaXNlJywKICAgICAgICAgIC8vIOiuv+mXruaVsAogICAgICAgICAgbnVtX3NlZTogJ251bV9zZWUnLAogICAgICAgICAgLy8g5oC76YePCiAgICAgICAgICBjb3VudDogJ2NvdW50JywKICAgICAgICAgIC8vIOaVsOmHjwogICAgICAgICAgbnVtOiAnbnVtJywKICAgICAgICAgIC8vIOS9nOiAhQogICAgICAgICAgYXV0aG9yOiAnYXV0aG9yJywKICAgICAgICAgIC8vIOaUtuiXj+mHjwogICAgICAgICAgY29sbGVjdDogJ2NvbGxlY3QnLAogICAgICAgICAgLy8g5qCH562+CiAgICAgICAgICB0YWc6ICd0YWcnCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGNzczogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICJkZWZhdWx0IjogIiIKICAgIH0sCiAgICBmdW5jX2xhbmc6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgICJkZWZhdWx0IjogbnVsbAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOWcsOWdgAogICAgICB1cmw6ICIiLAogICAgICAvLyDmt7vliqDlnLDlnYAKICAgICAgdXJsX2FkZDogIiIsCiAgICAgIC8vIOWIoOmZpOWcsOWdgAogICAgICB1cmxfZGVsOiAiIiwKICAgICAgLy8g5L+u5pS55Zyw5Z2ACiAgICAgIHVybF9zZXQ6ICIiLAogICAgICAvLyDmn6Xor6Llr7nosaHlnLDlnYAKICAgICAgdXJsX2dldF9vYmo6ICIiLAogICAgICAvLyDmn6Xor6LliJfooajlnLDlnYAKICAgICAgdXJsX2dldF9saXN0OiAiIiwKICAgICAgLy8g6KGo5Y2V5o+Q5Lqk5Zyw5Z2ACiAgICAgIHVybF9zdWJtaXQ6ICIiLAogICAgICAvLyDkuIrkvKDmj5DkuqTlnLDlnYAKICAgICAgdXJsX3VwbG9hZDogIiIsCiAgICAgIC8vIOWvvOWFpeaVsOaNruWcsOWdgAogICAgICB1cmxfaW1wb3J0OiAiIiwKICAgICAgLy8g5a+85Ye65pWw5o2u5Zyw5Z2ACiAgICAgIHVybF9leHBvcnQ6ICIiLAogICAgICAvLyDphY3nva4KICAgICAgY29uZmlnOiB7CiAgICAgICAgLy8g6buY6K6k5b2T5YmN6aG16Z2iCiAgICAgICAgcGFnZTogMSwKICAgICAgICAvLyDpu5jorqTpobXpnaLlpKflsI8KICAgICAgICBzaXplOiAxMAogICAgICB9LAogICAgICAvLyDliqDovb3ov5vluqYKICAgICAgbG9hZGluZzogMCwKICAgICAgLy8g5pi+56S66L+b5bqmCiAgICAgIHNob3dpbmc6IDAsCiAgICAgIC8vIOaPkOS6pOi/m+W6pgogICAgICBwb3N0aW5nOiAwLAogICAgICAvLyDmn6Xor6Lnu5PmnpzljLnphY3mlbDnu5/orqEKICAgICAgY291bnQ6IDAsCiAgICAgIC8vIOaYvuekuumakOiXj++8jHRydWXmmL7npLrvvIxmYWxzZemakOiXjwogICAgICBzaG93OiBmYWxzZSwKICAgICAgLy8g5ZON5bqU5oiQ5Yqf5oiW5aSx6LSlCiAgICAgIGJsOiBmYWxzZSwKICAgICAgLy8g5pi+56S65pa55byPCiAgICAgIGRpc3BsYXk6ICIiLAogICAgICAvLyDlhbPplK7lrZfmrrUKICAgICAgZmllbGQ6ICIiLAogICAgICAvLyDlk43lupTmj5DnpLoKICAgICAgdGlwOiAiIiwKICAgICAgLy8g6buY6K6k6K+35rGC5pa55byPCiAgICAgIG1vZGU6ICJsaXN0IiwKICAgICAgLy8g5riF6Zmk5YiX6KGoCiAgICAgIGNsZWFyX2xpc3Q6IHRydWUsCiAgICAgIC8vIOWTjeW6lOmUmeivr+a2iOaBrwogICAgICBtZXNzYWdlOiAiIiwKICAgICAgLy8g6YCJ5Lit6aG5CiAgICAgIHNlbGVjdDogLTEsCiAgICAgIC8vIOmAieS4rembhgogICAgICBzZWxlY3RzOiAiIiwKICAgICAgLy8g5b2T5YmN6aG1LCDnlKjkuo7ot7PovazpobXpnaIKICAgICAgcGFnZV9ub3c6IDEsCiAgICAgIC8vIOmAieaLqemhueeKtuaAgQogICAgICBzZWxlY3Rfc3RhdGU6IGZhbHNlLAogICAgICAvLyDmjpLluo/plK7vvIznlKjkuo7mi5bmi73kv67mlLnmjpLluo8KICAgICAgc29ydF9rZXk6ICJkaXNwbGF5IiwKICAgICAgLy8g5L+u5pS55p2h5Lu2CiAgICAgIHF1ZXJ5X3NldDoge30sCiAgICAgIC8vIOS4iue6p0lEOiBmYXRoZXJfaWQKICAgICAgZmF0aGVyX2lkOiAiZmF0aGVyX2lkIiwKICAgICAgLy8g6YCJ5Lit6ZuG5ZCICiAgICAgIHNlbGVjdGlvbjogW10sCiAgICAgIC8vIOeZu+W9leadg+mZkAogICAgICBvYXV0aDogewogICAgICAgICJzaWduSW4iOiB0cnVlLAogICAgICAgICJnbSI6IDAsCiAgICAgICAgInVzZXJfYWRtaW4iOiBbXQogICAgICB9LAogICAgICAvLyDnlKjmiLfkv6Hmga8KICAgICAgdXNlcjogdGhpcy4kc3RvcmUuc3RhdGUudXNlciwKICAgICAgLy8g5L+u5pS55o+Q56S6CiAgICAgIHRpcF9zaG93OiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLyoqDQogICAgICog6K+t6KiA6L2s5o2iDQogICAgICogQHBhcmFtIHtTdHJpbmd9IGtleXdvcmQNCiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IOi/lOWbnui9rOaNouWQjueahOivreiogA0KICAgICAqLwogICAgdG9fbGFuZzogZnVuY3Rpb24gdG9fbGFuZyhrZXl3b3JkKSB7CiAgICAgIGlmICh0aGlzLmZ1bmNfbGFuZykgewogICAgICAgIHJldHVybiB0aGlzLmZ1bmNfbGFuZyhrZXl3b3JkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4ga2V5d29yZDsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5L+d5a2Y5a+56LGhDQogICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSDplK4NCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2JqIOWAvA0KICAgICAqLwogICAgc2F2ZV9vYmo6IGZ1bmN0aW9uIHNhdmVfb2JqKGtleSwgb2JqKSB7CiAgICAgICQuZGIuc2V0KGtleSwgb2JqKTsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouWvueixoQ0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg6ZSuDQogICAgICogQHJldHVybiB7T2JqZWN0fSDlgLwNCiAgICAgKi8KICAgIGxvYWRfb2JqOiBmdW5jdGlvbiBsb2FkX29iaihrZXkpIHsKICAgICAgcmV0dXJuICQuZGIuZ2V0KGtleSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDkuovku7bnrqHnkIYsIOeUqOS6jueuoeeQhuWHveaVsA0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIOS6i+S7tuWQjQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbTEg5Y+C5pWwMQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbTIg5Y+C5pWwMg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbTMg5Y+C5pWwMw0KICAgICAqIEByZXR1cm4ge09iamVjdH0g6L+U5Zue5LqL5Lu254m55a6a5YC8DQogICAgICovCiAgICBldmVudHM6IGZ1bmN0aW9uIGV2ZW50cyhuYW1lLCBwYXJhbTEsIHBhcmFtMiwgcGFyYW0zKSB7CiAgICAgIGlmICh0aGlzW25hbWVdKSB7CiAgICAgICAgaWYgKHBhcmFtMykgewogICAgICAgICAgcmV0dXJuIHRoaXNbbmFtZV0ocGFyYW0xLCBwYXJhbTIsIHBhcmFtMyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0aGlzW25hbWVdKHBhcmFtMSwgcGFyYW0yKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOa3u+WKoOaVsOaNrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSDopoHmt7vliqDnmoTmlbDmja4NCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgYWRkOiBmdW5jdGlvbiBhZGQocGFyYW0sIGZ1bmMpIHsKICAgICAgaWYgKCFwYXJhbSkgewogICAgICAgIHBhcmFtID0gdGhpcy5vYmo7CiAgICAgIH0KCiAgICAgIHZhciBwbSA9IHRoaXMuZXZlbnRzKCJhZGRfYmVmb3JlIiwgT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0pKSB8fCBwYXJhbTsKICAgICAgdmFyIG1zZyA9IHRoaXMuZXZlbnRzKCJhZGRfY2hlY2siLCBwbSk7CiAgICAgIHZhciByZXQ7CgogICAgICBpZiAoIW1zZykgewogICAgICAgIHJldCA9IHRoaXMuZXZlbnRzKCJhZGRfbWFpbiIsIHBtLCBmdW5jKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOWIoOmZpOaVsOaNrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSDmn6Xor6LmnaHku7YNCiAgICAgKi8KICAgIGRlbDogZnVuY3Rpb24gZGVsKHBhcmFtLCBmdW5jKSB7CiAgICAgIGlmICghcGFyYW0pIHsKICAgICAgICBwYXJhbSA9IHRoaXMucXVlcnk7CiAgICAgIH0KCiAgICAgIHZhciBwbSA9IHRoaXMuZXZlbnRzKCJkZWxfYmVmb3JlIiwgT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0pKSB8fCBwYXJhbTsKICAgICAgdmFyIG1zZyA9IHRoaXMuZXZlbnRzKCJkZWxfY2hlY2siLCBwbSk7CiAgICAgIHZhciByZXQ7CgogICAgICBpZiAoIW1zZykgewogICAgICAgIHJldCA9IHRoaXMuZXZlbnRzKCJkZWxfbWFpbiIsIHBtLCBmdW5jKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCiAgICBkZWxfc2hvdzogZnVuY3Rpb24gZGVsX3Nob3cobywgaWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHVuaS5jb25maXJtKCfliKDpmaTlkI7lsIbml6Dms5Xlm57lpI0hPGJyLz7mmK/lkKbnoa7lrpropoHliKDpmaQ/JywgZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCfnoa7lrprliKDpmaQhJyk7CiAgICAgICAgdmFyIHF1ZXJ5ID0ge307CiAgICAgICAgcXVlcnlbaWRdID0gb1tpZF07CgogICAgICAgIF90aGlzLmRlbChxdWVyeSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMubGlzdC5kZWwocXVlcnkpOwoKICAgICAgICAgIF90aGlzLmNvdW50IC09IDE7CiAgICAgICAgfSk7CiAgICAgIH0sIGZ1bmN0aW9uICgpIHsvLyBjb25zb2xlLmxvZygn5Y+W5raI5Yig6ZmkIScpCiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5L+u5pS55pWw5o2uDQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIOS/ruaUuemhuQ0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGluY2x1ZGVaZXJvIOaYr+WQpuWMheaLrDANCiAgICAgKi8KICAgIHNldDogZnVuY3Rpb24gc2V0KHBhcmFtLCBxdWVyeSwgZnVuYywgaW5jbHVkZVplcm8pIHsKICAgICAgaWYgKCFwYXJhbSkgewogICAgICAgIHBhcmFtID0gdGhpcy5vYmo7CiAgICAgIH0KCiAgICAgIGlmIChxdWVyeSkgewogICAgICAgIHRoaXMucXVlcnlfc2V0ID0gcXVlcnk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWVyeV9zZXQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnF1ZXJ5KTsKICAgICAgfQoKICAgICAgdmFyIHBtID0gdGhpcy5ldmVudHMoInNldF9iZWZvcmUiLCBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSksIGluY2x1ZGVaZXJvKSB8fCBwYXJhbTsKICAgICAgdmFyIG1zZyA9IHRoaXMuZXZlbnRzKCJzZXRfY2hlY2siLCBwbSk7CiAgICAgIHZhciByZXQ7CgogICAgICBpZiAoIW1zZykgewogICAgICAgIHJldCA9IHRoaXMuZXZlbnRzKCJzZXRfbWFpbiIsIHBtLCBmdW5jKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCgogICAgLyoqDQogICAgICog5L+u5pS55YmN5LqL5Lu2DQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtDQogICAgICogQHBhcmFtIHtCb29sZWFufSBpbmNsdWRlWmVybyDmmK/lkKbliKDpmaQw5YC86aG5DQogICAgICogQHBhcmFtIHtPYmplY3R9IOi/lOWbnuaWsOeahOWPguaVsA0KICAgICAqLwogICAgc2V0X2JlZm9yZTogZnVuY3Rpb24gc2V0X2JlZm9yZShwYXJhbSwgaW5jbHVkZVplcm8pIHsKICAgICAgdmFyIHBtID0gdW5pWyJkZWxldGUiXShwYXJhbSwgaW5jbHVkZVplcm8pOwoKICAgICAgZm9yICh2YXIgayBpbiBwbSkgewogICAgICAgIGlmIChrLnRvTG9jYWxlTG93ZXJDYXNlKCkuaW5kZXhPZigndGltZScpICE9PSAtMSAmJiBwbVtrXS5pbmRleE9mKCdUJykgIT09IC0xKSB7CiAgICAgICAgICBwbVtrXSA9IG5ldyBEYXRlKHBtW2tdKS50b1N0cigneXl5eS1NTS1kZCAwMDowMDowMCcpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHBtOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmibnph4/kv67mlLkNCiAgICAgKi8KICAgIGJhdGNoU2V0OiBmdW5jdGlvbiBiYXRjaFNldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHVuaS5jb25maXJtKCfmibnph4/kv67mlLnmlbDmja7ml6Dms5XmjL3lm548YnIvPuehruWumuimgeaTjeS9nOWQlz8nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHEgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpcy5xdWVyeSwgX3RoaXMucXVlcnlfc2V0KTsKICAgICAgICBxW190aGlzLmZpZWxkXSA9IF90aGlzLnNlbGVjdHM7CiAgICAgICAgZGVsZXRlIHEucGFnZTsKICAgICAgICBkZWxldGUgcS5zaXplOwogICAgICAgIGRlbGV0ZSBxLm9yZGVyYnk7CgogICAgICAgIF90aGlzLnNldChfdGhpcy5mb3JtLCBxLCBmdW5jdGlvbiAoanNvbikgewogICAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICAgIF90aGlzLnNob3cgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzLmdldCgpOwogICAgICAgICAgfQogICAgICAgIH0sIHRydWUpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouWkmuadoeaVsOaNrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgZ2V0X2xpc3Q6IGZ1bmN0aW9uIGdldF9saXN0KHBhcmFtLCBmdW5jKSB7CiAgICAgIGlmICghcGFyYW0pIHsKICAgICAgICBwYXJhbSA9IHRoaXMucXVlcnk7CiAgICAgIH0KCiAgICAgIHZhciBwbSA9IHRoaXMuZXZlbnRzKCJnZXRfbGlzdF9iZWZvcmUiLCBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSkpIHx8IHBhcmFtOwogICAgICB2YXIgbXNnID0gdGhpcy5ldmVudHMoImdldF9saXN0X2NoZWNrIiwgcG0pOwogICAgICB2YXIgcmV0OwoKICAgICAgaWYgKCFtc2cpIHsKICAgICAgICByZXQgPSB0aGlzLmV2ZW50cygiZ2V0X2xpc3RfbWFpbiIsIHBtLCBmdW5jKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouS4gOadoeaVsOaNrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICAgKiBAZnVuYyB7RnVuY3Rpb259IOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgZ2V0X29iajogZnVuY3Rpb24gZ2V0X29iaihwYXJhbSwgZnVuYykgewogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLnF1ZXJ5OwogICAgICB9CgogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygiZ2V0X29ial9iZWZvcmUiLCBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSkpIHx8IHBhcmFtOwogICAgICB2YXIgbXNnID0gdGhpcy5ldmVudHMoImdldF9vYmpfY2hlY2siLCBwbSk7CiAgICAgIHZhciByZXQ7CgogICAgICBpZiAoIW1zZykgewogICAgICAgIHJldCA9IHRoaXMuZXZlbnRzKCJnZXRfb2JqX21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0gZWxzZSBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCiAgICBzb3J0OiBmdW5jdGlvbiBzb3J0KHBhcmFtLCBmdW5jKSB7CiAgICAgIHZhciBwbSA9IHRoaXMuZXZlbnRzKCJzb3J0X2JlZm9yZSIsIE9iamVjdC5hc3NpZ24oe30sIHBhcmFtKSkgfHwgcGFyYW07CiAgICAgIHZhciBtc2cgPSB0aGlzLmV2ZW50cygic29ydF9jaGVjayIsIHBtKTsKICAgICAgdmFyIHJldDsKCiAgICAgIGlmICghbXNnKSB7CiAgICAgICAgcmV0ID0gdGhpcy5ldmVudHMoInNvcnRfbWFpbiIsIHBtLCBmdW5jKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCgogICAgLyoqDQogICAgICog5Yid5aeL5YyWDQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIOWPguaVsA0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHBhcmFtLCBmdW5jKSB7CiAgICAgIHZhciBwbSA9IHRoaXMuZXZlbnRzKCJpbml0X2JlZm9yZSIsIE9iamVjdC5hc3NpZ24oe30sIHBhcmFtKSkgfHwgcGFyYW07CiAgICAgIHZhciBtc2cgPSB0aGlzLmV2ZW50cygiaW5pdF9jaGVjayIsIHBtKTsKICAgICAgdmFyIHJldDsKCiAgICAgIGlmICghbXNnKSB7CiAgICAgICAgcmV0ID0gdGhpcy5ldmVudHMoImluaXRfbWFpbiIsIHBtLCBmdW5jKTsKICAgICAgfSBlbHNlIGlmIChmdW5jKSB7CiAgICAgICAgZnVuYygpOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KHBhcmFtLCBmdW5jKSB7CiAgICAgIGlmICghcGFyYW0pIHsKICAgICAgICBwYXJhbSA9IHRoaXMuZm9ybTsKICAgICAgfQoKICAgICAgdmFyIHBtID0gdGhpcy5ldmVudHMoInN1Ym1pdF9iZWZvcmUiLCBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSkpIHx8IHBhcmFtOwogICAgICB2YXIgbXNnID0gdGhpcy5ldmVudHMoInN1Ym1pdF9jaGVjayIsIHBtKTsKICAgICAgdmFyIHJldDsKCiAgICAgIGlmIChtc2cpIHsKICAgICAgICB0aGlzLiR0b2FzdChtc2csICdkYW5nZXInKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXQgPSB0aGlzLmV2ZW50cygic3VibWl0X21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXQ7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOaPkOS6pOWJjeS6i+S7tg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSDmj5DkuqTlj4LmlbANCiAgICAgKi8KICAgIHN1Ym1pdF9iZWZvcmU6IGZ1bmN0aW9uIHN1Ym1pdF9iZWZvcmUocGFyYW0pIHsKICAgICAgcmV0dXJuIHBhcmFtOwogICAgfSwKICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKHBhcmFtLCBmdW5jKSB7CiAgICAgIHZhciBwbSA9IHRoaXMuZXZlbnRzKCJ1cGxvYWRfYmVmb3JlIiwgT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0pKSB8fCBwYXJhbTsKICAgICAgdmFyIG1zZyA9IHRoaXMuZXZlbnRzKCJ1cGxvYWRfY2hlY2siLCBwbSk7CiAgICAgIHZhciByZXQ7CgogICAgICBpZiAobXNnKSB7CiAgICAgICAgdGhpcy4kdG9hc3QobXNnLCAnZGFuZ2VyJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0ID0gdGhpcy5ldmVudHMoInVwbG9hZF9tYWluIiwgcG0sIGZ1bmMpOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5re75Yqg5pWw5o2uDQogICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIOimgea3u+WKoOeahOaVsOaNrg0KICAgICAqLwogICAgYWRkX21haW46IGZ1bmN0aW9uIGFkZF9tYWluKHZhbHVlLCBmdW5jKSB7CiAgICAgIHZhciB1cmwgPSB0aGlzLnVybCA/IHRoaXMudXJsICsgIm1ldGhvZD1hZGQiIDogdGhpcy51cmxfYWRkOwoKICAgICAgaWYgKCF1cmwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRwb3N0KHVybCwgdmFsdWUsIGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgX3RoaXMuZXZlbnRzKCJhZGRfYWZ0ZXIiLCBqc29uLCBmdW5jKTsKCiAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoanNvbi5yZXN1bHQudGlwLCBqc29uLnJlc3VsdC5ibCA/ICdzdWNjZXNzJyA6ICdkYW5nZXInKTsKICAgICAgICB9IGVsc2UgaWYgKGpzb24uZXJyb3IpIHsKICAgICAgICAgIF90aGlzLiR0b2FzdChqc29uLmVycm9yLm1lc3NhZ2UsICdkYW5nZXInKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHRvYXN0KCfmt7vliqDlpLHotKUhIOWOn+WboDrmmK/mnI3liqHlmajov57mjqXlpLHotKUhJywgImRhbmdlciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDliKDpmaTmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDliKDpmaTlm57osIPlh73mlbDlh73mlbANCiAgICAgKi8KICAgIGRlbF9tYWluOiBmdW5jdGlvbiBkZWxfbWFpbihxdWVyeSwgZnVuYykgewogICAgICB2YXIgdXJsID0gdGhpcy51cmwgPyB0aGlzLnVybCArICJtZXRob2Q9ZGVsIiA6IHRoaXMudXJsX2RlbDsKCiAgICAgIGlmICghdXJsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kZ2V0KHVybCwgcXVlcnksIGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgX3RoaXMuZXZlbnRzKCJkZWxfYWZ0ZXIiLCBqc29uLCBmdW5jKTsKCiAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoanNvbi5yZXN1bHQudGlwLCBqc29uLnJlc3VsdC5ibCA/ICdzdWNjZXNzJyA6ICdkYW5nZXInKTsKICAgICAgICB9IGVsc2UgaWYgKGpzb24uZXJyb3IpIHsKICAgICAgICAgIF90aGlzLiR0b2FzdChqc29uLmVycm9yLm1lc3NhZ2UsICdkYW5nZXInKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHRvYXN0KCfliKDpmaTlpLHotKUhIOWOn+WboDrmmK/mnI3liqHlmajov57mjqXlpLHotKUhJywgImRhbmdlciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIoOmZpOS5i+WQjuS6i+S7tg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIOi/lOWbnueahOe7k+aenA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgZGVsX2FmdGVyOiBmdW5jdGlvbiBkZWxfYWZ0ZXIoanNvbiwgZnVuYykgewogICAgICBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5L+u5pS55pWw5o2uDQogICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIOimgeS/ruaUueeahOaVsOaNrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSDkv67mlLnpobkNCiAgICAgKi8KICAgIHNldF9tYWluOiBmdW5jdGlvbiBzZXRfbWFpbih2YWx1ZSwgZnVuYykgewogICAgICB2YXIgdXJsID0gdGhpcy51cmwgPyB0aGlzLnVybCArICJtZXRob2Q9c2V0IiA6IHRoaXMudXJsX3NldDsKCiAgICAgIGlmICghdXJsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcG9zdCh0aGlzLnRvVXJsKHRoaXMucXVlcnlfc2V0LCB1cmwpLCB2YWx1ZSwgZnVuY3Rpb24gKGpzb24sIHN0YXR1cykgewogICAgICAgIF90aGlzLmV2ZW50cygic2V0X2FmdGVyIiwganNvbiwgZnVuYyk7CgogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgaWYgKGpzb24ucmVzdWx0LmJsKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy50aXBfc2hvdykgewogICAgICAgICAgICAgIF90aGlzLiR0b2FzdChqc29uLnJlc3VsdC50aXAucmVwbGFjZSgn5L+u5pS5JywgJ+abtOaWsCcpLCAic3VjY2VzcyIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kdG9hc3QoanNvbi5yZXN1bHQudGlwLnJlcGxhY2UoJ+S/ruaUuScsICfmm7TmlrAnKSwgImRhbmdlciIpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoanNvbi5lcnJvcikgewogICAgICAgICAgX3RoaXMuJHRvYXN0KGpzb24uZXJyb3IubWVzc2FnZSwgImRhbmdlciIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoJ+S/ruaUueWksei0pSEg5Y6f5ZugOuaYr+acjeWKoeWZqOi/nuaOpeWksei0pSEnLCAiZGFuZ2VyIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog5L+u5pS55oiQ5Yqf5pe25omn6KGMDQogICAgICogQHBhcmFtIHtPYmplY3R9IGpzb24g57uT5p6cDQogICAgICogQHBhcmFtIHtPYmplY3R9IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBzZXRfYWZ0ZXI6IGZ1bmN0aW9uIHNldF9hZnRlcihqc29uLCBmdW5jKSB7CiAgICAgIGlmIChmdW5jKSB7CiAgICAgICAgZnVuYyhqc29uKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5p+l6K+i5pWw5o2uDQogICAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouWPguaVsA0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBnZXQ6IGZ1bmN0aW9uIGdldChxdWVyeSwgZnVuYykgewogICAgICB0aGlzLmdldF9tYWluKHF1ZXJ5LCBmdW5jKTsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouaVsOaNrijkuLvnqIvluo8pDQogICAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouWPguaVsA0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBnZXRfbWFpbjogZnVuY3Rpb24gZ2V0X21haW4ocXVlcnksIGZ1bmMpIHsKICAgICAgdmFyIHVybCA9IHRoaXMudXJsX2dldF9vYmogPyB0aGlzLnVybF9nZXRfb2JqIDogdGhpcy51cmw7CgogICAgICBpZiAodXJsKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdGhpcy5nZXRfb2JqKHF1ZXJ5LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5nZXRfY3JlYXRlKHF1ZXJ5LCBmdW5jKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldF9jcmVhdGUocXVlcnksIGZ1bmMpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOmqjOivgeivt+axgg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSDor7fmsYLlj4LmlbANCiAgICAgKi8KICAgIGdldF9vYmpfY2hlY2s6IGZ1bmN0aW9uIGdldF9vYmpfY2hlY2socGFyYW0pIHsKICAgICAgdmFyIGJsID0gZmFsc2U7CgogICAgICBmb3IgKHZhciBrIGluIHBhcmFtKSB7CiAgICAgICAgaWYgKHBhcmFtW2tdKSB7CiAgICAgICAgICBibCA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIDsKICAgICAgfQoKICAgICAgaWYgKGJsKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICLnvLrlsJHmn6Xor6LmnaHku7YiOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDmn6Xor6LkuIDmnaHmlbDmja4o5Li756iL5bqPKQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgZ2V0X29ial9tYWluOiBmdW5jdGlvbiBnZXRfb2JqX21haW4ocXVlcnksIGZ1bmMpIHsKICAgICAgLy8gY29uc29sZS5sb2coImdldF9vYmpfbWFpbiIpOwogICAgICB2YXIgdXJsID0gdGhpcy51cmxfZ2V0X29iaiA/IHRoaXMudXJsX2dldF9vYmogOiB0aGlzLnVybCArICJtZXRob2Q9Z2V0X29iaiI7CgogICAgICBpZiAoIXVybCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGdldCh0aGlzLnRvVXJsKHF1ZXJ5LCB1cmwpLCBudWxsLCBmdW5jdGlvbiAoanNvbiwgc3RhdHVzKSB7CiAgICAgICAgX3RoaXMuZXZlbnRzKCJnZXRfb2JqX2FmdGVyIiwganNvbiwgZnVuYyk7CgogICAgICAgIHZhciByZXMgPSBqc29uLnJlc3VsdDsKCiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgdmFyIG9iajsKCiAgICAgICAgICBpZiAocmVzLm9iaikgewogICAgICAgICAgICBvYmogPSByZXMub2JqOwogICAgICAgICAgICBkZWxldGUgcmVzLm9iajsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBsaXN0ID0gcmVzLmxpc3Q7CgogICAgICAgICAgICBpZiAobGlzdCAmJiBsaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBvYmogPSBsaXN0WzBdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG9iaiA9IHJlczsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHVuaS5wdXNoKF90aGlzLCByZXMsIHRydWUpOwoKICAgICAgICAgIGlmIChvYmopIHsKICAgICAgICAgICAgaWYgKCFfdGhpcy5vYmogfHwgT2JqZWN0LmtleXMoX3RoaXMub2JqKS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICBfdGhpcy5vYmogPSBvYmo7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdW5pLnB1c2goX3RoaXMub2JqLCBvYmopOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgbyA9IF90aGlzLm9iajsKCiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gbykgewogICAgICAgICAgICAgIGlmIChrLmluZGV4T2YoJ3RpbWUnKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgIHZhciB2YWwgPSBvW2tdOwoKICAgICAgICAgICAgICAgIGlmICh2YWwgJiYgdmFsLmluZGV4T2YoJ1QnKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgdmFyIHYgPSBuZXcgRGF0ZShvW2tdKTsKICAgICAgICAgICAgICAgICAgb1trXSA9IHYudG9TdHIoJ3l5eXktTU0tZGQgaGg6bW06c3MnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghX3RoaXMuZm9ybSB8fCBPYmplY3Qua2V5cyhfdGhpcy5mb3JtKS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICBfdGhpcy5mb3JtID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMub2JqKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB1bmkucHVzaChfdGhpcy5mb3JtLCBPYmplY3QuYXNzaWduKHt9LCBfdGhpcy5vYmopKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoanNvbi5lcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coanNvbi5lcnJvci5tZXNzYWdlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHRvYXN0KCLmnI3liqHlmajov57mjqXlpLHotKXvvIEiLCAiZGFuZ2VyIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOiOt+WPluWIsOWvueixoeWQjuS6i+S7tg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIOWTjeW6lOe7k+aenA0KICAgICAqLwogICAgZ2V0X29ial9hZnRlcjogZnVuY3Rpb24gZ2V0X29ial9hZnRlcihqc29uLCBmdW5jKSB7CiAgICAgIGlmIChmdW5jKSB7CiAgICAgICAgZnVuYyhqc29uKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5p+l6K+i5aSa5p2h5pWw5o2uKOS4u+eoi+W6jykNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIGdldF9saXN0X21haW46IGZ1bmN0aW9uIGdldF9saXN0X21haW4ocXVlcnksIGZ1bmMpIHsKICAgICAgdmFyIHVybCA9IHRoaXMudXJsX2dldF9saXN0ID8gdGhpcy51cmxfZ2V0X2xpc3QgOiB0aGlzLnVybDsKCiAgICAgIGlmICghdXJsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gMDsKICAgICAgdGhpcy4kZ2V0KHRoaXMudG9VcmwocXVlcnksIHVybCksIG51bGwsIGZ1bmN0aW9uIChqc29uLCBzdGF0dXMpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gMTAwOwoKICAgICAgICBpZiAoX3RoaXMuY2xlYXJfbGlzdCkgewogICAgICAgICAgX3RoaXMubGlzdC5jbGVhcigpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuZXZlbnRzKCJnZXRfbGlzdF9hZnRlciIsIGpzb24sIGZ1bmMsIHVybCk7CgogICAgICAgIHZhciByZXMgPSBqc29uLnJlc3VsdDsKCiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgX3RoaXMucGFnZV9ub3cgPSBfdGhpcy5xdWVyeS5wYWdlOwoKICAgICAgICAgIF90aGlzLmxpc3QuYWRkTGlzdChyZXMubGlzdCk7CgogICAgICAgICAgaWYgKHJlcy5jb3VudCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIF90aGlzLmNvdW50ID0gcmVzLmNvdW50OwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoanNvbi5lcnJvcikgewogICAgICAgICAgLy8g6Z2e5rOV6K6/6Zeu5oiW5pyq55m75b2VCiAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzaWduX291dCcpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKGpzb24uZXJyb3IubWVzc2FnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiR0b2FzdCgi5pyN5Yqh5Zmo6L+e5o6l5aSx6LSl77yBIiwgImRhbmdlciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDojrflj5bliLDliJfooajkuovku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzIOWTjeW6lOe7k+aenA0KICAgICAqLwogICAgZ2V0X2xpc3RfYWZ0ZXI6IGZ1bmN0aW9uIGdldF9saXN0X2FmdGVyKHJlcywgZnVuYywgdXJsKSB7CiAgICAgIGlmIChmdW5jKSB7CiAgICAgICAgZnVuYyhyZXMsIHVybCk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICog5pCc57SiDQogICAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYmwg5piv5ZCm6YeN572u5YaN5pCc57SiDQogICAgICovCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaChxdWVyeSwgZnVuYykgewogICAgICBpZiAocXVlcnkpIHsKICAgICAgICB1bmkucHVzaCh0aGlzLnF1ZXJ5LCBxdWVyeSk7CiAgICAgIH0KCiAgICAgIHZhciB1cmwgPSB0aGlzLnVybF9nZXRfbGlzdCA/IHRoaXMudXJsX2dldF9saXN0IDogdGhpcy51cmw7CgogICAgICBpZiAodXJsKSB7CiAgICAgICAgdGhpcy5xdWVyeS5wYWdlID0gMTsKICAgICAgICB0aGlzLmNvdW50ID0gMDsKICAgICAgICB1bmkucm91dGUucHVzaCgiPyIgKyB0aGlzLnRvVXJsKHRoaXMucXVlcnkpKTsKICAgICAgICB0aGlzLmZpcnN0KHF1ZXJ5LCBmdW5jKTsKICAgICAgfQogICAgfSwKICAgIGdldF9jcmVhdGU6IGZ1bmN0aW9uIGdldF9jcmVhdGUocXVlcnksIGZ1bmMpIHsKICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgdW5pLnB1c2godGhpcy5xdWVyeSwgcXVlcnkpOwogICAgICB9CgogICAgICB2YXIgdXJsID0gdGhpcy51cmxfZ2V0X2xpc3QgPyB0aGlzLnVybF9nZXRfbGlzdCA6IHRoaXMudXJsOwoKICAgICAgaWYgKHVybCkgewogICAgICAgIHRoaXMuY291bnQgPSAwOyAvLyB1bmkucm91dGUucHVzaCgiPyIgKyB0aGlzLnRvVXJsKHRoaXMucXVlcnkpKTsKCiAgICAgICAgdGhpcy5maXJzdChxdWVyeSwgZnVuYyk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouWkmuadoeaVsOaNriAo6aaW5qyhKQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgZmlyc3Q6IGZ1bmN0aW9uIGZpcnN0KHF1ZXJ5LCBmdW5jKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuY291bnQpIHsKICAgICAgICB2YXIgcXkgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnF1ZXJ5KTsKICAgICAgICB0aGlzLmdldF9saXN0KHF5LCBmdW5jKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldF9saXN0KHF1ZXJ5LCBmdW5jKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5p+l6K+i5LiL5LiA6aG15pWw5o2uDQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQocXVlcnksIGZ1bmMpIHsKICAgICAgY29uc29sZS5sb2coIm5leHQiKTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfdGhpcy5nZXRfbGlzdChxdWVyeSwgZnVuY3Rpb24gKGpzb24sIHVybCkgewogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgdmFyIGxpc3QgPSBqc29uLnJlc3VsdC5saXN0OwoKICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIHF5ID0gT2JqZWN0LmFzc2lnbih7fSwgcXVlcnksIHsKICAgICAgICAgICAgICBwYWdlOiBxdWVyeS5wYWdlICsgMQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChxeS5wYWdlIDw9IF90aGlzLnBhZ2VfY291bnQpIHsKICAgICAgICAgICAgICBkZWxldGUgcXkuY291bnRfcmV0OwoKICAgICAgICAgICAgICBfdGhpcy4kZ2V0KF90aGlzLnRvVXJsKHF5LCB1cmwpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICAgIGZ1bmMoanNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouS4iuS4gOmhteaVsOaNrg0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KHF1ZXJ5LCBmdW5jKSB7CiAgICAgIGNvbnNvbGUubG9nKCJwcmV2Iik7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5nZXRfbGlzdChxdWVyeSwgZnVuY3Rpb24gKGpzb24sIHVybCkgewogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgdmFyIGxpc3QgPSBqc29uLnJlc3VsdC5saXN0OwoKICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIHF5ID0gT2JqZWN0LmFzc2lnbih7fSwgcXVlcnksIHsKICAgICAgICAgICAgICBwYWdlOiBxdWVyeS5wYWdlIC0gMQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChxeS5wYWdlID49IDEpIHsKICAgICAgICAgICAgICBkZWxldGUgcXkuY291bnRfcmV0OwoKICAgICAgICAgICAgICBfdGhpcy4kZ2V0KF90aGlzLnRvVXJsKHF5LCB1cmwpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICAgIGZ1bmMocmVzKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmuIXpmaTmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkNCiAgICAgKi8KICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcihxdWVyeSkgewogICAgICB1bmkuY2xlYXIocXVlcnkpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDph43nva4NCiAgICAgKi8KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdW5pLmNsZWFyKHRoaXMucXVlcnkpOwogICAgICB1bmkucHVzaCh0aGlzLnF1ZXJ5LCB0aGlzLmNvbmZpZyk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOaPkOS6pOihqOWNlQ0KICAgICAqLwogICAgc3VibWl0X21haW46IGZ1bmN0aW9uIHN1Ym1pdF9tYWluKHBhcmFtLCBmdW5jKSB7CiAgICAgIHZhciB1cmwgPSB0aGlzLnVybDsKCiAgICAgIGlmICh1cmwpIHsKICAgICAgICBpZiAodGhpcy5maWVsZCkgewogICAgICAgICAgdmFyIGlkID0gcGFyYW1bdGhpcy5maWVsZF07CgogICAgICAgICAgaWYgKGlkKSB7CiAgICAgICAgICAgIHZhciBxID0gewogICAgICAgICAgICAgIG1ldGhvZDogJ3NldCcKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcVt0aGlzLmZpZWxkXSA9IGlkOwogICAgICAgICAgICB1cmwgPSB0aGlzLnRvVXJsKHEsIHVybCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1cmwgKz0gIm1ldGhvZD1hZGQiOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB1cmwgKz0gIm1ldGhvZD1zdWJtaXQiOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0aGlzLnVybF9zdWJtaXQpIHsKICAgICAgICB1cmwgPSB0aGlzLnVybF9zdWJtaXQ7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5maWVsZCkgewogICAgICAgIHZhciBpZCA9IHBhcmFtW3RoaXMuZmllbGRdOwoKICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgIHVybCA9IHRoaXMudXJsX3NldDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdXJsID0gdGhpcy51cmxfYWRkOwogICAgICAgIH0KICAgICAgfSAvLyBjb25zb2xlLmxvZygn5o+Q5LqkJywgdXJsKTsKCgogICAgICBpZiAodXJsKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdGhpcy4kcG9zdCh0aGlzLiR0b1VybCh0aGlzLnF1ZXJ5LCB1cmwpLCBwYXJhbSwgZnVuY3Rpb24gKGpzb24sIHN0YXR1cykgewogICAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICAgIF90aGlzLiR0b2FzdChqc29uLnJlc3VsdC50aXAsIGpzb24ucmVzdWx0LmJsID8gJ3N1Y2Nlc3MnIDogJ2RhbmdlcicpOwoKICAgICAgICAgICAgX3RoaXMuZXZlbnRzKCJzdWJtaXRfYWZ0ZXIiLCBqc29uLCBmdW5jKTsKICAgICAgICAgIH0gZWxzZSBpZiAoanNvbi5lcnJvcikgewogICAgICAgICAgICBfdGhpcy4kdG9hc3QoanNvbi5lcnJvci5tZXNzYWdlLCAnZGFuZ2VyJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kdG9hc3QoIuacjeWKoeWZqOi/nuaOpeWksei0pe+8gSIsICJkYW5nZXIiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDmj5DkuqTliY3pqozor4Hkuovku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0g6K+35rGC5Y+C5pWwDQogICAgICogQHJldHVybiB7U3RyaW5nfSDpqozor4HmiJDlip/ov5Tlm55udWxsLCDlpLHotKXov5Tlm57plJnor6/mj5DnpLoNCiAgICAgKi8KICAgIHN1Ym1pdF9jaGVjazogZnVuY3Rpb24gc3VibWl0X2NoZWNrKHBhcmFtKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g6I635Y+W5Yiw5a+56LGh5ZCO5LqL5Lu2DQogICAgICogQHBhcmFtIHtPYmplY3R9IGpzb24g5ZON5bqU57uT5p6cDQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIHN1Ym1pdF9hZnRlcjogZnVuY3Rpb24gc3VibWl0X2FmdGVyKGpzb24sIGZ1bmMpIHsKICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICBmdW5jKGpzb24pOwogICAgICB9CgogICAgICB1bmkubmF2aWdhdGVCYWNrKHsKICAgICAgICBkZWx0YTogMgogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog5LiK5LiL57+76aG1DQogICAgICogQHBhcmFtIHtOdW1iZXJ9IG4g5Yqg5YeP6aG156CBDQogICAgICovCiAgICBnbzogZnVuY3Rpb24gZ28obikgewogICAgICB2YXIgcGFnZSA9IHRoaXMucXVlcnkucGFnZSArIG47CiAgICAgIHRoaXMuZ29UbyhwYWdlKTsKICAgIH0sCgogICAgLyoqDQogICAgICog6Lez6L2s5oyH5a6a6aG1DQogICAgICogQHBhcmFtIHtOdW1iZXJ9IHBhZ2Ug6aG156CBDQogICAgICovCiAgICBnb1RvOiBmdW5jdGlvbiBnb1RvKHBhZ2UpIHsKICAgICAgaWYgKHBhZ2UgPCAxKSB7CiAgICAgICAgcGFnZSA9IDE7CiAgICAgIH0gZWxzZSBpZiAocGFnZSA+IHRoaXMucGFnZV9jb3VudCkgewogICAgICAgIHBhZ2UgPSB0aGlzLnBhZ2VfY291bnQ7CiAgICAgIH0KCiAgICAgIHZhciBxdWVyeSA9IHRoaXMucXVlcnk7CiAgICAgIHZhciBwID0gcXVlcnkucGFnZTsKICAgICAgcXVlcnkucGFnZSA9IHBhZ2U7CiAgICAgIHVuaS5uYXZpZ2F0ZVRvKHsKICAgICAgICB1cmw6ICI/IiArIHRoaXMudG9VcmwocXVlcnkpCiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMucGFnZV9jb3VudCAhPT0gMCkgewogICAgICAgIGlmIChwICsgMSA9PSBwYWdlKSB7CiAgICAgICAgICB0aGlzLm5leHQocXVlcnkpOwogICAgICAgIH0gZWxzZSBpZiAocCAtIDEgPT0gcGFnZSkgewogICAgICAgICAgdGhpcy5wcmV2KHF1ZXJ5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5maXJzdChxdWVyeSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlyc3QocXVlcnkpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDovazmn6Xor6Llj4LmlbANCiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIOiiq+i9rOaNoueahOWvueixoQ0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwg6K+35rGC5Zyw5Z2ADQogICAgICogQHJldHVybiB7U3RyaW5nfSB1cmzlrZfnrKbkuLINCiAgICAgKi8KICAgIHRvVXJsOiBmdW5jdGlvbiB0b1VybChvYmosIHVybCkgewogICAgICByZXR1cm4gdW5pLnRvVXJsKG9iaiwgdXJsKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Yid5aeL5YyW5YmN5Ye95pWwDQogICAgICovCiAgICBpbml0X2JlZm9yZTogZnVuY3Rpb24gaW5pdF9iZWZvcmUocXVlcnkpIHsKICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgIHF1ZXJ5ID0gdGhpcy5jb25maWc7CiAgICAgIH0KCiAgICAgIHJldHVybiBxdWVyeTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Yid5aeL5YyWDQogICAgICovCiAgICBpbml0X21haW46IGZ1bmN0aW9uIGluaXRfbWFpbihxdWVyeSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdW5pLnB1c2godGhpcy5xdWVyeSwgcXVlcnkpOwoKICAgICAgX3RoaXMuaW5pdF9hZnRlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuZ2V0KF90aGlzLnF1ZXJ5KTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIneWni+WMluWQjuWHveaVsA0KICAgICAqLwogICAgaW5pdF9hZnRlcjogZnVuY3Rpb24gaW5pdF9hZnRlcihmdW5jKSB7CiAgICAgIGlmIChmdW5jKSB7CiAgICAgICAgZnVuYygpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDkuIrkvKDmlofku7YNCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgdXBsb2FkX21haW46IGZ1bmN0aW9uIHVwbG9hZF9tYWluKGZ1bmMpIHsKICAgICAgdmFyIHVybCA9ICIiOwoKICAgICAgaWYgKHRoaXMudXJsKSB7CiAgICAgICAgdXJsID0gdGhpcy51cmwgKyAibWV0aG9kPXVwbG9hZCI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXJsID0gdGhpcy51cmxfdXBsb2FkOwogICAgICB9CgogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLmZvcm07CiAgICAgIH0KCiAgICAgIGlmIChtc2cpIHsKICAgICAgICB0aGlzLiR0b2FzdChtc2csICdkYW5nZXInKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVwbG9hZGluZyA9IDA7CgogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHRoaXMuJHVwbG9hZCh1cmwsIHBhcmFtLCBmdW5jdGlvbiAoanNvbiwgc3RhdHVzKSB7CiAgICAgICAgICBfdGhpcy51cGxvYWRpbmcgPSAxMDA7CgogICAgICAgICAgX3RoaXMuZXZlbnRzKCJ1cGxvYWRfYWZ0ZXIiLCBqc29uLCBmdW5jKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5LiK5Lyg5a6M5oiQ5pe2DQogICAgICogQHBhcmFtIHtPYmplY3R9IGpzb24g5ZON5bqU57uT5p6cDQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYw0KICAgICAqLwogICAgdXBsb2FkX2FmdGVyOiBmdW5jdGlvbiB1cGxvYWRfYWZ0ZXIoanNvbiwgZnVuYykgewogICAgICBpZiAoanNvbi5yZXN1bHQpIHsKICAgICAgICB0aGlzLiR0b2FzdChqc29uLnJlc3VsdC50aXAsIGpzb24ucmVzdWx0LmJsID8gJ3N1Y2Nlc3MnIDogJ2RhbmdlcicpOwogICAgICB9IGVsc2UgaWYgKGpzb24uZXJyb3IpIHsKICAgICAgICB0aGlzLiR0b2FzdChqc29uLmVycm9yLm1lc3NhZ2UsICdkYW5nZXInKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdCgi5pyN5Yqh5Zmo6L+e5o6l5aSx6LSl77yBIiwgImRhbmdlciIpOwogICAgICB9CgogICAgICBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDnu5PmnZ/liY0NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g5Y+C5pWwDQogICAgICovCiAgICBlbmRfYmVmb3JlOiBmdW5jdGlvbiBlbmRfYmVmb3JlKHBhcmFtKSB7Ly8gdGhpcy5yZXNldCgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDpgInmi6npobnlhajmlLkNCiAgICAgKi8KICAgIHNlbGVjdF9hbGw6IGZ1bmN0aW9uIHNlbGVjdF9hbGwoKSB7CiAgICAgIHZhciBibCA9ICF0aGlzLnNlbGVjdF9zdGF0ZTsKCiAgICAgIGlmICghYmwpIHsKICAgICAgICB0aGlzLnNlbGVjdHMgPSAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcyA9ICcnOwogICAgICAgIHZhciBsaXN0ID0gdGhpcy5saXN0OwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHMgKz0gJ3wnICsgbGlzdFtpXVt0aGlzLmZpZWxkXTsKICAgICAgICB9CgogICAgICAgIHRoaXMuc2VsZWN0cyA9IHMucmVwbGFjZSgnfCcsICcnKTsKICAgICAgfQoKICAgICAgdGhpcy5zZWxlY3Rfc3RhdGUgPSBibDsKICAgIH0sCgogICAgLyoqDQogICAgICog6YCJ5oup6aG55pS55Y+YDQogICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBpZCDpgInmi6nnmoRJRA0KICAgICAqLwogICAgc2VsZWN0X2NoYW5nZTogZnVuY3Rpb24gc2VsZWN0X2NoYW5nZShpZCkgewogICAgICB2YXIgaGFzID0gZmFsc2U7CiAgICAgIHZhciBhcnIgPSB0aGlzLnNlbGVjdHMuc3BsaXQoJ3wnKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG8gPSBhcnJbaV07CgogICAgICAgIGlmIChpZCA9PSBvKSB7CiAgICAgICAgICBhcnIuc3BsaWNlKGksIDEpOwogICAgICAgICAgaGFzID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKCFoYXMpIHsKICAgICAgICBhcnIucHVzaChpZCk7CiAgICAgIH0KCiAgICAgIHZhciBzID0gYXJyLmpvaW4oJ3wnKTsKCiAgICAgIGlmIChzLmluZGV4T2YoJ3wnKSA9PSAwKSB7CiAgICAgICAgdGhpcy5zZWxlY3RzID0gcy5zdWJzdHJpbmcoMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RzID0gczsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDpgInmi6npobnlkKvmnIkNCiAgICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGlkIOmAieaLqeeahElEDQogICAgICovCiAgICBzZWxlY3RfaGFzOiBmdW5jdGlvbiBzZWxlY3RfaGFzKGlkKSB7CiAgICAgIHZhciBpZHMgPSAnfCcgKyB0aGlzLnNlbGVjdHMgKyAnfCc7CiAgICAgIHJldHVybiBpZHMuaW5kZXhPZignfCcgKyBpZCArICd8JykgIT09IC0xOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDpgInkuK0NCiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXgg6aG555uu57Si5byVDQogICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiDpgInkuK3nmoTlr7nosaENCiAgICAgKi8KICAgIHNlbGVjdGVkOiBmdW5jdGlvbiBzZWxlY3RlZChpbmRleCwgb2JqKSB7CiAgICAgIHRoaXMuc2VsZWN0ID0gaW5kZXg7CgogICAgICBpZiAodGhpcy5vYmogJiBvYmopIHsKICAgICAgICB1bmkucHVzaCh0aGlzLm9iaiwgb2JqKTsKICAgICAgfQoKICAgICAgdW5pLmRiLnNldCgnc2VsZWN0JywgaW5kZXgsIDEyMCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOmhtemdouaUueWPmOaXtg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlIOS6i+S7tg0KICAgICAqLwogICAgcGFnZV9jaGFuZ2U6IGZ1bmN0aW9uIHBhZ2VfY2hhbmdlKGUpIHsKICAgICAgdmFyIG4gPSBOdW1iZXIoZS50YXJnZXQudmFsdWUpOwoKICAgICAgaWYgKGlzTmFOKG4pKSB7CiAgICAgICAgbiA9IDE7CiAgICAgIH0KCiAgICAgIGlmIChuIDwgMSkgewogICAgICAgIG4gPSAxOwogICAgICB9IGVsc2UgaWYgKG4gPiB0aGlzLnBhZ2VfY291bnQpIHsKICAgICAgICBuID0gdGhpcy5wYWdlX2NvdW50OwogICAgICB9CgogICAgICB0aGlzLnBhZ2Vfbm93ID0gbjsKICAgIH0sCgogICAgLyoqDQogICAgICog6I635Y+W5ZCN56ewDQogICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCDnlKjmnaXlj5blkI3nmoTliJfooagNCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXJyX3N0ciBpZOmbhuWQiA0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg6ZSuDQogICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUg5ZCNDQogICAgICogQHBhcmFtIHtTdHJpbmd9IHNwYW4g5YiG6ZqU56ymDQogICAgICovCiAgICBnZXRfbmFtZTogZnVuY3Rpb24gZ2V0X25hbWUobGlzdCwgYXJyX3N0ciwga2V5LCBuYW1lLCBzcGFuKSB7CiAgICAgIGlmICghbmFtZSkgewogICAgICAgIG5hbWUgPSAibmFtZSI7CiAgICAgIH0KCiAgICAgIHZhciB2YWx1ZSA9ICIiOwoKICAgICAgaWYgKGFycl9zdHIpIHsKICAgICAgICBpZiAodHlwZW9mIGFycl9zdHIgPT0gJ3N0cmluZycpIHsKICAgICAgICAgIGlmICghc3BhbikgewogICAgICAgICAgICBzcGFuID0gJywnOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBhcnIgPSBhcnJfc3RyLnNwbGl0KHNwYW4pOwogICAgICAgICAgdmFyIGlkID0gTnVtYmVyKGFyclswXSk7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBvID0gbGlzdFtpXTsKCiAgICAgICAgICAgIGlmIChvW2tleV0gPT0gaWQpIHsKICAgICAgICAgICAgICB2YWx1ZSArPSAnfCcgKyBvW25hbWVdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBpZCA9IGFycl9zdHI7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBvID0gbGlzdFtpXTsKCiAgICAgICAgICAgIGlmIChvW2tleV0gPT0gaWQpIHsKICAgICAgICAgICAgICB2YWx1ZSA9IG9bbmFtZV07CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKCd8JywgJycpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDlj5bmtojlubbov5Tlm54NCiAgICAgKi8KICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB1bmkubmF2aWdhdGVCYWNrKHsKICAgICAgICBkZWx0YTogMgogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog5a+85YWl5pWw5o2uDQogICAgICogQHBhcmFtIHtPYmplY3R9IGZpbGUg5paH5Lu2DQogICAgICovCiAgICBpbXBvcnRfZGI6IGZ1bmN0aW9uIGltcG9ydF9kYihmaWxlKSB7CiAgICAgIGlmIChmaWxlKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdW5pLmNvbmZpcm0oIuaYr+WQpuWvvOWFpSAiICsgZmlsZS5uYW1lLCAi5a+85YWl5pWw5o2uIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdW5pLmh0dHAudXBsb2FkKF90aGlzLnVybF9pbXBvcnQsIGZpbGUsIGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgICAgIHVuaS5jb25maXJtKGpzb24ucmVzdWx0LnRpcCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMuZ2V0KCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoanNvbi5lcnJvcikgewogICAgICAgICAgICAgIHVuaS5jb25maXJtKGpzb24uZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMuJHRvYXN0KCLmnI3liqHlmajov57mjqXlpLHotKXvvIEiLCAiZGFuZ2VyIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWvvOWHuuaVsOaNrg0KICAgICAqLwogICAgZXhwb3J0X2RiOiBmdW5jdGlvbiBleHBvcnRfZGIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5zZWxlY3RzKSB7CiAgICAgICAgdmFyIHF1ZXJ5ID0ge307CiAgICAgICAgcXVlcnlbdGhpcy5maWVsZF0gPSB0aGlzLnNlbGVjdHM7CiAgICAgICAgdGhpcy4kZ2V0KF90aGlzLnVybF9leHBvcnQsIHF1ZXJ5LCBmdW5jdGlvbiAoanNvbikgewogICAgICAgICAgdmFyIHJlcyA9IGpzb24ucmVzdWx0OwoKICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmJsKSB7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzLnVybDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRnZXQoX3RoaXMudXJsX2V4cG9ydCwgdGhpcy5xdWVyeSwgZnVuY3Rpb24gKGpzb24pIHsKICAgICAgICAgIHZhciByZXMgPSBqc29uLnJlc3VsdDsKCiAgICAgICAgICBpZiAocmVzICYmIHJlcy5ibCkgewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlcy51cmw7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICog5Yik5pat5piv5ZCm5pyJ5LiL57qnDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIOWtl+autUlEDQogICAgICogQHBhcmFtIHtPYmplY3R9IGxpc3Qg5pWw5o2u5YiX6KGoDQogICAgICogQHJldHVybiB7TnVtYmVyfSDov5Tlm57nuqfliKsNCiAgICAgKi8KICAgIG9wZW5zX2hhc19zdWI6IGZ1bmN0aW9uIG9wZW5zX2hhc19zdWIoaWQsIGxpc3QpIHsKICAgICAgaWYgKCFsaXN0KSB7CiAgICAgICAgbGlzdCA9IHRoaXMubGlzdDsKICAgICAgfQoKICAgICAgdmFyIGJsID0gZmFsc2U7CiAgICAgIHZhciBmYXRoZXJfaWQgPSB0aGlzLmZhdGhlcl9pZDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBvID0gbGlzdFtpXTsKCiAgICAgICAgaWYgKG9bZmF0aGVyX2lkXSA9PT0gaWQpIHsKICAgICAgICAgIGJsID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGJsOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmlLnlj5jlsZXlvIDpobkNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gaWQg5ZSv5LiA5Li76ZSuDQogICAgICovCiAgICBvcGVuc19jaGFuZ2U6IGZ1bmN0aW9uIG9wZW5zX2NoYW5nZShpZCkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLm9wZW5zLmluZGV4T2YoaWQpOwoKICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgIHRoaXMub3BlbnMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgYmwgPSB0aGlzLm9wZW5zX2hhc19zdWIoaWQpOwoKICAgICAgICBpZiAoYmwpIHsKICAgICAgICAgIHRoaXMub3BlbnMucHVzaChpZCk7CiAgICAgICAgfQogICAgICB9CgogICAgICB1bmkuZGIuc2V0KCdvcGVucycsIHRoaXMub3BlbnMpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliKTmlq3mmK/lkKblrZjlnKgNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gaWQg5ZSv5LiA5Li76ZSuDQogICAgICogQHJldHVybiB7Qm9vbGVhbn0g5a2Y5Zyo6L+U5ZuedHJ1ZSwg5ZCm5YiZ6L+U5ZueZmFsc2UNCiAgICAgKi8KICAgIG9wZW5zX2hhczogZnVuY3Rpb24gb3BlbnNfaGFzKGlkKSB7CiAgICAgIHJldHVybiB0aGlzLm9wZW5zLmluZGV4T2YoaWQpICE9PSAtMTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Yik5pat5a2Q5a2Z57qn5YirLCDmnIDlpKfmlK/mjIE15qyh5YiG5Y+JDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IGZpZCDnpZbovohJRA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsaXN0IOaVsOaNruWIl+ihqA0KICAgICAqIEByZXR1cm4ge051bWJlcn0g6L+U5Zue57qn5YirDQogICAgICovCiAgICBvcGVuc19sdjogZnVuY3Rpb24gb3BlbnNfbHYoZmlkLCBsaXN0KSB7CiAgICAgIGlmICghbGlzdCkgewogICAgICAgIGxpc3QgPSB0aGlzLmxpc3Q7CiAgICAgIH0KCiAgICAgIHZhciBsdiA9IDA7CiAgICAgIHZhciBmYXRoZXJfaWQgPSB0aGlzLmZhdGhlcl9pZDsKICAgICAgdmFyIGlkID0gdGhpcy5maWVsZDsKICAgICAgdmFyIG51bSA9IGZpZDsKCiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgNTsgbisrKSB7CiAgICAgICAgaWYgKG51bSA9PT0gMCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBvID0gbGlzdFtpXTsKCiAgICAgICAgICBpZiAob1tpZF0gPT09IG51bSkgewogICAgICAgICAgICBsdisrOwogICAgICAgICAgICBudW0gPSBvW2ZhdGhlcl9pZF07CgogICAgICAgICAgICBpZiAobnVtID09PSAwKSB7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBsdjsKICAgIH0sCiAgICBzZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIHNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5zZWxlY3Rpb24gPSB2YWw7CiAgICB9LAogICAgc2VsZWN0X3RwbF9ob21lOiBmdW5jdGlvbiBzZWxlY3RfdHBsX2hvbWUoKSB7fSwKICAgIHNlbGVjdF90cGxfYWRtaW46IGZ1bmN0aW9uIHNlbGVjdF90cGxfYWRtaW4oKSB7fSwKCiAgICAvKioNCiAgICAgKiDkuIrkvKDmlofku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gZmlsZSDmlofku7blr7nosaENCiAgICAgKiBAcGFyYW0ge2tleX0g5L+d5a2Y6ZSu5ZCNDQogICAgICovCiAgICB1cGxvYWRGaWxlOiBmdW5jdGlvbiB1cGxvYWRGaWxlKGZpbGUpIHsKICAgICAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogImltZyI7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKTsgLy8gRm9ybURhdGEg5a+56LGhCgogICAgICBmb3JtLmFwcGVuZCgnZmlsZScsIGZpbGUpOyAvLyDmlofku7blr7nosaEKCiAgICAgIHRoaXMuJHVwbG9hZCh0aGlzLnVybF91cGxvYWQsIGZvcm0sIGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICAvLyBfdGhpcy5mb3JtW2tleV0gPSBqc29uLnJlc3VsdC51cmw7CiAgICAgICAgICBfdGhpcy4kZGVsZXRlKF90aGlzLmZvcm0sIGtleSk7CgogICAgICAgICAgX3RoaXMuJHNldChfdGhpcy5mb3JtLCBrZXksIGpzb24ucmVzdWx0LnVybCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiR0b2FzdCgn5LiK5Lyg5aSx6LSl77yBJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAvKioNCiAgICAgKiDliIbpobXmlbDph48NCiAgICAgKi8KICAgIHBhZ2VfY291bnQ6IGZ1bmN0aW9uIHBhZ2VfY291bnQoKSB7CiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5jb3VudCAvIHRoaXMucXVlcnkuc2l6ZSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIl+aVsA0KICAgICAqLwogICAgY29sczogZnVuY3Rpb24gY29scygpIHsKICAgICAgcmV0dXJuIHRoaXMuY29sID8gImxpc3QtIiArIHRoaXMuY29sIDogIiI7CiAgICB9CiAgfSwKICBvbkxvYWQ6IGZ1bmN0aW9uIG9uTG9hZChxdWVyeSkgewogICAgdGhpcy5pbml0KHF1ZXJ5KTsKICAgIHRoaXMuc2hvd2luZyA9IDA7CiAgfSwKICBvblNob3c6IGZ1bmN0aW9uIG9uU2hvdygpIHsKICAgIHRoaXMuc2hvd2luZyA9IDEwMDsKICB9LAogIG9uVW5sb2FkOiBmdW5jdGlvbiBvblVubG9hZCgpIHsKICAgIHRoaXMuZXZlbnRzKCdlbmRfYmVmb3JlJyk7CiAgfQp9Ow=="},{"version":3,"sources":["D:/WorkSpace/localCode/CS211180/client_admin/src/mixins/component.js"],"names":["props","func","type","Function","name","param1","param2","param3","query","Object","page","size","list","Array","col","Number","vm","id","fid","username","user_id","img","icon","title","sub","description","keywords","image","content","time","create_time","url","mode","source","source_url","label","value","tip","hot","price_ago","price","total","num_comment","num_praise","num_see","count","num","author","collect","tag","css","String","func_lang","data","url_add","url_del","url_set","url_get_obj","url_get_list","url_submit","url_upload","url_import","url_export","config","loading","showing","posting","show","bl","display","field","clear_list","message","select","selects","page_now","select_state","sort_key","query_set","father_id","selection","oauth","user","$store","state","tip_show","methods","to_lang","keyword","save_obj","key","obj","$","db","set","load_obj","get","events","add","param","pm","assign","msg","ret","del","del_show","o","_this","uni","confirm","includeZero","set_before","k","toLocaleLowerCase","indexOf","Date","toStr","batchSet","q","orderby","form","json","result","get_list","get_obj","sort","init","submit","$toast","submit_before","upload","add_main","$post","error","del_main","$get","del_after","set_main","toUrl","status","replace","set_after","get_main","get_create","get_obj_check","get_obj_main","res","length","push","keys","val","v","console","log","get_obj_after","get_list_main","clear","addList","undefined","commit","get_list_after","search","route","first","qy","next","page_count","count_ret","prev","reset","submit_main","method","$toUrl","submit_check","submit_after","navigateBack","delta","go","n","goTo","p","navigateTo","init_before","init_main","init_after","upload_main","uploading","$upload","upload_after","end_before","select_all","s","i","select_change","has","arr","split","splice","join","substring","select_has","ids","selected","index","page_change","e","target","isNaN","get_name","arr_str","span","cancel","import_db","file","http","export_db","window","location","href","opens_has_sub","opens_change","opens","opens_has","opens_lv","lv","selectionChange","select_tpl_home","select_tpl_admin","uploadFile","FormData","append","$delete","$set","computed","Math","ceil","cols","onLoad","onShow","onUnload"],"mappings":"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","sourcesContent":["export default {\r\n\tprops: {\r\n\t\t/**\r\n\t\t * 回调函数(中控)\r\n\t\t * @param {String} name 函数名\r\n\t\t * @param {Object} param1\r\n\t\t * @param {Object} param2\r\n\t\t * @param {Object} param3\r\n\t\t * @return {Object} 任意值\r\n\t\t */\r\n\t\tfunc: {\r\n\t\t\ttype: Function,\r\n\t\t\tdefault: function func(name, param1, param2, param3) {},\r\n\t\t},\r\n\t\tquery: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault () {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tsize: 10\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tlist: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault () {\r\n\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcol: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\tvm: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault () {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t// 当前ID\r\n\t\t\t\t\tid: 'id',\r\n\t\t\t\t\t// 上级ID\r\n\t\t\t\t\tfid: 'fid',\r\n\t\t\t\t\t// 用户名\r\n\t\t\t\t\tusername: 'username',\r\n\t\t\t\t\t// 用户id\r\n\t\t\t\t\tuser_id: 'user_id',\r\n\t\t\t\t\t// 图片\r\n\t\t\t\t\timg: 'img',\r\n\t\t\t\t\t// 图标\r\n\t\t\t\t\ticon: 'icon',\r\n\t\t\t\t\t// 标题\r\n\t\t\t\t\ttitle: 'title',\r\n\t\t\t\t\t// 子项\r\n\t\t\t\t\tsub: 'sub',\r\n\t\t\t\t\t// 描述\r\n\t\t\t\t\tdescription: 'description',\r\n\t\t\t\t\t// 关键词\r\n\t\t\t\t\tkeywords: 'keywords',\r\n\t\t\t\t\t// 图片\r\n\t\t\t\t\timage: 'image',\r\n\t\t\t\t\t// 内容\r\n\t\t\t\t\tcontent: 'content',\r\n\t\t\t\t\t// 时间\r\n\t\t\t\t\ttime: 'time',\r\n\t\t\t\t\t// 创建时间\r\n\t\t\t\t\tcreate_time: \"create_time\",\r\n\t\t\t\t\t// 链接\r\n\t\t\t\t\turl: 'url',\r\n\t\t\t\t\t// 方式\r\n\t\t\t\t\tmode: 'mode',\r\n\t\t\t\t\t// 来源\r\n\t\t\t\t\tsource: 'source',\r\n\t\t\t\t\t// 来源地址\r\n\t\t\t\t\tsource_url: 'source_url',\r\n\t\t\t\t\t// 标签\r\n\t\t\t\t\tlabel: 'label',\r\n\t\t\t\t\t// 名称\r\n\t\t\t\t\tname: 'name',\r\n\t\t\t\t\t// 值\r\n\t\t\t\t\tvalue: 'value',\r\n\t\t\t\t\t// 提示\r\n\t\t\t\t\ttip: 'tip',\r\n\t\t\t\t\t// 热度\r\n\t\t\t\t\thot: 'hot',\r\n\t\t\t\t\t// 原价\r\n\t\t\t\t\tprice_ago: 'price_ago',\r\n\t\t\t\t\t// 价格\r\n\t\t\t\t\tprice: 'price',\r\n\t\t\t\t\t// 总价\r\n\t\t\t\t\ttotal: 'total',\r\n\t\t\t\t\t// 评论\r\n\t\t\t\t\tnum_comment: 'num_comment',\r\n\t\t\t\t\t// 点赞数\r\n\t\t\t\t\tnum_praise: 'num_praise',\r\n\t\t\t\t\t// 访问数\r\n\t\t\t\t\tnum_see: 'num_see',\r\n\t\t\t\t\t// 总量\r\n\t\t\t\t\tcount: 'count',\r\n\t\t\t\t\t// 数量\r\n\t\t\t\t\tnum: 'num',\r\n\t\t\t\t\t// 作者\r\n\t\t\t\t\tauthor: 'author',\r\n\t\t\t\t\t// 收藏量\r\n\t\t\t\t\tcollect: 'collect',\r\n\t\t\t\t\t// 标签\r\n\t\t\t\t\ttag: 'tag'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcss: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\tfunc_lang: {\r\n\t\t\ttype: Function,\r\n\t\t\tdefault: null\r\n\t\t}\r\n\t},\r\n\tdata: function data() {\r\n\t\treturn {\r\n\t\t\t// 地址\r\n\t\t\turl: \"\",\r\n\r\n\t\t\t// 添加地址\r\n\t\t\turl_add: \"\",\r\n\r\n\t\t\t// 删除地址\r\n\t\t\turl_del: \"\",\r\n\r\n\t\t\t// 修改地址\r\n\t\t\turl_set: \"\",\r\n\r\n\t\t\t// 查询对象地址\r\n\t\t\turl_get_obj: \"\",\r\n\r\n\t\t\t// 查询列表地址\r\n\t\t\turl_get_list: \"\",\r\n\r\n\t\t\t// 表单提交地址\r\n\t\t\turl_submit: \"\",\r\n\r\n\t\t\t// 上传提交地址\r\n\t\t\turl_upload: \"\",\r\n\r\n\t\t\t// 导入数据地址\r\n\t\t\turl_import: \"\",\r\n\r\n\t\t\t// 导出数据地址\r\n\t\t\turl_export: \"\",\r\n\r\n\t\t\t// 配置\r\n\t\t\tconfig: {\r\n\t\t\t\t// 默认当前页面\r\n\t\t\t\tpage: 1,\r\n\t\t\t\t// 默认页面大小\r\n\t\t\t\tsize: 10\r\n\t\t\t},\r\n\r\n\t\t\t// 加载进度\r\n\t\t\tloading: 0,\r\n\r\n\t\t\t// 显示进度\r\n\t\t\tshowing: 0,\r\n\r\n\t\t\t// 提交进度\r\n\t\t\tposting: 0,\r\n\r\n\t\t\t// 查询结果匹配数统计\r\n\t\t\tcount: 0,\r\n\r\n\t\t\t// 显示隐藏，true显示，false隐藏\r\n\t\t\tshow: false,\r\n\r\n\t\t\t// 响应成功或失败\r\n\t\t\tbl: false,\r\n\r\n\t\t\t// 显示方式\r\n\t\t\tdisplay: \"\",\r\n\r\n\t\t\t// 关键字段\r\n\t\t\tfield: \"\",\r\n\r\n\t\t\t// 响应提示\r\n\t\t\ttip: \"\",\r\n\r\n\t\t\t// 默认请求方式\r\n\t\t\tmode: \"list\",\r\n\r\n\t\t\t// 清除列表\r\n\t\t\tclear_list: true,\r\n\r\n\t\t\t// 响应错误消息\r\n\t\t\tmessage: \"\",\r\n\r\n\t\t\t// 选中项\r\n\t\t\tselect: -1,\r\n\r\n\t\t\t// 选中集\r\n\t\t\tselects: \"\",\r\n\r\n\t\t\t// 当前页, 用于跳转页面\r\n\t\t\tpage_now: 1,\r\n\r\n\t\t\t// 选择项状态\r\n\t\t\tselect_state: false,\r\n\r\n\t\t\t// 排序键，用于拖拽修改排序\r\n\t\t\tsort_key: \"display\",\r\n\r\n\t\t\t// 修改条件\r\n\t\t\tquery_set: {},\r\n\r\n\t\t\t// 上级ID: father_id\r\n\t\t\tfather_id: \"father_id\",\r\n\r\n\t\t\t// 选中集合\r\n\t\t\tselection: [],\r\n\r\n\t\t\t// 登录权限\r\n\t\t\toauth: {\r\n\t\t\t\t\"signIn\": true,\r\n\t\t\t\t\"gm\": 0,\r\n\t\t\t\t\"user_admin\": []\r\n\t\t\t},\r\n\r\n\t\t\t// 用户信息\r\n\t\t\tuser: this.$store.state.user,\r\n\r\n\t\t\t// 修改提示\r\n\t\t\ttip_show: true\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 语言转换\r\n\t\t * @param {String} keyword\r\n\t\t * @return {String} 返回转换后的语言\r\n\t\t */\r\n\t\tto_lang(keyword) {\r\n\t\t\tif (this.func_lang) {\r\n\t\t\t\treturn this.func_lang(keyword);\r\n\t\t\t} else {\r\n\t\t\t\treturn keyword;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 保存对象\r\n\t\t * @param {String} key 键\r\n\t\t * @param {String} obj 值\r\n\t\t */\r\n\t\tsave_obj(key, obj) {\r\n\t\t\t$.db.set(key, obj)\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 查询对象\r\n\t\t * @param {String} key 键\r\n\t\t * @return {Object} 值\r\n\t\t */\r\n\t\tload_obj(key) {\r\n\t\t\treturn $.db.get(key)\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 事件管理, 用于管理函数\r\n\t\t * @param {String} name 事件名\r\n\t\t * @param {Object} param1 参数1\r\n\t\t * @param {Object} param2 参数2\r\n\t\t * @param {Object} param3 参数3\r\n\t\t * @return {Object} 返回事件特定值\r\n\t\t */\r\n\t\tevents(name, param1, param2, param3) {\r\n\t\t\tif (this[name]) {\r\n\t\t\t\tif (param3) {\r\n\t\t\t\t\treturn this[name](param1, param2, param3);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this[name](param1, param2);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 添加数据\r\n\t\t * @param {Object} param 要添加的数据\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tadd(param, func) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.obj;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"add_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"add_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"add_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 删除数据\r\n\t\t * @param {Object} param 查询条件\r\n\t\t */\r\n\t\tdel(param, func) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.query;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"del_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"del_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"del_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\tdel_show(o, id) {\r\n\t\t\tvar _this = this;\r\n\t\t\tuni.confirm('删除后将无法回复!<br/>是否确定要删除?', function() {\r\n\t\t\t\t// console.log('确定删除!');\r\n\t\t\t\tvar query = {};\r\n\t\t\t\tquery[id] = o[id];\r\n\t\t\t\t_this.del(query, function() {\r\n\t\t\t\t\t_this.list.del(query);\r\n\t\t\t\t\t_this.count -= 1;\r\n\t\t\t\t});\r\n\t\t\t}, function() {\r\n\t\t\t\t// console.log('取消删除!')\r\n\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 修改数据\r\n\t\t * @param {Object} param 修改项\r\n\t\t * @param {String} query 查询条件\r\n\t\t * @param {Boolean} includeZero 是否包括0\r\n\t\t */\r\n\t\tset(param, query, func, includeZero) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.obj;\r\n\t\t\t}\r\n\t\t\tif (query) {\r\n\t\t\t\tthis.query_set = query;\r\n\t\t\t} else {\r\n\t\t\t\tthis.query_set = Object.assign({}, this.query);\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"set_before\", Object.assign({}, param), includeZero) || param;\r\n\t\t\tvar msg = this.events(\"set_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"set_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 修改前事件\r\n\t\t * @param {Object} param\r\n\t\t * @param {Boolean} includeZero 是否删除0值项\r\n\t\t * @param {Object} 返回新的参数\r\n\t\t */\r\n\t\tset_before(param, includeZero) {\r\n\t\t\tvar pm = uni.delete(param, includeZero);\r\n\t\t\tfor (var k in pm) {\r\n\t\t\t\tif (k.toLocaleLowerCase().indexOf('time') !== -1 && pm[k].indexOf('T') !== -1) {\r\n\t\t\t\t\tpm[k] = new Date(pm[k]).toStr('yyyy-MM-dd 00:00:00');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn pm;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 批量修改\r\n\t\t */\r\n\t\tbatchSet() {\r\n\t\t\tvar _this = this;\r\n\t\t\tuni.confirm('批量修改数据无法挽回<br/>确定要操作吗?', function() {\r\n\t\t\t\tvar q = Object.assign({}, _this.query, _this.query_set);\r\n\t\t\t\tq[_this.field] = _this.selects;\r\n\t\t\t\tdelete q.page;\r\n\t\t\t\tdelete q.size;\r\n\t\t\t\tdelete q.orderby;\r\n\t\t\t\t_this.set(_this.form, q, function(json) {\r\n\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t_this.show = false;\r\n\t\t\t\t\t\t_this.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 查询多条数据\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tget_list(param, func) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.query;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"get_list_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"get_list_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"get_list_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 查询一条数据\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @func {Function} 回调函数\r\n\t\t */\r\n\t\tget_obj(param, func) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.query;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"get_obj_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"get_obj_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"get_obj_main\", pm, func);\r\n\t\t\t} else if (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\tsort(param, func) {\r\n\t\t\tvar pm = this.events(\"sort_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"sort_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"sort_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 初始化\r\n\t\t * @param {Object} param 参数\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tinit(param, func) {\r\n\t\t\tvar pm = this.events(\"init_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"init_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"init_main\", pm, func);\r\n\t\t\t} else if (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\tsubmit(param, func) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.form;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"submit_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"submit_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (msg) {\r\n\t\t\t\tthis.$toast(msg, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\tret = this.events(\"submit_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 提交前事件\r\n\t\t * @param {Object} param 提交参数\r\n\t\t */\r\n\t\tsubmit_before(param) {\r\n\t\t\treturn param;\r\n\t\t},\r\n\t\tupload(param, func) {\r\n\t\t\tvar pm = this.events(\"upload_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"upload_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (msg) {\r\n\t\t\t\tthis.$toast(msg, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\tret = this.events(\"upload_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 添加数据\r\n\t\t * @param {Object} value 要添加的数据\r\n\t\t */\r\n\t\tadd_main(value, func) {\r\n\t\t\tvar url = this.url ? this.url + \"method=add\" : this.url_add;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$post(url, value, function(json) {\r\n\t\t\t\t_this.events(\"add_after\", json, func);\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\t_this.$toast(json.result.tip, json.result.bl ? 'success' : 'danger');\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t_this.$toast(json.error.message, 'danger');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast('添加失败! 原因:是服务器连接失败!', \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 删除数据\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Function} func 删除回调函数函数\r\n\t\t */\r\n\t\tdel_main(query, func) {\r\n\t\t\tvar url = this.url ? this.url + \"method=del\" : this.url_del;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$get(url, query, function(json) {\r\n\t\t\t\t_this.events(\"del_after\", json, func);\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\t_this.$toast(json.result.tip, json.result.bl ? 'success' : 'danger');\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t_this.$toast(json.error.message, 'danger');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast('删除失败! 原因:是服务器连接失败!', \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * 删除之后事件\r\n\t\t * @param {Object} json 返回的结果\r\n\t\t * @param {Object} func 回调函数\r\n\t\t */\r\n\t\tdel_after(json, func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 修改数据\r\n\t\t * @param {Object} value 要修改的数据\r\n\t\t * @param {Object} value 修改项\r\n\t\t */\r\n\t\tset_main(value, func) {\r\n\t\t\tvar url = this.url ? this.url + \"method=set\" : this.url_set;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$post(this.toUrl(this.query_set, url), value, function(json, status) {\r\n\t\t\t\t_this.events(\"set_after\", json, func);\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\tif (json.result.bl) {\r\n\t\t\t\t\t\tif (_this.tip_show) {\r\n\t\t\t\t\t\t\t_this.$toast(json.result.tip.replace('修改', '更新'), \"success\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.$toast(json.result.tip.replace('修改', '更新'), \"danger\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t_this.$toast(json.error.message, \"danger\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast('修改失败! 原因:是服务器连接失败!', \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * 修改成功时执行\r\n\t\t * @param {Object} json 结果\r\n\t\t * @param {Object} func 回调函数\r\n\t\t */\r\n\t\tset_after(json, func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(json);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 查询数据\r\n\t\t * @param {Object} query 查询参数\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tget(query, func) {\r\n\t\t\tthis.get_main(query, func);\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 查询数据(主程序)\r\n\t\t * @param {Object} query 查询参数\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tget_main(query, func) {\r\n\t\t\tvar url = this.url_get_obj ? this.url_get_obj : this.url;\r\n\t\t\tif (url) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.get_obj(query, function() {\r\n\t\t\t\t\t_this.get_create(query, func);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.get_create(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 验证请求\r\n\t\t * @param {Object} param 请求参数\r\n\t\t */\r\n\t\tget_obj_check(param) {\r\n\t\t\tvar bl = false;\r\n\t\t\tfor (var k in param) {\r\n\t\t\t\tif (param[k]) {\r\n\t\t\t\t\tbl = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (bl) {\r\n\t\t\t\treturn null;\r\n\t\t\t} else {\r\n\t\t\t\treturn \"缺少查询条件\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 查询一条数据(主程序)\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tget_obj_main(query, func) {\r\n\t\t\t// console.log(\"get_obj_main\");\r\n\t\t\tvar url = this.url_get_obj ? this.url_get_obj : this.url + \"method=get_obj\";\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$get(this.toUrl(query, url), null, function(json, status) {\r\n\t\t\t\t_this.events(\"get_obj_after\", json, func);\r\n\t\t\t\tvar res = json.result;\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tvar obj;\r\n\t\t\t\t\tif (res.obj) {\r\n\t\t\t\t\t\tobj = res.obj;\r\n\t\t\t\t\t\tdelete res.obj;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar list = res.list;\r\n\t\t\t\t\t\tif (list && list.length > 0) {\r\n\t\t\t\t\t\t\tobj = list[0];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobj = res;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.push(_this, res, true);\r\n\t\t\t\t\tif (obj) {\r\n\t\t\t\t\t\tif (!_this.obj || Object.keys(_this.obj).length === 0) {\r\n\t\t\t\t\t\t\t_this.obj = obj;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.push(_this.obj, obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar o = _this.obj;\r\n\t\t\t\t\t\tfor (var k in o) {\r\n\t\t\t\t\t\t\tif (k.indexOf('time') !== -1) {\r\n\t\t\t\t\t\t\t\tvar val = o[k];\r\n\t\t\t\t\t\t\t\tif (val && val.indexOf('T') !== -1) {\r\n\t\t\t\t\t\t\t\t\tvar v = new Date(o[k]);\r\n\t\t\t\t\t\t\t\t\to[k] = v.toStr('yyyy-MM-dd hh:mm:ss');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!_this.form || Object.keys(_this.form).length === 0) {\r\n\t\t\t\t\t\t\t_this.form = Object.assign({}, _this.obj)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.push(_this.form, Object.assign({}, _this.obj));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\tconsole.log(json.error.message);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast(\"服务器连接失败！\", \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 获取到对象后事件\r\n\t\t * @param {Object} json 响应结果\r\n\t\t */\r\n\t\tget_obj_after(json, func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(json);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 查询多条数据(主程序)\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tget_list_main(query, func) {\r\n\t\t\tvar url = this.url_get_list ? this.url_get_list : this.url;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.loading = 0;\r\n\t\t\tthis.$get(this.toUrl(query, url), null, function(json, status) {\r\n\t\t\t\t_this.loading = 100;\r\n\t\t\t\tif (_this.clear_list) {\r\n\t\t\t\t\t_this.list.clear();\r\n\t\t\t\t}\r\n\t\t\t\t_this.events(\"get_list_after\", json, func, url);\r\n\t\t\t\tvar res = json.result;\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\t_this.page_now = _this.query.page;\r\n\t\t\t\t\t_this.list.addList(res.list);\r\n\t\t\t\t\tif (res.count !== undefined) {\r\n\t\t\t\t\t\t_this.count = res.count;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t// 非法访问或未登录\r\n\t\t\t\t\t_this.$store.commit('sign_out');\r\n\t\t\t\t\tconsole.log(json.error.message);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast(\"服务器连接失败！\", \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 获取到列表事件\r\n\t\t * @param {Object} res 响应结果\r\n\t\t */\r\n\t\tget_list_after(res, func, url) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(res, url);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 搜索\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Boolean} bl 是否重置再搜索\r\n\t\t */\r\n\t\tsearch(query, func) {\r\n\t\t\tif (query) {\r\n\t\t\t\tuni.push(this.query, query);\r\n\t\t\t}\r\n\t\t\tvar url = this.url_get_list ? this.url_get_list : this.url;\r\n\t\t\tif (url) {\r\n\t\t\t\tthis.query.page = 1;\r\n\t\t\t\tthis.count = 0;\r\n\t\t\t\tuni.route.push(\"?\" + this.toUrl(this.query));\r\n\t\t\t\tthis.first(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\t\tget_create(query, func) {\r\n\t\t\tif (query) {\r\n\t\t\t\tuni.push(this.query, query);\r\n\t\t\t}\r\n\t\t\tvar url = this.url_get_list ? this.url_get_list : this.url;\r\n\t\t\tif (url) {\r\n\t\t\t\tthis.count = 0;\r\n\t\t\t\t// uni.route.push(\"?\" + this.toUrl(this.query));\r\n\t\t\t\tthis.first(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 查询多条数据 (首次)\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tfirst(query, func) {\r\n\t\t\tvar _this = this;\r\n\r\n\t\t\tif (!this.count) {\r\n\t\t\t\tvar qy = Object.assign({}, this.query);\r\n\t\t\t\tthis.get_list(qy, func);\r\n\t\t\t} else {\r\n\t\t\t\tthis.get_list(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 查询下一页数据\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tnext(query, func) {\r\n\t\t\tconsole.log(\"next\");\r\n\t\t\tvar _this = this;\r\n\t\t\t_this.get_list(query, function(json, url) {\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\tvar list = json.result.list;\r\n\t\t\t\t\tif (list.length > 0) {\r\n\t\t\t\t\t\tvar qy = Object.assign({}, query, {\r\n\t\t\t\t\t\t\tpage: query.page + 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (qy.page <= _this.page_count) {\r\n\t\t\t\t\t\t\tdelete qy.count_ret;\r\n\t\t\t\t\t\t\t_this.$get(_this.toUrl(qy, url));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (func) {\r\n\t\t\t\t\tfunc(json);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 查询上一页数据\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tprev(query, func) {\r\n\t\t\tconsole.log(\"prev\");\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.get_list(query, function(json, url) {\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\tvar list = json.result.list;\r\n\t\t\t\t\tif (list.length > 0) {\r\n\t\t\t\t\t\tvar qy = Object.assign({}, query, {\r\n\t\t\t\t\t\t\tpage: query.page - 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (qy.page >= 1) {\r\n\t\t\t\t\t\t\tdelete qy.count_ret;\r\n\t\t\t\t\t\t\t_this.$get(_this.toUrl(qy, url));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (func) {\r\n\t\t\t\t\tfunc(res);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * 清除数据\r\n\t\t * @param {Object} query\r\n\t\t */\r\n\t\tclear(query) {\r\n\t\t\tuni.clear(query);\r\n\t\t},\r\n\t\t/**\r\n\t\t * 重置\r\n\t\t */\r\n\t\treset() {\r\n\t\t\tuni.clear(this.query);\r\n\t\t\tuni.push(this.query, this.config);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 提交表单\r\n\t\t */\r\n\t\tsubmit_main(param, func) {\r\n\t\t\tvar url = this.url;\r\n\t\t\tif (url) {\r\n\t\t\t\tif (this.field) {\r\n\t\t\t\t\tvar id = param[this.field];\r\n\t\t\t\t\tif (id) {\r\n\t\t\t\t\t\tvar q = {\r\n\t\t\t\t\t\t\tmethod: 'set'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tq[this.field] = id;\r\n\t\t\t\t\t\turl = this.toUrl(q, url);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\turl += \"method=add\"\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\turl += \"method=submit\"\r\n\t\t\t\t}\r\n\t\t\t} else if (this.url_submit) {\r\n\t\t\t\turl = this.url_submit;\r\n\t\t\t} else if (this.field) {\r\n\t\t\t\tvar id = param[this.field];\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\turl = this.url_set;\r\n\t\t\t\t} else {\r\n\t\t\t\t\turl = this.url_add;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// console.log('提交', url);\r\n\t\t\tif (url) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.$post(this.$toUrl(this.query, url), param, function(json, status) {\r\n\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t_this.$toast(json.result.tip, json.result.bl ? 'success' : 'danger');\r\n\t\t\t\t\t\t_this.events(\"submit_after\", json, func);\r\n\t\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t\t_this.$toast(json.error.message, 'danger');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.$toast(\"服务器连接失败！\", \"danger\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 提交前验证事件\r\n\t\t * @param {Object} 请求参数\r\n\t\t * @return {String} 验证成功返回null, 失败返回错误提示\r\n\t\t */\r\n\t\tsubmit_check(param) {\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 获取到对象后事件\r\n\t\t * @param {Object} json 响应结果\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tsubmit_after(json, func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(json);\r\n\t\t\t}\r\n\t\t\tuni.navigateBack({\r\n\t\t\t\tdelta: 2\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * 上下翻页\r\n\t\t * @param {Number} n 加减页码\r\n\t\t */\r\n\t\tgo(n) {\r\n\t\t\tvar page = this.query.page + n;\r\n\t\t\tthis.goTo(page);\r\n\t\t},\r\n\t\t/**\r\n\t\t * 跳转指定页\r\n\t\t * @param {Number} page 页码\r\n\t\t */\r\n\t\tgoTo(page) {\r\n\t\t\tif (page < 1) {\r\n\t\t\t\tpage = 1;\r\n\t\t\t} else if (page > this.page_count) {\r\n\t\t\t\tpage = this.page_count;\r\n\t\t\t}\r\n\t\t\tvar query = this.query;\r\n\t\t\tvar p = query.page;\r\n\t\t\tquery.page = page;\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: \"?\" + this.toUrl(query)\r\n\t\t\t});\r\n\t\t\tif (this.page_count !== 0) {\r\n\t\t\t\tif (p + 1 == page) {\r\n\t\t\t\t\tthis.next(query);\r\n\t\t\t\t} else if (p - 1 == page) {\r\n\t\t\t\t\tthis.prev(query);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.first(query);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.first(query);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 转查询参数\r\n\t\t * @param {Object} obj 被转换的对象\r\n\t\t * @param {String} url 请求地址\r\n\t\t * @return {String} url字符串\r\n\t\t */\r\n\t\ttoUrl(obj, url) {\r\n\t\t\treturn uni.toUrl(obj, url);\r\n\t\t},\r\n\t\t/**\r\n\t\t * 初始化前函数\r\n\t\t */\r\n\t\tinit_before(query) {\r\n\t\t\tif (!query) {\r\n\t\t\t\tquery = this.config;\r\n\t\t\t}\r\n\t\t\treturn query;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 初始化\r\n\t\t */\r\n\t\tinit_main(query) {\r\n\t\t\tvar _this = this;\r\n\t\t\tuni.push(this.query, query);\r\n\t\t\t_this.init_after(function() {\r\n\t\t\t\t_this.get(_this.query);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * 初始化后函数\r\n\t\t */\r\n\t\tinit_after(func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 上传文件\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tupload_main(func) {\r\n\t\t\tvar url = \"\";\r\n\t\t\tif (this.url) {\r\n\t\t\t\turl = this.url + \"method=upload\";\r\n\t\t\t} else {\r\n\t\t\t\turl = this.url_upload;\r\n\t\t\t}\r\n\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.form;\r\n\t\t\t}\r\n\t\t\tif (msg) {\r\n\t\t\t\tthis.$toast(msg, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\tthis.uploading = 0;\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.$upload(url, param, function(json, status) {\r\n\t\t\t\t\t_this.uploading = 100;\r\n\t\t\t\t\t_this.events(\"upload_after\", json, func);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 上传完成时\r\n\t\t * @param {Object} json 响应结果\r\n\t\t * @param {Function} func\r\n\t\t */\r\n\t\tupload_after(json, func) {\r\n\t\t\tif (json.result) {\r\n\t\t\t\tthis.$toast(json.result.tip, json.result.bl ? 'success' : 'danger');\r\n\t\t\t} else if (json.error) {\r\n\t\t\t\tthis.$toast(json.error.message, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\tthis.$toast(\"服务器连接失败！\", \"danger\");\r\n\t\t\t}\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 结束前\r\n\t\t * @param {Object} param 参数\r\n\t\t */\r\n\t\tend_before(param) {\r\n\t\t\t// this.reset();\r\n\t\t},\r\n\t\t/**\r\n\t\t * 选择项全改\r\n\t\t */\r\n\t\tselect_all() {\r\n\t\t\tvar bl = !this.select_state;\r\n\t\t\tif (!bl) {\r\n\t\t\t\tthis.selects = '';\r\n\t\t\t} else {\r\n\t\t\t\tvar s = '';\r\n\t\t\t\tvar list = this.list;\r\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\ts += '|' + list[i][this.field];\r\n\t\t\t\t}\r\n\t\t\t\tthis.selects = s.replace('|', '');\r\n\t\t\t}\r\n\t\t\tthis.select_state = bl;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 选择项改变\r\n\t\t * @param {String|Number} id 选择的ID\r\n\t\t */\r\n\t\tselect_change(id) {\r\n\t\t\tvar has = false\r\n\t\t\tvar arr = this.selects.split('|');\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (id == o) {\r\n\t\t\t\t\tarr.splice(i, 1);\r\n\t\t\t\t\thas = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!has) {\r\n\t\t\t\tarr.push(id)\r\n\t\t\t}\r\n\t\t\tvar s = arr.join('|');\r\n\t\t\tif (s.indexOf('|') == 0) {\r\n\t\t\t\tthis.selects = s.substring(1)\r\n\t\t\t} else {\r\n\t\t\t\tthis.selects = s;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 选择项含有\r\n\t\t * @param {String|Number} id 选择的ID\r\n\t\t */\r\n\t\tselect_has(id) {\r\n\t\t\tvar ids = '|' + this.selects + '|';\r\n\t\t\treturn ids.indexOf('|' + id + '|') !== -1;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 选中\r\n\t\t * @param {Number} index 项目索引\r\n\t\t * @param {Object} obj 选中的对象\r\n\t\t */\r\n\t\tselected(index, obj) {\r\n\t\t\tthis.select = index;\r\n\t\t\tif (this.obj & obj) {\r\n\t\t\t\tuni.push(this.obj, obj);\r\n\t\t\t}\r\n\t\t\tuni.db.set('select', index, 120);\r\n\t\t},\r\n\t\t/**\r\n\t\t * 页面改变时\r\n\t\t * @param {Object} e 事件\r\n\t\t */\r\n\t\tpage_change(e) {\r\n\t\t\tvar n = Number(e.target.value);\r\n\t\t\tif (isNaN(n)) {\r\n\t\t\t\tn = 1;\r\n\t\t\t}\r\n\t\t\tif (n < 1) {\r\n\t\t\t\tn = 1;\r\n\t\t\t} else if (n > this.page_count) {\r\n\t\t\t\tn = this.page_count\r\n\t\t\t}\r\n\t\t\tthis.page_now = n;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 获取名称\r\n\t\t * @param {Array} list 用来取名的列表\r\n\t\t * @param {String} arr_str id集合\r\n\t\t * @param {String} key 键\r\n\t\t * @param {String} name 名\r\n\t\t * @param {String} span 分隔符\r\n\t\t */\r\n\t\tget_name(list, arr_str, key, name, span) {\r\n\t\t\tif (!name) {\r\n\t\t\t\tname = \"name\";\r\n\t\t\t}\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (arr_str) {\r\n\t\t\t\tif (typeof(arr_str) == 'string') {\r\n\t\t\t\t\tif (!span) {\r\n\t\t\t\t\t\tspan = ',';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar arr = arr_str.split(span);\r\n\t\t\t\t\tvar id = Number(arr[0]);\r\n\r\n\t\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t\tvar o = list[i];\r\n\t\t\t\t\t\tif (o[key] == id) {\r\n\t\t\t\t\t\t\tvalue += '|' + o[name];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar id = arr_str;\r\n\t\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t\tvar o = list[i];\r\n\t\t\t\t\t\tif (o[key] == id) {\r\n\t\t\t\t\t\t\tvalue = o[name];\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn value.replace('|', '');\r\n\t\t},\r\n\t\t/**\r\n\t\t * 取消并返回\r\n\t\t */\r\n\t\tcancel() {\r\n\t\t\tuni.navigateBack({\r\n\t\t\t\tdelta: 2\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * 导入数据\r\n\t\t * @param {Object} file 文件\r\n\t\t */\r\n\t\timport_db(file) {\r\n\t\t\tif (file) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tuni.confirm(\"是否导入 \" + file.name, \"导入数据\", function() {\r\n\t\t\t\t\tuni.http.upload(_this.url_import, file, function(json) {\r\n\t\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t\tuni.confirm(json.result.tip, function() {\r\n\t\t\t\t\t\t\t\t_this.get();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t\t\tuni.confirm(json.error.message);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.$toast(\"服务器连接失败！\", \"danger\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 导出数据\r\n\t\t */\r\n\t\texport_db() {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (this.selects) {\r\n\t\t\t\tvar query = {};\r\n\t\t\t\tquery[this.field] = this.selects;\r\n\t\t\t\tthis.$get(_this.url_export, query, function(json) {\r\n\t\t\t\t\tvar res = json.result;\r\n\t\t\t\t\tif (res && res.bl) {\r\n\t\t\t\t\t\twindow.location.href = res.url;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.$get(_this.url_export, this.query, function(json) {\r\n\t\t\t\t\tvar res = json.result;\r\n\t\t\t\t\tif (res && res.bl) {\r\n\t\t\t\t\t\twindow.location.href = res.url;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 判断是否有下级\r\n\t\t * @param {Number} id 字段ID\r\n\t\t * @param {Object} list 数据列表\r\n\t\t * @return {Number} 返回级别\r\n\t\t */\r\n\t\topens_has_sub(id, list) {\r\n\t\t\tif (!list) {\r\n\t\t\t\tlist = this.list;\r\n\t\t\t}\r\n\t\t\tvar bl = false;\r\n\t\t\tvar father_id = this.father_id;\r\n\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\tvar o = list[i];\r\n\t\t\t\tif (o[father_id] === id) {\r\n\t\t\t\t\tbl = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bl;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 改变展开项\r\n\t\t * @param {Number} id 唯一主键\r\n\t\t */\r\n\t\topens_change(id) {\r\n\t\t\tvar index = this.opens.indexOf(id);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.opens.splice(index, 1);\r\n\t\t\t} else {\r\n\t\t\t\tvar bl = this.opens_has_sub(id);\r\n\t\t\t\tif (bl) {\r\n\t\t\t\t\tthis.opens.push(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tuni.db.set('opens', this.opens);\r\n\t\t},\r\n\t\t/**\r\n\t\t * 判断是否存在\r\n\t\t * @param {Number} id 唯一主键\r\n\t\t * @return {Boolean} 存在返回true, 否则返回false\r\n\t\t */\r\n\t\topens_has(id) {\r\n\t\t\treturn this.opens.indexOf(id) !== -1;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 判断子孙级别, 最大支持5次分叉\r\n\t\t * @param {Number} fid 祖辈ID\r\n\t\t * @param {Object} list 数据列表\r\n\t\t * @return {Number} 返回级别\r\n\t\t */\r\n\t\topens_lv(fid, list) {\r\n\t\t\tif (!list) {\r\n\t\t\t\tlist = this.list;\r\n\t\t\t}\r\n\t\t\tvar lv = 0;\r\n\t\t\tvar father_id = this.father_id;\r\n\t\t\tvar id = this.field;\r\n\t\t\tvar num = fid;\r\n\t\t\tfor (var n = 0; n < 5; n++) {\r\n\t\t\t\tif (num === 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\tvar o = list[i];\r\n\t\t\t\t\tif (o[id] === num) {\r\n\t\t\t\t\t\tlv++;\r\n\t\t\t\t\t\tnum = o[father_id];\r\n\t\t\t\t\t\tif (num === 0) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn lv;\r\n\t\t},\r\n\t\tselectionChange(val) {\r\n\t\t\tthis.selection = val;\r\n\t\t},\r\n\t\tselect_tpl_home() {\r\n\r\n\t\t},\r\n\t\tselect_tpl_admin() {\r\n\r\n\t\t},\r\n\t\t/**\r\n\t\t * 上传文件\r\n\t\t * @param {Object} file 文件对象\r\n\t\t * @param {key} 保存键名\r\n\t\t */\r\n\t\tuploadFile(file, key = \"img\") {\r\n\t\t\tvar _this = this;\r\n\t\t\tvar form = new FormData() // FormData 对象\r\n\t\t\tform.append('file', file) // 文件对象\r\n\t\t\tthis.$upload(this.url_upload, form, function(json) {\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\t// _this.form[key] = json.result.url;\r\n\t\t\t\t\t_this.$delete(_this.form,key);\r\n\t\t\t\t\t_this.$set(_this.form,key,json.result.url);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast('上传失败！');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\t/**\r\n\t\t * 分页数量\r\n\t\t */\r\n\t\tpage_count: function page_count() {\r\n\t\t\treturn Math.ceil(this.count / this.query.size);\r\n\t\t},\r\n\t\t/**\r\n\t\t * 列数\r\n\t\t */\r\n\t\tcols: function() {\r\n\t\t\treturn this.col ? \"list-\" + this.col : \"\"\r\n\t\t}\r\n\t},\r\n\tonLoad(query) {\r\n\t\tthis.init(query);\r\n\t\tthis.showing = 0;\r\n\t},\r\n\tonShow() {\r\n\t\tthis.showing = 100;\r\n\t},\r\n\tonUnload() {\r\n\t\tthis.events('end_before');\r\n\t}\r\n};\r\n"]}]}