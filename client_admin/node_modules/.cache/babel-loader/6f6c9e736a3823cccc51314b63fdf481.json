{"remainingRequest":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\localCode\\CS211180\\client_admin\\src\\plugins\\sdk.js","dependencies":[{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\src\\plugins\\sdk.js","mtime":1642669596000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXMtYXJyYXkuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubGFzdC1pbmRleC1vZi5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktbmFtZXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiKTsKCnZhciBfdHlwZW9mID0gcmVxdWlyZSgiRDovV29ya1NwYWNlL2xvY2FsQ29kZS9DUzIxMTE4MC9jbGllbnRfYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mIik7CgovKiA9PSDmlbDlrZfljp/lnovlh73mlbAgPT0gKi8KKGZ1bmN0aW9uICgpIHsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWOu+WwvuazlQ0KICAgKiBAcGFyYW0ge051bWJlcn0gbGVuIOS/neeVmemVv+W6pg0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9IOaVsOWAvA0KICAgKi8KICBOdW1iZXIucHJvdG90eXBlLnRvRmxvb3IgPSBmdW5jdGlvbiAobGVuKSB7CiAgICB2YXIgbiA9IE1hdGgucG93KDEwLCBsZW4pOwogICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcyAqIG4pIC8gbjsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6L+b5LiA5rOVDQogICAqIEBwYXJhbSB7TnVtYmVyfSBsZW4g5L+d55WZ6ZW/5bqmDQogICAqIEByZXR1cm4ge051bWJlcn0g5pWw5YC8DQogICAqLwoKCiAgTnVtYmVyLnByb3RvdHlwZS50b0NlaWwgPSBmdW5jdGlvbiAobGVuKSB7CiAgICB2YXIgbiA9IE1hdGgucG93KDEwLCBsZW4pOwogICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzICogbikgLyBuOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDlm5voiI3kupTlhaXms5UNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbiDkv53nlZnplb/luqYNCiAgICogQHJldHVybiB7TnVtYmVyfSDmlbDlgLwNCiAgICovCgoKICBOdW1iZXIucHJvdG90eXBlLnRvUm91bmQgPSBmdW5jdGlvbiAobGVuKSB7CiAgICB2YXIgbiA9IE1hdGgucG93KDEwLCBsZW4pOwogICAgcmV0dXJuIE1hdGgucm91bmQodGhpcyAqIG4pIC8gbjsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5pWw5YC86L2s5a2X56ym5LiyLCDkv53nlZnlsL7mlbDplb/luqYNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbiDkv53nlZnplb/luqYNCiAgICogQHBhcmFtIHtTdHJpbmd9IG1vZGUg5L+d55WZ5pa55byPDQogICAqIEByZXR1cm4ge1N0cmluZ30g5oiq5Y+W5ZCO5a2X56ym5LiyDQogICAqLwoKCiAgTnVtYmVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAobGVuLCBtb2RlKSB7CiAgICB2YXIgbjsKCiAgICBzd2l0Y2ggKG1vZGUpIHsKICAgICAgY2FzZSAxOgogICAgICBjYXNlICJ0b1JvdW5kIjoKICAgICAgICBuID0gdGhpcy50b1JvdW5kKGxlbik7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgIGNhc2UgInRvQ2VpbCI6CiAgICAgICAgbiA9IHRoaXMudG9DZWlsKGxlbik7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgIGNhc2UgInRvRmxvb3IiOgogICAgICAgIG4gPSB0aGlzLnRvRmxvb3IobGVuKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgbiA9IHRoaXMudG9TdHJpbmcoKTsKICAgICAgICBicmVhazsKICAgIH0KCiAgICByZXR1cm4gbjsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5pWw5YC86L2s5a2X56ym5LiyLCDkv53nlZnlsL7mlbDplb/luqYNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbiDkv53nlZnplb/luqYNCiAgICogQHBhcmFtIHtTdHJpbmd9IG1vZGUg5L+d55WZ5pa55byPDQogICAqIEByZXR1cm4ge1N0cmluZ30g5oiq5Y+W5ZCO5a2X56ym5LiyDQogICAqLwoKCiAgTnVtYmVyLnByb3RvdHlwZS50b1N0ciA9IGZ1bmN0aW9uIChsZW4sIG1vZGUpIHsKICAgIHZhciBuID0gdGhpcy5nZXQobGVuLCBtb2RlKTsKICAgIHZhciBzID0gbi50b1N0cmluZygpOwogICAgdmFyIHJzID0gcy5pbmRleE9mKCcuJyk7CgogICAgaWYgKGxlbiA+IDAgJiYgcnMgPCAwKSB7CiAgICAgIHJzID0gcy5sZW5ndGg7CiAgICAgIHMgKz0gJy4nOwogICAgfQoKICAgIHdoaWxlIChzLmxlbmd0aCA8PSBycyArIGxlbikgewogICAgICBzICs9ICcwJzsKICAgIH0KCiAgICByZXR1cm4gczsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6L2s5Li65pe26Ze057G75Z6LDQogICAqIEByZXR1cm4ge0RhdGV9IOaXtumXtOWvueixoQ0KICAgKi8KCgogIE51bWJlci5wcm90b3R5cGUudG9UaW1lID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMgKiAxMDAwKTsKICB9Owp9KSgpOwovKiA9PSDml7bpl7Tljp/lnovlh73mlbAgPT0gKi8KCgooZnVuY3Rpb24gKCkgewogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5pe26Ze05qC85byP5YyWDQogICAqIEBwYXJhbSB7U3RyaW5nfSBmb3JtYXQg5oyH5a6a5qC85byPDQogICAqIEByZXR1cm4ge1N0cmluZ30g5pe26Ze05qC85byP5a2X56ym5LiyDQogICAqLwogIERhdGUucHJvdG90eXBlLnRvU3RyID0gZnVuY3Rpb24gKGZvcm1hdCkgewogICAgdmFyIG8gPSB7CiAgICAgICJNKyI6IHRoaXMuZ2V0TW9udGgoKSArIDEsCiAgICAgICJkKyI6IHRoaXMuZ2V0RGF0ZSgpLAogICAgICAiaCsiOiB0aGlzLmdldEhvdXJzKCksCiAgICAgICJtKyI6IHRoaXMuZ2V0TWludXRlcygpLAogICAgICAicysiOiB0aGlzLmdldFNlY29uZHMoKSwKICAgICAgInErIjogTWF0aC5mbG9vcigodGhpcy5nZXRNb250aCgpICsgMykgLyAzKSwKICAgICAgIlMiOiB0aGlzLmdldE1pbGxpc2Vjb25kcygpCiAgICB9OwoKICAgIGlmICgvKHkrKS8udGVzdChmb3JtYXQpKSB7CiAgICAgIHZhciB4ID0gUmVnRXhwLiQxOwogICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZSh4LCAodGhpcy5nZXRGdWxsWWVhcigpICsgIiIpLnN1YnN0cig0IC0geC5sZW5ndGgpKTsKICAgIH0KCiAgICBmb3IgKHZhciBrIGluIG8pIHsKICAgICAgaWYgKG5ldyBSZWdFeHAoIigiICsgayArICIpIikudGVzdChmb3JtYXQpKSB7CiAgICAgICAgdmFyIHggPSBSZWdFeHAuJDE7CiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoeCwgeC5sZW5ndGggPT0gMSA/IG9ba10gOiAoIjAwIiArIG9ba10pLnN1YnN0cigoIiIgKyBvW2tdKS5sZW5ndGgpKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBmb3JtYXQ7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOiOt+WPluW9k+WJjeaXtumXtOaIsw0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9IOi/lOWbnuaXtumXtOaIsw0KICAgKi8KCgogIERhdGUucHJvdG90eXBlLnN0YW1wID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHRpbWVzdGFtcCA9IERhdGUucGFyc2UodGhpcyk7CiAgICByZXR1cm4gdGltZXN0YW1wIC8gMTAwMDsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6K6h566X5pe26Ze05beuKOaXtumXtOmXtOmalCkNCiAgICogQHBhcmFtIHtTdHJpbmd9IGVuZFRpbWUg57uT5p2f5pe26Ze0DQogICAqIEBwYXJhbSB7U3RyaW5nfSB0aW1lX3VuaXQgPSBbZGF5fGhvdXJzfG1pbnV0ZXNdIOaXtumXtOWNleS9jQ0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9IOmXtOmalOaXtumVvw0KICAgKi8KCgogIERhdGUucHJvdG90eXBlLmludGVydmFsID0gZnVuY3Rpb24gKGVuZFRpbWUsIHRpbWVfdW5pdCkgewogICAgdmFyIHN0YXJ0VGltZSA9IHRoaXM7IC8vIHN0YXJ0VGltZTog5byA5aeL5pe26Ze0CgogICAgdmFyIHN0aW1lID0gRGF0ZS5wYXJzZShzdGFydFRpbWUpOwogICAgdmFyIGV0aW1lID0gRGF0ZS5wYXJzZShuZXcgRGF0ZShlbmRUaW1lKSk7CiAgICB2YXIgdXNlZFRpbWUgPSBldGltZSAtIHN0aW1lOyAvLyDkuKTkuKrml7bpl7TmiLPnm7jlt67nmoTmr6vnp5LmlbAKCiAgICBpZiAodGltZV91bml0ID09PSAiZGF5IikgewogICAgICByZXR1cm4gTWF0aC5mbG9vcih1c2VkVGltZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7CiAgICB9IGVsc2UgaWYgKHRpbWVfdW5pdCA9PT0gImhvdXJzIikgewogICAgICByZXR1cm4gTWF0aC5mbG9vcih1c2VkVGltZSAvICgxMDAwICogNjAgKiA2MCkpOwogICAgfSBlbHNlIGlmICh0aW1lX3VuaXQgPT09ICJtaW51dGVzIikgewogICAgICByZXR1cm4gTWF0aC5mbG9vcih1c2VkVGltZSAvICgxMDAwICogNjApKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKHVzZWRUaW1lIC8gMTAwMCk7CiAgICB9CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOaXtumXtOa3u+WKoOWkqeaVsA0KICAgKiBAcGFyYW0ge051bWJlcn0gZGF5cyDlpKnmlbANCiAgICogQHJldHVybiB7RGF0ZX0g5pe26Ze05a+56LGhDQogICAqLwoKCiAgRGF0ZS5wcm90b3R5cGUuYWRkRGF5cyA9IGZ1bmN0aW9uIChkYXlzKSB7CiAgICB0aGlzLnNldERhdGUodGhpcy5nZXREYXRlKCkgKyBkYXlzKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDml7bpl7Tmt7vliqDnp5LmlbANCiAgICogQHBhcmFtIHtEYXRlfSBzZWNvbmRzIOaXtumXtOWvueixoQ0KICAgKi8KCgogIERhdGUucHJvdG90eXBlLmFkZFNlY29uZHMgPSBmdW5jdGlvbiAoc2Vjb25kcykgewogICAgdGhpcy5zZXRTZWNvbmRzKHRoaXMuZ2V0U2Vjb25kcygpICsgc2Vjb25kcyk7CiAgICByZXR1cm4gdGhpczsKICB9Owp9KSgpOwovKiA9PSDlrZfnrKbkuLLmi5PlsZXlh73mlbAgPT0gKi8KCgooZnVuY3Rpb24gKCkgewogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gTUQ15Yqg5a+GDQogICAqIEByZXR1cm4ge1N0cmluZ30g5Yqg5a+G5ZCO55qE5a2X56ym5LiyDQogICAqLwogIFN0cmluZy5wcm90b3R5cGUubWQ1ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICQubWQ1KHRoaXMgKyAnJyk7CiAgfTsKICAvKioNCiAgICogYWVz5Yqg5a+GDQogICAqIEBwYXJhbSBkYXRhIOW+heWKoOWvhuWGheWuuQ0KICAgKiBAcGFyYW0ga2V5IOW/hemhu+S4ujMy5L2N56eB6ZKlDQogICAqIEByZXR1cm5zIHtTdHJpbmd9DQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS5hZXNfZW5jb2RlID0gZnVuY3Rpb24gKGtleSwgaXYpIHsKICAgIGl2ID0gaXYgfHwgIiI7CiAgICB2YXIgY2xlYXJFbmNvZGluZyA9ICd1dGY4JzsKICAgIHZhciBjaXBoZXJFbmNvZGluZyA9ICdiYXNlNjQnOwogICAgdmFyIGNpcGhlckNodW5rcyA9IFtdOwogICAgdmFyIGNpcGhlciA9IGNyZWF0ZUNpcGhlcml2KCdhZXMtMjU2LWVjYicsIGtleSwgaXYpOwogICAgY2lwaGVyLnNldEF1dG9QYWRkaW5nKHRydWUpOwogICAgY2lwaGVyQ2h1bmtzLnB1c2goY2lwaGVyLnVwZGF0ZSh0aGlzICsgJycsIGNsZWFyRW5jb2RpbmcsIGNpcGhlckVuY29kaW5nKSk7CiAgICBjaXBoZXJDaHVua3MucHVzaChjaXBoZXJbImZpbmFsIl0oY2lwaGVyRW5jb2RpbmcpKTsKICAgIHJldHVybiBjaXBoZXJDaHVua3Muam9pbignJyk7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIGFlc+ino+Wvhg0KICAgKiBAcGFyYW0ga2V5IOW/hemhu+S4ujMy5L2N56eB6ZKlDQogICAqIEByZXR1cm5zIHtTdHJpbmd9DQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS5hZXNfZGVjb2RlID0gZnVuY3Rpb24gKGtleSwgaXYpIHsKICAgIGl2ID0gaXYgfHwgIiI7CiAgICB2YXIgY2xlYXJFbmNvZGluZyA9ICd1dGY4JzsKICAgIHZhciBjaXBoZXJFbmNvZGluZyA9ICdiYXNlNjQnOwogICAgdmFyIGNpcGhlckNodW5rcyA9IFtdOwogICAgdmFyIGRlY2lwaGVyID0gY3JlYXRlRGVjaXBoZXJpdignYWVzLTI1Ni1lY2InLCBrZXksIGl2KTsKICAgIGRlY2lwaGVyLnNldEF1dG9QYWRkaW5nKHRydWUpOwogICAgY2lwaGVyQ2h1bmtzLnB1c2goZGVjaXBoZXIudXBkYXRlKHRoaXMgKyAnJywgY2lwaGVyRW5jb2RpbmcsIGNsZWFyRW5jb2RpbmcpKTsKICAgIGNpcGhlckNodW5rcy5wdXNoKGRlY2lwaGVyWyJmaW5hbCJdKGNsZWFyRW5jb2RpbmcpKTsKICAgIHJldHVybiBjaXBoZXJDaHVua3Muam9pbignJyk7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOiOt+WPluWtl+espuS4sueahOaLvOmfsw0KICAgKiBAcmV0dXJuIHtTdHJpbmd9IOaLvOmfsw0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUucGlueWluID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHBpbnlpbih0aGlzKS5qb2luKCcnKTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6I635Y+W5a2X56ym5Liy55qE5ou86Z+zDQogICAqIEByZXR1cm4ge1N0cmluZ30g5ou86Z+zDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS5waW55aW5TID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGFyciA9IHBpbnlpbih0aGlzKTsKICAgIHZhciBzdHIgPSAiIjsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICB2YXIgYXIgPSBhcnJbaV07CgogICAgICBpZiAoYXIubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBvID0gYXJbMF07CiAgICAgICAgc3RyICs9IG8uY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyBvLnN1YnN0cmluZygxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdHIgKz0gJyAnOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHN0cjsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5bCGanNvbuWtl+espuS4sui9rOS4uuWvueixoQ0KICAgKiBAcmV0dXJuIHtPYmplY3R9IOWvueixoQ0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcyk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdqc29u5Y+N5bqP5YiX5YyW6ZSZ6K+vJyk7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDlsIZ1cmzlrZfnrKbkuLLovazkuLrlr7nosaENCiAgICogQHJldHVybiB7T2JqZWN0fSDlr7nosaENCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnRvVXJsID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGFyciA9IHRoaXMuc3BsaXQoJyYnKTsKICAgIHZhciBvYmogPSB7fTsKICAgIGFyci5mdW5jKGZ1bmN0aW9uIChvKSB7CiAgICAgIHZhciBhciA9IG8uc3BsaXQoJz0nKTsKCiAgICAgIGlmIChhci5sZW5ndGggPiAxKSB7CiAgICAgICAgb2JqW2FyWzBdXSA9IGRlY29kZVVSSShhclsxXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2FyWzBdXSA9IG51bGw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIG9iajsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5bCGdXJs5Y+C5pWw6L2s5Li65a+56LGhDQogICAqIEByZXR1cm4ge09iamVjdH0g5a+56LGhDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS50b1F1ZXJ5ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHN0ciA9IHRoaXMgKyAiIjsKICAgIHZhciBpbmRleCA9IHN0ci5pbmRleE9mKCI/Iik7CgogICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKGluZGV4ICsgMSk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4ge307CiAgICB9CgogICAgcmV0dXJuIHN0ci50b1VybCgpOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDliKDpmaTpppblrZfnrKYNCiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciAg6KaB5Yig6Zmk55qE5a2X56ymLCDpu5jorqTliKDpmaTnqbrlrZfnrKYNCiAgICogQHJldHVybiB7U3RyaW5nfSDliKDpmaTlkI7lrZfnrKbkuLINCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnN0YXJ0VHJpbSA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIGlmICghc3RyKSB7CiAgICAgIHN0ciA9ICJcXHMiOwogICAgfSBlbHNlIHsKICAgICAgc3RyID0gc3RyLnJlcGxhY2UoIiQiLCAiXFwkIikucmVwbGFjZSgiXiIsICJcXF4iKS5yZXBsYWNlKCIoIiwgIlxcKCIpLnJlcGxhY2UoIikiLCAiXFwpIik7CiAgICB9CgogICAgdmFyIHJ4ID0gbmV3IFJlZ0V4cCgiKF4iICsgc3RyICsgIiopIiwgImciKTsKICAgIHJldHVybiB0aGlzLnJlcGxhY2UocngsICIiKTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5Yig6Zmk5bC+5a2X56ymDQogICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIg6KaB5Yig6Zmk55qE5a2X56ymLCDpu5jorqTliKDpmaTnqbrlrZfnrKYNCiAgICogQHJldHVybiB7U3RyaW5nfSDliKDpmaTlkI7lrZfnrKbkuLINCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLmVuZFRyaW0gPSBmdW5jdGlvbiAoc3RyKSB7CiAgICBpZiAoIXN0cikgewogICAgICBzdHIgPSAiXFxzIjsKICAgIH0gZWxzZSB7CiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCIkIiwgIlxcJCIpLnJlcGxhY2UoIl4iLCAiXFxeIikucmVwbGFjZSgiKCIsICJcXCgiKS5yZXBsYWNlKCIpIiwgIlxcKSIpOwogICAgfQoKICAgIHZhciByeCA9IG5ldyBSZWdFeHAoIigiICsgc3RyICsgIiokKSIsICJnIik7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKHJ4LCAiIik7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWIoOmZpOmmluWwvuWtl+espg0KICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIOimgeWIoOmZpOeahOWtl+espiwg6buY6K6k5Yig6Zmk56m65a2X56ymDQogICAqIEByZXR1cm4ge1N0cmluZ30g5Yig6Zmk5ZCO5a2X56ym5LiyDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24gKHN0cikgewogICAgaWYgKCFzdHIpIHsKICAgICAgc3RyID0gIlxccyI7CiAgICB9IGVsc2UgewogICAgICBzdHIgPSBzdHIucmVwbGFjZSgiJCIsICJcXCQiKS5yZXBsYWNlKCJeIiwgIlxcXiIpLnJlcGxhY2UoIigiLCAiXFwoIikucmVwbGFjZSgiKSIsICJcXCkiKTsKICAgIH0KCiAgICB2YXIgcnggPSBuZXcgUmVnRXhwKCIoXiIgKyBzdHIgKyAiKil8KCIgKyBzdHIgKyAiKiQpIiwgImciKTsKICAgIHJldHVybiB0aGlzLnJlcGxhY2UocngsICIiKTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5Y+W5paH5pys5bem6L65DQogICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIg57Si5byV55qE5a2X56ymDQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gYmwg5b2T57Si5byV5a2X56ym5LiN5a2Y5Zyo5pe25piv5ZCm5L+d55WZ5bem6L65DQogICAqIEByZXR1cm4ge1N0cmluZ30g5oiq5Y+W5ZCO55qE5a2X56ym5LiyDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS5sZWZ0ID0gZnVuY3Rpb24gKHN0ciwgYmwpIHsKICAgIHZhciBpID0gdGhpcy5pbmRleE9mKHN0cik7CgogICAgaWYgKGkgPT0gLTEpIHsKICAgICAgaWYgKGJsKSB7CiAgICAgICAgcmV0dXJuIHRoaXMgKyAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB0aGlzLnN1YnN0cmluZygwLCBpKTsKICAgIH0KICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5Y+W5paH5pys5Y+z6L65DQogICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIg57Si5byV55qE5a2X56ymDQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gYmwg5b2T57Si5byV5a2X56ym5LiN5a2Y5Zyo5pe25piv5ZCm5L+d55WZ5Y+z6L65DQogICAqIEByZXR1cm4ge1N0cmluZ30g5oiq5Y+W5ZCO55qE5a2X56ym5LiyDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS5yaWdodCA9IGZ1bmN0aW9uIChzdHIsIGJsKSB7CiAgICB2YXIgaSA9IHRoaXMuaW5kZXhPZihzdHIpOwoKICAgIGlmIChpID09IC0xKSB7CiAgICAgIGlmIChibCkgewogICAgICAgIHJldHVybiB0aGlzICsgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gdGhpcy5zdWJzdHJpbmcoaSArIHN0ci5sZW5ndGgpOwogICAgfQogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDlj5bmlofmnKzkuYvpl7QNCiAgICogQHBhcmFtIHtTdHJpbmd9IHN0cl9sIOe0ouW8leeahOW3pui+ueWtl+espg0KICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyX3Ig57Si5byV55qE5Y+z6L655a2X56ymDQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gYmwg5b2T57Si5byV5a2X56ym5LiN5a2Y5Zyo5pe25piv5ZCm5L+d55WZ5Y+z6L65DQogICAqIEByZXR1cm4ge1N0cmluZ30g5oiq5Y+W5ZCO55qE5a2X56ym5LiyDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS5iZXR3ZWVuID0gZnVuY3Rpb24gKHN0cl9sLCBzdHJfciwgYmwpIHsKICAgIHZhciBzdHIgPSB0aGlzLnJpZ2h0KHN0cl9sLCBibCk7CiAgICByZXR1cm4gc3RyLmxlZnQoc3RyX3IsIGJsKTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5pu/5o2i5omA5pyJ5a2X56ym5LiyDQogICAqIEBwYXJhbSB7U3RyaW5nfSBvbGRTdHIg6KKr5pu/5o2i55qE5a2X56ym5LiyDQogICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdTdHIg5pu/5o2i5ZCO55qE5a2X56ym5LiyDQogICAqIEByZXR1cm4ge1N0cmluZ30g5pu/5o2i5ZCO55qE5a2X56ym5LiyDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlQWxsID0gZnVuY3Rpb24gKG9sZFN0ciwgbmV3U3RyKSB7CiAgICB2YXIgdHh0ID0gdGhpcyArICcnOwoKICAgIGlmICghbmV3U3RyKSB7CiAgICAgIG5ld1N0ciA9ICcnOwogICAgfQoKICAgIHdoaWxlICh0eHQuaW5kZXhPZihvbGRTdHIpICE9PSAtMSkgewogICAgICB0eHQgPSB0eHQucmVwbGFjZShvbGRTdHIsIG5ld1N0cik7CiAgICB9CgogICAgcmV0dXJuIHR4dDsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6aqM6K+B5byA5aS05a2X56ym5LiyDQogICAqIEBwYXJhbSB7U3RyaW5nfSBzdGFydFN0ciDlvIDlpLTlrZfnrKbkuLINCiAgICogQHJldHVybiB7Qm9vbGVhbn0g6aqM6K+B5oiQ5Yqf6L+U5ZuedHJ1Ze+8jOWksei0pei/lOWbnmZhbHNlDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS5zdGFydFdpdGggPSBmdW5jdGlvbiAoc3RhcnRTdHIpIHsKICAgIHZhciBkID0gdGhpcy5sZW5ndGggLSBzdGFydFN0ci5sZW5ndGg7CgogICAgaWYgKGQgPj0gMCAmJiB0aGlzLmluZGV4T2Yoc3RhcnRTdHIpID09PSAwKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHJldHVybiBmYWxzZTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6aqM6K+B57uT5p2f5a2X56ym5LiyDQogICAqIEBwYXJhbSB7U3RyaW5nfSBlbmRTdHIg57uT5bC+5a2X56ym5LiyDQogICAqIEByZXR1cm4ge0Jvb2xlYW59IOmqjOivgeaIkOWKn+i/lOWbnnRydWXvvIzlpLHotKXov5Tlm55mYWxzZQ0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUuZW5kV2l0aCA9IGZ1bmN0aW9uIChlbmRTdHIpIHsKICAgIHZhciBkID0gdGhpcy5sZW5ndGggLSBlbmRTdHIubGVuZ3RoOwoKICAgIGlmIChkID49IDAgJiYgdGhpcy5sYXN0SW5kZXhPZihlbmRTdHIpID09IGQpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDmmK/lkKblkKvlrZfnrKbkuLINCiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciA9IFt3b3JkfHdvcmQqfCp3b3JkfCp3b3JkKl3lrZfnrKbkuLIsIOaUr+aMgSrlj7fljLnphY0sIOWJjSrooajnpLrljLnphY3lkI7pnaLlrZfnrKbkuLIsIOWQjirooajnpLrljLnphY3liY3pnaLlrZfnrKbkuLIsIOWJjeWQjirooajnpLrljLnphY3ljIXlkKvlrZfnrKbkuLINCiAgICogQHJldHVybiB7Qm9vbGVhbn0g5YyF5ZCr6L+U5ZuedHJ1ZSwg5LiN5YyF5ZCr6L+U5ZueZmFsc2UNCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHZhciBvID0gdGhpcyArICcnOwoKICAgIGlmIChvID09PSBzdHIpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgaWYgKHN0ci5zdGFydFdpdGgoIioiKSkgewogICAgICB2YXIgayA9IHN0ci5yZXBsYWNlQWxsKCcqJywgJycpOwoKICAgICAgaWYgKHN0ci5lbmRXaXRoKCIqIikpIHsKICAgICAgICByZXR1cm4gby5pbmRleE9mKGspICE9PSAtMTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gby5lbmRXaXRoKGspOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHN0ci5lbmRXaXRoKCIqIikpIHsKICAgICAgdmFyIGsgPSBzdHIucmVwbGFjZUFsbCgnKicsICcnKTsKICAgICAgcmV0dXJuIG8uc3RhcnRXaXRoKGspOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDovazkuLrml7bpl7Tlr7nosaENCiAgICogQHJldHVybiB7RGF0ZX0g5pe26Ze05a+56LGhDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS50b1RpbWUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc3RyID0gdGhpcy5yZXBsYWNlKCdUJywgJyAnKS5yZXBsYWNlKCdaJywgJycpLnJlcGxhY2VBbGwoJy0nLCAnLycpOwogICAgcmV0dXJuIG5ldyBEYXRlKHN0cik7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOi9rOS4uuaXtumXtOagvOW8j+Wtl+espuS4sg0KICAgKiBAcGFyYW0ge1N0cmluZ30gZm9ybWF0IOi9rOaNoueahOagvOW8jw0KICAgKiBAcmV0dXJuIHtTdHJpbmd9IOaXtumXtOagvOW8j+Wtl+espuS4sg0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUudG9UaW1lRm9ybWF0ID0gZnVuY3Rpb24gKGZvcm1hdCkgewogICAgdmFyIHN0ciA9IHRoaXMucmVwbGFjZSgnVCcsICcgJykucmVwbGFjZSgnWicsICcnKS5yZXBsYWNlQWxsKCctJywgJy8nKTsKICAgIHJldHVybiBzdHIudG9UaW1lKCkudG9TdHIoZm9ybWF0KTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6L2s5Li65pWw57uEDQogICAqIEBwYXJhbSB7U3RyaW5nfFJlZ2V4fSBzZXBhcmF0b3Ig5YiG6ZqU56ym5oiW5q2j5YiZDQogICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhMZW4g5pyA5aSn6ZW/5bqmDQogICAqIEByZXR1cm4ge0FycmF5fSDmlbDnu4QNCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnRvQXJyID0gZnVuY3Rpb24gKHNlcGFyYXRvciwgbWF4TGVuKSB7CiAgICByZXR1cm4gdGhpcy5zcGxpdChzZXBhcmF0b3IsIG1heExlbik7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOi9rOS4uuaVsOWtlw0KICAgKiBAcGFyYW0ge051bWJlcn0gbGVuIOS/neeVmemVv+W6piAoKQ0KICAgKiBAcGFyYW0ge1N0cmluZ30gbW9kZSDkv53nlZnmlrnlvI8gKCkNCiAgICogQHJldHVybiB7TnVtYmVyfSDmta7ngrnmlbANCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnRvTnVtID0gZnVuY3Rpb24gKGxlbiwgbW9kZSkgewogICAgcmV0dXJuIG5ldyBOdW1iZXIodGhpcykuZ2V0KGxlbiwgbW9kZSk7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOi9rOS4uuWvueixoQ0KICAgKiBAcmV0dXJuIHtPYmplY3R9IOWvueixoQ0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUudG9PYmogPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZXZhbCh0aGlzICsgJycpOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDovazmraPliJnooajovr7lvI8NCiAgICogQHBhcmFtIHtTdHJpbmd9IG1vZGUgPSBbZ3xpfGdpXSDovazmjaLmlrnlvI8sIGfkuLrlhajpg6gsIGnkuLrkuI3ljLrliIblpKflsI/lhpkNCiAgICogQHJldHVybiB7UmVnZXh9IOi/lOWbnuato+WImeWvueixoQ0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUudG9SeCA9IGZ1bmN0aW9uIChtb2RlKSB7CiAgICBpZiAoIW1vZGUpIHsKICAgICAgbW9kZSA9ICdnaSc7CiAgICB9CgogICAgcmV0dXJuIGV2YWwoIi8iICsgdGhpcyArICIvIiArIG1vZGUpOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDmraPliJnliKTmlq0NCiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciDnlKjkvZzliKTmlq3nmoTmraPliJkNCiAgICogQHBhcmFtIHtTdHJpbmd9IG1vZGUgPSBbZ3xpfGdpXSDovazmjaLmlrnlvI8sIGfkuLrlhajpg6gsIGnkuLrkuI3ljLrliIblpKflsI/lhpkNCiAgICogQHJldHVybiB7Qm9vbGVhbn0g56ym5ZCI5q2j5YiZ6L+U5ZuedHJ1ZSwg5ZCm5YiZ6L+U5ZueZmFsc2UNCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnJlZ2V4ID0gZnVuY3Rpb24gKHN0ciwgbW9kZSkgewogICAgdmFyIHJ4ID0gc3RyLnRvUngobW9kZSk7CiAgICByZXR1cm4gcngudGVzdCh0aGlzICsgJycpOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDpqozor4HlrZfnrKbkuLLmoLzlvI8NCiAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdCDmiYDlsZ7moLzlvI8NCiAgICogQHJldHVybiB7Qm9vbGVhbn0g6aqM6K+B6YCa6L+H6L+U5ZuedHJ1ZSwg5aSx6LSl6L+U5ZueZmFsc2UNCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLmNoZWNrRm9ybWF0ID0gZnVuY3Rpb24gKGZvcm1hdCkgewogICAgdmFyIGJsID0gZmFsc2U7CiAgICB2YXIgdmFsdWUgPSB0aGlzICsgJyc7CiAgICB2YXIgZiA9IGZvcm1hdC50b0xvd2VyQ2FzZSgpOwoKICAgIHN3aXRjaCAoZikgewogICAgICBjYXNlICJwaG9uZSI6CiAgICAgICAgYmwgPSAvXjA/KDEzfDE0fDE1fDE2fDE3fDE4fDE5KVswLTldezl9JC8udGVzdCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJlbWFpbCI6CiAgICAgICAgYmwgPSAvXlx3Wy1cdy4rXSpAKFtBLVphLXowLTldWy1BLVphLXowLTldK1wuKStbQS1aYS16XXsyLDE0fSQvZ2kudGVzdCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJ1c2VybmFtZSI6CiAgICAgICAgYmwgPSAvXlthLXowLTlBLVpfXSskLy50ZXN0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgInBhc3N3b3JkIjoKICAgICAgICBibCA9IC9eW2EtejAtOUEtWl0rJC8udGVzdCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJ1cmwiOgogICAgICAgIGJsID0gL14oKGh0dHBzfGh0dHB8ZnRwfHJ0c3B8bW1zKT86XC9cLylbXlxzXSsvZ2kudGVzdCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJkYXRlIjoKICAgICAgICBibCA9IC9eXGR7NH0oXC18XC98XC4pKDBbMS05XXwxWzAxMl18WzEtOV0pKFwtfFwvfFwuKShbMTJdWzAtOV18MFsxLTldfDNbMDFdfFsxLTldKSQvLnRlc3QodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAidGltZSI6CiAgICAgICAgYmwgPSAvXihbMDFdWzAtOV18MlswLTNdKTooWzAtNF1bMC05XXw1WzAtOV0pKDooWzAtNF1bMC05XXw1WzAtOV0pKT8kLy50ZXN0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgImRhdGV0aW1lIjoKICAgICAgICBibCA9IC9eXGR7NH0oXC18XC98XC4pKDBbMS05XXwxWzAxMl18WzEtOV0pKFwtfFwvfFwuKShbMTJdWzAtOV18MFsxLTldfDNbMDFdfFsxLTldKSAoWzAxXVswLTldfDJbMC0zXSk6KFswLTRdWzAtOV18NVswLTldKSg6KFswLTRdWzAtOV18NVswLTldKSk/JC8udGVzdCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJkYXRlaXNvIjoKICAgICAgICBibCA9IC9eXGR7NH0tKDBbMS05XXwxWzAxMl18WzEtOV0pLShbMTJdWzAtOV18MFsxLTldfDNbMDFdfFsxLTldKSggKFswMV1bMC05XXwyWzAtM10pOihbMC00XVswLTldfDVbMC05XSkoOihbMC00XVswLTldfDVbMC05XSkpPyk/JC8udGVzdCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJudW1iZXIiOgogICAgICAgIGJsID0gL15bMS05XStbMC05XSooXC5bMC05XSt8WzAtOV0qKXwwXC5bMC05XSt8MCQvLnRlc3QodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAiZW4iOgogICAgICAgIGJsID0gL15bYS16QS1aXSskLy50ZXN0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgIm51bSI6CiAgICAgIGNhc2UgImRpZ2l0cyI6CiAgICAgICAgYmwgPSAvXlswLTldKyQvLnRlc3QodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAiY2giOgogICAgICBjYXNlICJjaHMiOgogICAgICBjYXNlICJjaGluZXNlIjoKICAgICAgICBibCA9IC9eW1x1NGUwMC1cdTlmYTVdKyQvLnRlc3QodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICBjb25zb2xlLmxvZygn6L6T5YWl55qE57G75Z6L6ZSZ6K+vJyk7CiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIGJsOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDnvJbor5HmqKHmnb8NCiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiDlr7nosaENCiAgICogQHJldHVybiB7U3RyaW5nfSDnvJbor5HlkI7nmoTlrZfnrKbkuLINCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnRwbCA9IGZ1bmN0aW9uIChvYmopIHsKICAgIHZhciB0ZXh0ID0gdGhpcyArICcnOwoKICAgIGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgaWYgKG9iaikgewogICAgICAgIGZvciAodmFyIGsgaW4gb2JqKSB7CiAgICAgICAgICB0aGlzW2tdID0gb2JqW2tdOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGV2YWwoImAiICsgdGV4dCArICJgIik7CiAgICB9CgogICAgcmV0dXJuIHJlbmRlcigpOwogIH07Cn0pKCk7Ci8qID09IOaVsOe7hOWOn+Wei+WHveaVsCA9PSAqLwoKCihmdW5jdGlvbiAoKSB7CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDliKTmlq3lr7nosaHmmK/lkKbnm7jkvLwNCiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiDooqvliKTmlq3lr7nosaENCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOeUqOS9nOWIpOaWreeahOWvueixoQ0KICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFsbCDmmK/lkKblrozlhajnm7jlkIwNCiAgICogQHJldHVybiB7Qm9vbGVhbn0g55u45Ly86L+U5ZuedHJ1Ze+8jOWQpuWImei/lOWbnmZhbHNlDQogICAqLwogIGZ1bmN0aW9uIGFzKG9iaiwgcXVlcnksIGFsbCkgewogICAgaWYgKG9iaikgewogICAgICB2YXIgYmwgPSB0cnVlOwoKICAgICAgdmFyIHR5cGUgPSBfdHlwZW9mKG9iaik7CgogICAgICBpZiAodHlwZSAhPT0gX3R5cGVvZihxdWVyeSkpIHsKICAgICAgICAvLyDlpoLmnpznsbvlnovkuI3kuIDoh7Qg5YiZ5Lik5Liq5peg55u45Ly8CiAgICAgICAgYmwgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnYm9vbCcgfHwgdHlwZSA9PT0gJ251bWJlcicpIHsKICAgICAgICBibCA9IG9iaiA9PT0gcXVlcnk7CiAgICAgIH0gZWxzZSBpZiAob2JqLmNvbnN0cnVjdG9yID09IEFycmF5KSB7CiAgICAgICAgLy8g5aaC5p6c6YO95piv5pWw57uECiAgICAgICAgdmFyIGxoID0gb2JqLmxlbmd0aDsKCiAgICAgICAgaWYgKGFsbCAmJiBsaCAhPT0gcXVlcnkubGVuZ3RoKSB7CiAgICAgICAgICAvLyDopoHmsYLlrozlhajkuIDoh7Qg6ICM6ZW/5bqm5LiN5LiA6Ie0IOivtOaYjuS4jeebuOS8vAogICAgICAgICAgYmwgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5ZCm5YiZ5Yik5pat5pWw57uE6YeM55qE5q+P5Liq5oiQ5ZGY5piv5ZCm55u45Ly8CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxoOyBpKyspIHsKICAgICAgICAgICAgaWYgKCFhcyhvYmpbaV0sIHF1ZXJ5W2ldKSkgewogICAgICAgICAgICAgIGJsID0gZmFsc2U7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5aaC5p6c57G75Z6L5Li65a+56LGhCiAgICAgICAgaWYgKGFsbCAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCAhPT0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocXVlcnkpLmxlbmd0aCkgewogICAgICAgICAgLy8g5aaC5p6c6KaB5rGC5a6M5YWo5LiA6Ie0LCDogIzlsZ7mgKfplb/luqbkuI3kuIDoh7TvvIzliJnkuI3nm7jkvLwKICAgICAgICAgIGJsID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWQpuWImemDveS4uuWvueixoeWImeWIpOaWreWFtuWAvOaYr+WQpuS4gOiHtAogICAgICAgICAgZm9yICh2YXIgayBpbiBxdWVyeSkgewogICAgICAgICAgICBpZiAoIWFzKG9ialtrXSwgcXVlcnlba10sIGFsbCkpIHsKICAgICAgICAgICAgICBibCA9IGZhbHNlOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gYmw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQogIC8qKg0KICAgKiDliJfooajovazmoJHlvaLliJfooagNCiAgICogQHBhcmFtIHtBcnJheX0gbGlzdCDliJfooagNCiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIElE5a2X5q61DQogICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBJROWvueW6lOWAvA0KICAgKiBAcGFyYW0ge1N0cmluZ30gZmF0aGVyX2lkIOS4iue6p0lE5a2X5q61DQogICAqIEBwYXJhbSB7U3RyaW5nfSBzdWIg5a2Q57G75a2X5q61DQogICAqIEByZXR1cm4ge0FycmF5fSDov5Tlm57lsZ7mgKflgLwNCiAgICovCgoKICBmdW5jdGlvbiB0b1RyZWUobGlzdCwgaWQpIHsKICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDsKICAgIHZhciBmYXRoZXJfaWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICdmYXRoZXJfaWQnOwogICAgdmFyIHN1YiA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogJ3N1Yic7CiAgICB2YXIgYXJyID0gW107CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBvID0gbGlzdFtpXTsKCiAgICAgIGlmIChvW2ZhdGhlcl9pZF0gPT09IHZhbHVlKSB7CiAgICAgICAgb1tzdWJdID0gdG9UcmVlKGxpc3QsIGlkLCBvW2lkXSwgZmF0aGVyX2lkLCBzdWIpOwogICAgICAgIGFyci5wdXNoKG8pOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGFycjsKICB9CgogIGZ1bmN0aW9uIHRvTGlzdChsaXN0KSB7CiAgICB2YXIgc3ViID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnc3ViJzsKICAgIHZhciBhcnIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFtdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICB2YXIgbyA9IGxpc3RbaV07CiAgICAgIHZhciBsdCA9IG9bc3ViXTsKICAgICAgZGVsZXRlIG9bc3ViXTsKICAgICAgYXJyLnB1c2gobyk7CgogICAgICBpZiAobHQgJiYgbHQubGVuZ3RoID4gMCkgewogICAgICAgIHRvTGlzdChsdCwgc3ViLCBhcnIpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGFycjsKICB9CiAgLyoqDQogICAqIOWIl+ihqOi9rOagkeW9ouWIl+ihqA0KICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgSUTlrZfmrrUNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIElE5a+55bqU5YC8DQogICAqIEBwYXJhbSB7U3RyaW5nfSBmYXRoZXJfaWQg5LiK57qnSUTlrZfmrrUNCiAgICogQHBhcmFtIHtTdHJpbmd9IHN1YiDlrZDnsbvlrZfmrrUNCiAgICogQHJldHVybiB7QXJyYXl9IOi/lOWbnuaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS50b1RyZWUgPSBmdW5jdGlvbiAoaWQpIHsKICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDsKICAgIHZhciBmYXRoZXJfaWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdmYXRoZXJfaWQnOwogICAgdmFyIHN1YiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJ3N1Yic7CiAgICByZXR1cm4gdG9UcmVlKHRoaXMsIGlkLCB2YWx1ZSwgZmF0aGVyX2lkLCBzdWIpOwogIH07CiAgLyoqDQogICAqIOWIl+ihqOi9rOagkeW9ouWIl+ihqA0KICAgKiBAcGFyYW0ge1N0cmluZ30gc3ViIOWtkOexu+Wtl+autQ0KICAgKiBAcGFyYW0ge0FycmF5fSBhcnIg57uT5p6c5pWw57uEDQogICAqIEByZXR1cm4ge0FycmF5fSDov5Tlm57mlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUudG9MaXN0ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHN1YiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ3N1Yic7CiAgICB2YXIgYXJyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTsKICAgIHJldHVybiB0b0xpc3QodGhpcywgc3ViLCBhcnIpOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDmi7fotJ3lr7nosaENCiAgICogQHBhcmFtIHtCb29sZWFufSBoYXMg5piv5ZCm6Z2e56m65ou36LSd77yM5aaC5p6c5ZCr5pyJ5pWw5o2u5omN5ou36LSd77yM5LiN5ZCr5pWw5o2u5LiN5ou36LSdDQogICAqIEByZXR1cm4ge0FycmF5fSDmlrDmlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIChoYXMpIHsKICAgIHZhciBhcnJfbmV3ID0gW107CiAgICB2YXIgYXJyID0gdGhpczsKCiAgICBpZiAoaGFzKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG8gPSBhcnJbaV07CgogICAgICAgIGlmIChvKSB7CiAgICAgICAgICBhcnJfbmV3W2ldID0gbzsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYXJyX25ld1tpXSA9IGFycltpXTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBhcnJfbmV3OwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDpgY3ljoblr7nosaHmiafooYzlh73mlbANCiAgICogQHBhcmFtIHtGdW5jdGlvbihPYmplY3QpOkJvb2xlYW59IGZ1bmMg5Ye95pWw5ZCNDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmZ1bmMgPSBmdW5jdGlvbiAoZnVuYykgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChmdW5jKHRoaXNbaV0pKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5pWw57uE6L2s5a2X56ym5LiyDQogICAqIEBwYXJhbSB7U3RyaW5nfSBzcGxpdFN0ciDliIbpmpTnrKYNCiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSDlr7nosaHlsZ7mgKflkI0NCiAgICogQHJldHVybiB7U3RyaW5nfSDlrZfnrKbkuLINCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUudG9TdHIgPSBmdW5jdGlvbiAoc3BsaXRTdHIsIGtleSkgewogICAgdmFyIGFyciA9IHRoaXM7CiAgICB2YXIgc3RyID0gIiI7CgogICAgaWYgKGtleSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBvID0gYXJyW2ldOwoKICAgICAgICBpZiAob1trZXldKSB7CiAgICAgICAgICBzdHIgKz0gc3BsaXRTdHIgKyBvW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBvID0gYXJyW2ldOwogICAgICAgIHN0ciArPSBzcGxpdFN0ciArIG87CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gc3RyLnJlcGxhY2Uoc3BsaXRTdHIsICIiKTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5riF56m65pWw57uEDQogICAqIEByZXR1cm4ge0FycmF5fSDmuIXnqbrnmoTmlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnNwbGljZSgwLCB0aGlzLmxlbmd0aCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5L+u5pS55pWw57uE5oiQ5ZGYDQogICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmkJzntKLmnaHku7YNCiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiDkv67mlLnpobkNCiAgICogQHJldHVybiB7QXJyYXl9IOWIoOmZpOWQjueahOaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAocXVlcnksIG9iaikgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBvID0gdGhpc1tpXTsKCiAgICAgIGZvciAodmFyIGsgaW4gcXVlcnkpIHsKICAgICAgICBpZiAoYXMobywgcXVlcnkpKSB7CiAgICAgICAgICB0aGlzW2ldID0gb2JqOwogICAgICAgIH0KCiAgICAgICAgOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOaVsOe7hOWIl+ihqOWPluaVsOe7hA0KICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IOWPlueahOWxnuaApw0KICAgKiBAcmV0dXJuIHtBcnJheX0g5oiq5Y+W55qE5pWw57uEDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLnRvQXJyID0gZnVuY3Rpb24gKGtleSkgewogICAgdmFyIGFyciA9IFtdOwogICAgdmFyIGx0ID0gdGhpczsKICAgIHZhciBsZW4gPSBsdC5sZW5ndGg7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICB2YXIgbyA9IGx0W2ldOwogICAgICBhcnIucHVzaChvW2tleV0pOwogICAgfQoKICAgIHJldHVybiBhcnI7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOS7juaVsOe7hOiOt+WPluWvueixoQ0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kIOaYr+WQpue7k+adnw0KICAgKiBAcmV0dXJuIHtPYmplY3R9IOWvueixoQ0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAocXVlcnksIGVuZCkgewogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIGlmIChlbmQpIHsKICAgICAgICB2YXIgb2JqOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBvID0gdGhpc1tpXTsKCiAgICAgICAgICBpZiAoYXMobywgcXVlcnkpKSB7CiAgICAgICAgICAgIG9iaiA9IG87CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG9iajsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgbGlzdCA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBvID0gdGhpc1tpXTsKCiAgICAgICAgICBpZiAoYXMobywgcXVlcnkpKSB7CiAgICAgICAgICAgIGxpc3QucHVzaChvKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBsaXN0OwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgbGlzdCA9IFtdOwogICAgICBsaXN0LmFkZExpc3QodGhpcyk7CiAgICAgIHJldHVybiBsaXN0OwogICAgfQogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDku47mlbDnu4Tojrflj5blr7nosaENCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgKiBAcmV0dXJuIHtPYmplY3R9IOWvueixoQ0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5nZXRPYmogPSBmdW5jdGlvbiAocXVlcnkpIHsKICAgIHZhciBvYmo7CgogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBvID0gdGhpc1tpXTsKCiAgICAgICAgaWYgKGFzKG8sIHF1ZXJ5KSkgewogICAgICAgICAgb2JqID0gbzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOiOt+WPluaVsOe7hOWvueixoeeahOWxnuaAp+WAvA0KICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IOWxnuaAp+WQjQ0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEByZXR1cm4ge09iamVjdH0g5bGe5oCn5YC8DQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmdldFZhbCA9IGZ1bmN0aW9uIChrZXksIHF1ZXJ5KSB7CiAgICB2YXIgb2JqID0gdGhpcy5nZXRPYmoocXVlcnkpOwoKICAgIGlmIChvYmopIHsKICAgICAgcmV0dXJuIG9ialtrZXldOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOiOt+WPluespuWQiOadoeS7tueahOaVsOe7hOWvueixoQ0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEByZXR1cm4ge0FycmF5fSDlr7nosaHmlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuZ2V0TGlzdCA9IGZ1bmN0aW9uIChxdWVyeSkgewogICAgdmFyIGFyciA9IFtdOwoKICAgIGlmIChxdWVyeSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbyA9IHRoaXNbaV07CgogICAgICAgIGlmIChhcyhvLCBxdWVyeSkpIHsKICAgICAgICAgIGFyci5wdXNoKG8pOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgYXJyID0gdGhpcy5jb3B5KCk7CiAgICB9CgogICAgcmV0dXJuIGFycjsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6I635Y+W5pWw57uE5omA5pyJ5a+56LGh55qE5bGe5oCn5YC8DQogICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg5bGe5oCn5ZCNDQogICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICogQHJldHVybiB7QXJyYXl9IOWxnuaAp+WAvOaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5nZXRBcnIgPSBmdW5jdGlvbiAoa2V5LCBxdWVyeSkgewogICAgdmFyIGFyciA9IFtdOwoKICAgIGlmIChxdWVyeSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbyA9IHRoaXNbaV07CgogICAgICAgIGlmIChhcyhvLCBxdWVyeSkpIHsKICAgICAgICAgIGFyci5wdXNoKG9ba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbyA9IHRoaXNbaV07CiAgICAgICAgYXJyLnB1c2gob1trZXldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBhcnI7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOe7meaVsOe7hOWvueixoea3u+WKoOWxnuaAp+WAvA0KICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IOWxnuaAp+WQjQ0KICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUg5bGe5oCn5YC8DQogICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICogQHBhcmFtIHtCb29sZWFufSBlbmQg5piv5ZCm5Lit5pat5b6q546vLOS4reaWreWPqua3u+WKoOe7meesrOS4gOS4quespuWQiOadoeS7tueahOWvueixoQ0KICAgKiBAcmV0dXJuIHtBcnJheX0g5a+56LGh5pWw57uEDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmFkZFZhbCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlLCBxdWVyeSwgZW5kKSB7CiAgICBpZiAocXVlcnkpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG8gPSB0aGlzW2ldOwoKICAgICAgICBpZiAoYXMobywgcXVlcnkpKSB7CiAgICAgICAgICBpZiAoIW9ba2V5XSkgewogICAgICAgICAgICBvW2tleV0gPSB2YWx1ZTsKCiAgICAgICAgICAgIGlmIChlbmQpIHsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG8gPSB0aGlzW2ldOwoKICAgICAgICBpZiAoIW9ba2V5XSkgewogICAgICAgICAgb1trZXldID0gdmFsdWU7CgogICAgICAgICAgaWYgKGVuZCkgewogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g57uZ5pWw57uE5re75Yqg5a+56LGhDQogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmog5a+56LGhDQogICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICogQHJldHVybiB7QXJyYXl9IOWvueixoeaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5hZGRPYmogPSBmdW5jdGlvbiAob2JqLCBxdWVyeSkgewogICAgdmFyIGhhcyA9IGZhbHNlOwoKICAgIGlmIChxdWVyeSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoYXModGhpc1tpXSwgcXVlcnkpKSB7CiAgICAgICAgICBoYXMgPSB0cnVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoYXModGhpc1tpXSwgb2JqKSkgewogICAgICAgICAgaGFzID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmICghaGFzKSB7CiAgICAgIHRoaXMucHVzaChvYmopOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDnu5nmlbDnu4Tmt7vliqDlpJrkuKrlr7nosaENCiAgICogQHBhcmFtIHtBcnJheX0gbGlzdCDmlbDnu4QNCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgKiBAcmV0dXJuIHtBcnJheX0g5a+56LGh5pWw57uEDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmFkZExpc3QgPSBmdW5jdGlvbiAobGlzdCwgcXVlcnkpIHsKICAgIHZhciBsZW4gPSBsaXN0Lmxlbmd0aDsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgIHRoaXMuYWRkT2JqKGxpc3RbaV0sIHF1ZXJ5KTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g57uZ5pWw57uE5re75Yqg5LiA5Liq5a+56LGh5oiW5YiX6KGoDQogICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmpPckxpc3Qg5a+56LGh5oiW5pWw57uEDQogICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICogQHJldHVybiB7QXJyYXl9IOWvueixoeaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAob2JqT3JMaXN0LCBxdWVyeSkgewogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqT3JMaXN0KSkgewogICAgICB0aGlzLmFkZExpc3Qob2JqT3JMaXN0LCBxdWVyeSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmFkZE9iaihvYmpPckxpc3QsIHF1ZXJ5KTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5Yig6Zmk5pWw57uE5Lit5a+56LGh55qE5bGe5oCnDQogICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg5a+56LGh5bGe5oCn6ZSuDQogICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICogQHBhcmFtIHtCb29sZWFufSBlbmQg5piv5ZCm5Lit5pat5b6q546vLOS4reaWreWPquWIoOmZpOesrOS4gOS4quespuWQiOadoeS7tueahOWvueixoQ0KICAgKiBAcmV0dXJuIHtBcnJheX0g5a+56LGh5pWw57uEDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmRlbFZhbCA9IGZ1bmN0aW9uIChrZXksIHF1ZXJ5LCBlbmQpIHsKICAgIGlmIChxdWVyeSkgewogICAgICBpZiAoZW5kKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgbyA9IHRoaXNbaV07CgogICAgICAgICAgaWYgKGFzKG8sIHF1ZXJ5KSkgewogICAgICAgICAgICBkZWxldGUgb1trZXldOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgbyA9IHRoaXNbaV07CgogICAgICAgICAgaWYgKGFzKG8sIHF1ZXJ5KSkgewogICAgICAgICAgICBkZWxldGUgb1trZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKGVuZCkgewogICAgICAgIGRlbGV0ZSB0aGlzWzBdW2tleV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgbyA9IHRoaXNbaV07CiAgICAgICAgICBkZWxldGUgb1trZXldOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDliKDpmaTmlbDnu4TkuK3nmoTlr7nosaENCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCDmmK/lkKbkuK3mlq3lvqrnjq8s5Lit5pat5Y+q5Yig6Zmk56ys5LiA5Liq56ym5ZCI5p2h5Lu255qE5a+56LGhDQogICAqIEByZXR1cm4ge0FycmF5fSDlr7nosaHmlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuZGVsID0gZnVuY3Rpb24gKHF1ZXJ5LCBlbmQpIHsKICAgIHZhciBibCA9IGZhbHNlOwoKICAgIGlmIChlbmQpIHsKICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoYXModGhpc1tpXSwgcXVlcnkpKSB7CiAgICAgICAgICAgIHRoaXMuc3BsaWNlKGksIDEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnNwbGljZShpLCAxKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgIGlmIChhcyh0aGlzW2ldLCBxdWVyeSkpIHsKICAgICAgICAgICAgdGhpcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICB0aGlzLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5Yig6Zmk5aSa5Liq5LiN5ZCM55qE5pWw57uE5oiQ5ZGYDQogICAqIEBwYXJhbSB7QXJyYXl9IGxpc3Qg5p+l6K+i5p2h5Lu25YiX6KGoDQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kIOaYr+WQpuS4reaWreW+queOryzkuK3mlq3lj6rliKDpmaTnrKzkuIDkuKrnrKblkIjmnaHku7bnmoTlr7nosaENCiAgICogQHJldHVybiB7QXJyYXl9IOWvueixoeaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5kZWxMaXN0ID0gZnVuY3Rpb24gKGxpc3QsIGVuZCkgewogICAgdmFyIGxlbiA9IGxpc3QubGVuZ3RoOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgdGhpcy5kZWwobGlzdFtpXSwgZW5kKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6K6+572u5pWw57uE5Lit5a+56LGh55qE5bGe5oCn5YC8DQogICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg5bGe5oCn6ZSuDQogICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSDlsZ7mgKflgLwNCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCDmmK/lkKbkuK3mlq3lvqrnjq8s5Lit5pat5Y+q5L+u5pS556ys5LiA5Liq56ym5ZCI5p2h5Lu255qE5a+56LGhDQogICAqIEByZXR1cm4ge0FycmF5fSDlr7nosaHmlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuc2V0VmFsID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIHF1ZXJ5LCBlbmQpIHsKICAgIGlmIChxdWVyeSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoYXModGhpc1tpXSwgcXVlcnkpKSB7CiAgICAgICAgICB0aGlzW2ldW2tleV0gPSB2YWx1ZTsKCiAgICAgICAgICBpZiAoZW5kKSB7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpc1tpXVtrZXldID0gdmFsdWU7CgogICAgICAgIGlmIChlbmQpIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDorr7nva7mlbDnu4TkuK3lr7nosaHnmoTlsZ7mgKflgLwNCiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiDlr7nosaENCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCDmmK/lkKbkuK3mlq3lvqrnjq8s5Lit5pat5Y+q5L+u5pS556ys5LiA5Liq56ym5ZCI5p2h5Lu255qE5a+56LGhDQogICAqIEByZXR1cm4ge0FycmF5fSDlr7nosaHmlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuc2V0T2JqID0gZnVuY3Rpb24gKG9iaiwgcXVlcnksIGVuZCkgewogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBvID0gdGhpc1tpXTsKCiAgICAgICAgaWYgKGFzKG8sIHF1ZXJ5KSkgewogICAgICAgICAgdGhpc1tpXSA9IG9iajsKCiAgICAgICAgICBpZiAoZW5kKSB7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDorr7nva7mlbDnu4TkuK3lr7nosaHnmoTlsZ7mgKflgLwNCiAgICogQHBhcmFtIHtBcnJheX0gbGlzdCDlr7nosaHliJfooagNCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCDmmK/lkKbkuK3mlq3lvqrnjq8s5Lit5pat5Y+q5L+u5pS556ys5LiA5Liq56ym5ZCI5p2h5Lu255qE5a+56LGhDQogICAqIEByZXR1cm4ge0FycmF5fSDlr7nosaHmlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuc2V0TGlzdCA9IGZ1bmN0aW9uIChsaXN0LCBxdWVyeSwgZW5kKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgdGhpcy5zZXRPYmoodGhpc1tpXSwgcXVlcnksIGVuZCk7CiAgICB9CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOaQnOe0ouespuWQiOadoeS7tueahOaIkOWRmA0KICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIOaQnOe0ouWFs+mUruivjQ0KICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IOS4u+mUriwg55So5LqO5YiX6KGo5pWw57uE5pe2DQogICAqIEByZXR1cm4ge0FycmF5fSDov5Tlm57nrKblkIjmnaHku7bnmoTnu5PmnpwNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24gKHN0ciwga2V5KSB7CiAgICB2YXIgYXJyID0gW107CiAgICB2YXIgZnVuYzsKICAgIHZhciBrID0gc3RyLnJlcGxhY2VBbGwoJyonLCAnJyk7CgogICAgaWYgKHN0ci5zdGFydFdpdGgoIioiKSkgewogICAgICBpZiAoc3RyLmVuZFdpdGgoIioiKSkgewogICAgICAgIGlmIChrZXkpIHsKICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKG8pIHsKICAgICAgICAgICAgaWYgKG9ba2V5XS5pbmRleE9mKGspICE9PSAtMSkgewogICAgICAgICAgICAgIGFyci5wdXNoKG8pOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gZnVuYyhvKSB7CiAgICAgICAgICAgIGlmIChvLmluZGV4T2YoaykgIT09IC0xKSB7CiAgICAgICAgICAgICAgYXJyLnB1c2gobyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChrZXkpIHsKICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKG8pIHsKICAgICAgICAgICAgaWYgKG9ba2V5XS5lbmRXaXRoKGspKSB7CiAgICAgICAgICAgICAgYXJyLnB1c2gobyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKG8pIHsKICAgICAgICAgICAgaWYgKG8uZW5kV2l0aChrKSkgewogICAgICAgICAgICAgIGFyci5wdXNoKG8pOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmIChzdHIuZW5kV2l0aCgiKiIpKSB7CiAgICAgIGlmIChrZXkpIHsKICAgICAgICBmdW5jID0gZnVuY3Rpb24gZnVuYyhvKSB7CiAgICAgICAgICBpZiAob1trZXldLnN0YXJ0V2l0aChrKSkgewogICAgICAgICAgICBhcnIucHVzaChvKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKG8pIHsKICAgICAgICAgIGlmIChvLnN0YXJ0V2l0aChrKSkgewogICAgICAgICAgICBhcnIucHVzaChvKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAoa2V5KSB7CiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIGZ1bmMobykgewogICAgICAgICAgaWYgKG9ba2V5XSA9PT0gaykgewogICAgICAgICAgICBhcnIucHVzaChvKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKG8pIHsKICAgICAgICAgIGlmIChvID09PSBrKSB7CiAgICAgICAgICAgIGFyci5wdXNoKG8pOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLm1hcChmdW5jKTsKICAgIHJldHVybiBhcnI7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWIpOaWreaYr+WQpuWMheWQq+aIkOWRmA0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEByZXR1cm4ge0Jvb2xlYW59IOacieWImei/lOWbnnRydWXvvIzmsqHmnInliJnov5Tlm55mYWxzZQ0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAocXVlcnkpIHsKICAgIHZhciBoYXMgPSBmYWxzZTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGFzKHRoaXNbaV0sIHF1ZXJ5KSkgewogICAgICAgIGhhcyA9IHRydWU7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICA7CiAgICByZXR1cm4gaGFzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDlj5blkKvljLnphY3pobkNCiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciDooqvljLnphY3nmoTlrZfnrKbkuLINCiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSDnlKjkuo7lr7nosaHliJfooajml7bmn6Xor6INCiAgICogQHJldHVybiB7T2JqZWN0fSDov5Tlm57ljLnphY3nmoTnrKzkuIDpobkNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuZ2V0TWF0Y2ggPSBmdW5jdGlvbiAoc3RyLCBrZXkpIHsKICAgIHZhciBvYmo7CgogICAgaWYgKGtleSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoc3RyLmhhcyh0aGlzW2ldW2tleV0pKSB7CiAgICAgICAgICBvYmogPSB0aGlzW2ldOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoc3RyLmhhcyh0aGlzW2ldKSkgewogICAgICAgICAgb2JqID0gdGhpc1tpXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOaVsOe7hOi9rOWvueixoQ0KICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IOS4u+mUriwg55So5L2c5a+56LGh57Si5byVDQogICAqIEByZXR1cm4ge09iamVjdH0g5a+56LGhDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLnRvT2JqID0gZnVuY3Rpb24gKGtleSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgdGhpcy5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgdmFyIG5hbWUgPSBvW2tleV07CgogICAgICBpZiAobmFtZSkgewogICAgICAgIG9ialtuYW1lXSA9IG87CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIG9iajsKICB9Owp9KSgpOw=="},{"version":3,"sources":["D:/WorkSpace/localCode/CS211180/client_admin/src/plugins/sdk.js"],"names":["Number","prototype","toFloor","len","n","Math","pow","floor","toCeil","ceil","toRound","round","get","mode","toString","toStr","s","rs","indexOf","length","toTime","Date","format","o","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","test","x","RegExp","$1","replace","getFullYear","substr","k","stamp","timestamp","parse","interval","endTime","time_unit","startTime","stime","etime","usedTime","addDays","days","setDate","addSeconds","seconds","setSeconds","String","md5","$","aes_encode","key","iv","clearEncoding","cipherEncoding","cipherChunks","cipher","createCipheriv","setAutoPadding","push","update","join","aes_decode","decipher","createDecipheriv","pinyin","pinyinS","arr","str","i","ar","charAt","toLocaleUpperCase","substring","toJson","JSON","e","console","log","toUrl","split","obj","func","decodeURI","toQuery","index","startTrim","rx","endTrim","trim","left","bl","right","between","str_l","str_r","replaceAll","oldStr","newStr","txt","startWith","startStr","d","endWith","endStr","lastIndexOf","has","toTimeFormat","toArr","separator","maxLen","toNum","toObj","eval","toRx","regex","checkFormat","value","f","toLowerCase","tpl","text","render","as","query","all","type","constructor","Array","lh","Object","getOwnPropertyNames","toTree","list","id","father_id","sub","toList","lt","copy","arr_new","splitStr","clear","splice","set","end","addList","getObj","getVal","getList","getArr","addVal","addObj","add","objOrList","isArray","delVal","del","delList","setVal","setObj","setList","search","map","getMatch","name"],"mappings":"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","sourcesContent":["/* == 数字原型函数 == */\r\n(function() {\r\n\t/**\r\n\t * @description 去尾法\r\n\t * @param {Number} len 保留长度\r\n\t * @return {Number} 数值\r\n\t */\r\n\tNumber.prototype.toFloor = function(len) {\r\n\t\tvar n = Math.pow(10, len);\r\n\t\treturn Math.floor(this * n) / n;\r\n\t};\r\n\t/**\r\n\t * @description 进一法\r\n\t * @param {Number} len 保留长度\r\n\t * @return {Number} 数值\r\n\t */\r\n\tNumber.prototype.toCeil = function(len) {\r\n\t\tvar n = Math.pow(10, len);\r\n\t\treturn Math.ceil(this * n) / n;\r\n\t};\r\n\t/**\r\n\t * @description 四舍五入法\r\n\t * @param {Number} len 保留长度\r\n\t * @return {Number} 数值\r\n\t */\r\n\tNumber.prototype.toRound = function(len) {\r\n\t\tvar n = Math.pow(10, len);\r\n\t\treturn Math.round(this * n) / n;\r\n\t};\r\n\t/**\r\n\t * @description 数值转字符串, 保留尾数长度\r\n\t * @param {Number} len 保留长度\r\n\t * @param {String} mode 保留方式\r\n\t * @return {String} 截取后字符串\r\n\t */\r\n\tNumber.prototype.get = function(len, mode) {\r\n\t\tvar n;\r\n\t\tswitch (mode) {\r\n\t\t\tcase 1:\r\n\t\t\tcase \"toRound\":\r\n\t\t\t\tn = this.toRound(len)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\tcase \"toCeil\":\r\n\t\t\t\tn = this.toCeil(len)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\tcase \"toFloor\":\r\n\t\t\t\tn = this.toFloor(len)\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tn = this.toString();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\t/**\r\n\t * @description 数值转字符串, 保留尾数长度\r\n\t * @param {Number} len 保留长度\r\n\t * @param {String} mode 保留方式\r\n\t * @return {String} 截取后字符串\r\n\t */\r\n\tNumber.prototype.toStr = function(len, mode) {\r\n\t\tvar n = this.get(len, mode);\r\n\t\tvar s = n.toString();\r\n\t\tvar rs = s.indexOf('.');\r\n\t\tif (len > 0 && rs < 0) {\r\n\t\t\trs = s.length;\r\n\t\t\ts += '.';\r\n\t\t}\r\n\t\twhile (s.length <= rs + len) {\r\n\t\t\ts += '0';\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n\t/**\r\n\t * @description 转为时间类型\r\n\t * @return {Date} 时间对象\r\n\t */\r\n\tNumber.prototype.toTime = function() {\r\n\t\treturn new Date(this * 1000);\r\n\t};\r\n})();\r\n\r\n/* == 时间原型函数 == */\r\n(function() {\r\n\t/**\r\n\t * @description 时间格式化\r\n\t * @param {String} format 指定格式\r\n\t * @return {String} 时间格式字符串\r\n\t */\r\n\tDate.prototype.toStr = function(format) {\r\n\t\tvar o = {\r\n\t\t\t\"M+\": this.getMonth() + 1,\r\n\t\t\t\"d+\": this.getDate(),\r\n\t\t\t\"h+\": this.getHours(),\r\n\t\t\t\"m+\": this.getMinutes(),\r\n\t\t\t\"s+\": this.getSeconds(),\r\n\t\t\t\"q+\": Math.floor((this.getMonth() + 3) / 3),\r\n\t\t\t\"S\": this.getMilliseconds()\r\n\t\t};\r\n\t\tif (/(y+)/.test(format)) {\r\n\t\t\tvar x = RegExp.$1;\r\n\t\t\tformat = format.replace(x, (this.getFullYear() + \"\").substr(4 - x.length));\r\n\t\t}\r\n\t\tfor (var k in o) {\r\n\t\t\tif (new RegExp(\"(\" + k + \")\").test(format)) {\r\n\t\t\t\tvar x = RegExp.$1;\r\n\t\t\t\tformat = format.replace(x, x.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn format;\r\n\t};\r\n\t/**\r\n\t * @description 获取当前时间戳\r\n\t * @return {Number} 返回时间戳\r\n\t */\r\n\tDate.prototype.stamp = function() {\r\n\t\tvar timestamp = Date.parse(this);\r\n\t\treturn timestamp / 1000;\r\n\t};\r\n\t/**\r\n\t * @description 计算时间差(时间间隔)\r\n\t * @param {String} endTime 结束时间\r\n\t * @param {String} time_unit = [day|hours|minutes] 时间单位\r\n\t * @return {Number} 间隔时长\r\n\t */\r\n\tDate.prototype.interval = function(endTime, time_unit) {\r\n\t\tvar startTime = this; // startTime: 开始时间\r\n\t\tvar stime = Date.parse(startTime);\r\n\t\tvar etime = Date.parse(new Date(endTime));\r\n\t\tvar usedTime = etime - stime; // 两个时间戳相差的毫秒数\r\n\t\tif (time_unit === \"day\") {\r\n\t\t\treturn Math.floor(usedTime / (1000 * 60 * 60 * 24));\r\n\t\t} else if (time_unit === \"hours\") {\r\n\t\t\treturn Math.floor(usedTime / (1000 * 60 * 60));\r\n\t\t} else if (time_unit === \"minutes\") {\r\n\t\t\treturn Math.floor(usedTime / (1000 * 60));\r\n\t\t} else {\r\n\t\t\treturn Math.floor(usedTime / 1000);\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 时间添加天数\r\n\t * @param {Number} days 天数\r\n\t * @return {Date} 时间对象\r\n\t */\r\n\tDate.prototype.addDays = function(days) {\r\n\t\tthis.setDate(this.getDate() + days);\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 时间添加秒数\r\n\t * @param {Date} seconds 时间对象\r\n\t */\r\n\tDate.prototype.addSeconds = function(seconds) {\r\n\t\tthis.setSeconds(this.getSeconds() + seconds);\r\n\t\treturn this;\r\n\t};\r\n})();\r\n\r\n/* == 字符串拓展函数 == */\r\n(function() {\r\n\t/**\r\n\t * @description MD5加密\r\n\t * @return {String} 加密后的字符串\r\n\t */\r\n\tString.prototype.md5 = function() {\r\n\t\treturn $.md5(this + '');\r\n\t};\r\n\r\n\t/**\r\n\t * aes加密\r\n\t * @param data 待加密内容\r\n\t * @param key 必须为32位私钥\r\n\t * @returns {String}\r\n\t */\r\n\tString.prototype.aes_encode = function(key, iv) {\r\n\t\tiv = iv || \"\";\r\n\t\tvar clearEncoding = 'utf8';\r\n\t\tvar cipherEncoding = 'base64';\r\n\t\tvar cipherChunks = [];\r\n\t\tvar cipher = createCipheriv('aes-256-ecb', key, iv);\r\n\t\tcipher.setAutoPadding(true);\r\n\t\tcipherChunks.push(cipher.update(this + '', clearEncoding, cipherEncoding));\r\n\t\tcipherChunks.push(cipher.final(cipherEncoding));\r\n\t\treturn cipherChunks.join('');\r\n\t};\r\n\r\n\t/**\r\n\t * @description aes解密\r\n\t * @param key 必须为32位私钥\r\n\t * @returns {String}\r\n\t */\r\n\tString.prototype.aes_decode = function(key, iv) {\r\n\t\tiv = iv || \"\";\r\n\t\tvar clearEncoding = 'utf8';\r\n\t\tvar cipherEncoding = 'base64';\r\n\t\tvar cipherChunks = [];\r\n\t\tvar decipher = createDecipheriv('aes-256-ecb', key, iv);\r\n\t\tdecipher.setAutoPadding(true);\r\n\t\tcipherChunks.push(decipher.update(this + '', cipherEncoding, clearEncoding));\r\n\t\tcipherChunks.push(decipher.final(clearEncoding));\r\n\t\treturn cipherChunks.join('');\r\n\t};\r\n\r\n\t/**\r\n\t * @description 获取字符串的拼音\r\n\t * @return {String} 拼音\r\n\t */\r\n\tString.prototype.pinyin = function() {\r\n\t\treturn pinyin(this).join('');\r\n\t};\r\n\t/**\r\n\t * @description 获取字符串的拼音\r\n\t * @return {String} 拼音\r\n\t */\r\n\tString.prototype.pinyinS = function() {\r\n\t\tvar arr = pinyin(this);\r\n\t\tvar str = \"\";\r\n\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\tvar ar = arr[i];\r\n\t\t\tif (ar.length > 0) {\r\n\t\t\t\tvar o = ar[0];\r\n\t\t\t\tstr += o.charAt(0).toLocaleUpperCase() + o.substring(1);\r\n\t\t\t} else {\r\n\t\t\t\tstr += ' ';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str;\r\n\t};\r\n\t/**\r\n\t * @description 将json字符串转为对象\r\n\t * @return {Object} 对象\r\n\t */\r\n\tString.prototype.toJson = function() {\r\n\t\ttry {\r\n\t\t\treturn JSON.parse(this);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('json反序列化错误');\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 将url字符串转为对象\r\n\t * @return {Object} 对象\r\n\t */\r\n\tString.prototype.toUrl = function() {\r\n\t\tvar arr = this.split('&');\r\n\t\tvar obj = {};\r\n\t\tarr.func(function(o) {\r\n\t\t\tvar ar = o.split('=');\r\n\t\t\tif (ar.length > 1) {\r\n\t\t\t\tobj[ar[0]] = decodeURI(ar[1]);\r\n\t\t\t} else {\r\n\t\t\t\tobj[ar[0]] = null;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn obj;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 将url参数转为对象\r\n\t * @return {Object} 对象\r\n\t */\r\n\tString.prototype.toQuery = function() {\r\n\t\tvar str = this + \"\";\r\n\t\tvar index = str.indexOf(\"?\");\r\n\t\tif (index !== -1) {\r\n\t\t\tstr = str.substring(index + 1);\r\n\t\t} else {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t\treturn str.toUrl();\r\n\t};\r\n\r\n\t/**\r\n\t * @description 删除首字符\r\n\t * @param {String} str  要删除的字符, 默认删除空字符\r\n\t * @return {String} 删除后字符串\r\n\t */\r\n\tString.prototype.startTrim = function(str) {\r\n\t\tif (!str) {\r\n\t\t\tstr = \"\\\\s\";\r\n\t\t} else {\r\n\t\t\tstr = str.replace(\"$\", \"\\\\$\").replace(\"^\", \"\\\\^\").replace(\"(\", \"\\\\(\").replace(\")\", \"\\\\)\");\r\n\t\t}\r\n\t\tvar rx = new RegExp(\"(^\" + str + \"*)\", \"g\");\r\n\t\treturn this.replace(rx, \"\");\r\n\t};\r\n\t/**\r\n\t * @description 删除尾字符\r\n\t * @param {String} str 要删除的字符, 默认删除空字符\r\n\t * @return {String} 删除后字符串\r\n\t */\r\n\tString.prototype.endTrim = function(str) {\r\n\t\tif (!str) {\r\n\t\t\tstr = \"\\\\s\";\r\n\t\t} else {\r\n\t\t\tstr = str.replace(\"$\", \"\\\\$\").replace(\"^\", \"\\\\^\").replace(\"(\", \"\\\\(\").replace(\")\", \"\\\\)\");\r\n\t\t}\r\n\t\tvar rx = new RegExp(\"(\" + str + \"*$)\", \"g\");\r\n\t\treturn this.replace(rx, \"\");\r\n\t};\r\n\t/**\r\n\t * @description 删除首尾字符\r\n\t * @param {String} str 要删除的字符, 默认删除空字符\r\n\t * @return {String} 删除后字符串\r\n\t */\r\n\tString.prototype.trim = function(str) {\r\n\t\tif (!str) {\r\n\t\t\tstr = \"\\\\s\";\r\n\t\t} else {\r\n\t\t\tstr = str.replace(\"$\", \"\\\\$\").replace(\"^\", \"\\\\^\").replace(\"(\", \"\\\\(\").replace(\")\", \"\\\\)\");\r\n\t\t}\r\n\t\tvar rx = new RegExp(\"(^\" + str + \"*)|(\" + str + \"*$)\", \"g\");\r\n\t\treturn this.replace(rx, \"\");\r\n\t};\r\n\t/**\r\n\t * @description 取文本左边\r\n\t * @param {String} str 索引的字符\r\n\t * @param {Boolean} bl 当索引字符不存在时是否保留左边\r\n\t * @return {String} 截取后的字符串\r\n\t */\r\n\tString.prototype.left = function(str, bl) {\r\n\t\tvar i = this.indexOf(str);\r\n\t\tif (i == -1) {\r\n\t\t\tif (bl) {\r\n\t\t\t\treturn this + '';\r\n\t\t\t} else {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn this.substring(0, i);\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 取文本右边\r\n\t * @param {String} str 索引的字符\r\n\t * @param {Boolean} bl 当索引字符不存在时是否保留右边\r\n\t * @return {String} 截取后的字符串\r\n\t */\r\n\tString.prototype.right = function(str, bl) {\r\n\t\tvar i = this.indexOf(str);\r\n\t\tif (i == -1) {\r\n\t\t\tif (bl) {\r\n\t\t\t\treturn this + '';\r\n\t\t\t} else {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn this.substring(i + str.length);\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 取文本之间\r\n\t * @param {String} str_l 索引的左边字符\r\n\t * @param {String} str_r 索引的右边字符\r\n\t * @param {Boolean} bl 当索引字符不存在时是否保留右边\r\n\t * @return {String} 截取后的字符串\r\n\t */\r\n\tString.prototype.between = function(str_l, str_r, bl) {\r\n\t\tvar str = this.right(str_l, bl);\r\n\t\treturn str.left(str_r, bl);\r\n\t};\r\n\t/**\r\n\t * @description 替换所有字符串\r\n\t * @param {String} oldStr 被替换的字符串\r\n\t * @param {String} newStr 替换后的字符串\r\n\t * @return {String} 替换后的字符串\r\n\t */\r\n\tString.prototype.replaceAll = function(oldStr, newStr) {\r\n\t\tvar txt = this + '';\r\n\t\tif (!newStr) {\r\n\t\t\tnewStr = '';\r\n\t\t}\r\n\t\twhile (txt.indexOf(oldStr) !== -1) {\r\n\t\t\ttxt = txt.replace(oldStr, newStr);\r\n\t\t}\r\n\t\treturn txt;\r\n\t};\r\n\t/**\r\n\t * @description 验证开头字符串\r\n\t * @param {String} startStr 开头字符串\r\n\t * @return {Boolean} 验证成功返回true，失败返回false\r\n\t */\r\n\tString.prototype.startWith = function(startStr) {\r\n\t\tvar d = this.length - startStr.length;\r\n\t\tif (d >= 0 && this.indexOf(startStr) === 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t/**\r\n\t * @description 验证结束字符串\r\n\t * @param {String} endStr 结尾字符串\r\n\t * @return {Boolean} 验证成功返回true，失败返回false\r\n\t */\r\n\tString.prototype.endWith = function(endStr) {\r\n\t\tvar d = this.length - endStr.length;\r\n\t\tif (d >= 0 && this.lastIndexOf(endStr) == d) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t/**\r\n\t * @description 是否含字符串\r\n\t * @param {String} str = [word|word*|*word|*word*]字符串, 支持*号匹配, 前*表示匹配后面字符串, 后*表示匹配前面字符串, 前后*表示匹配包含字符串\r\n\t * @return {Boolean} 包含返回true, 不包含返回false\r\n\t */\r\n\tString.prototype.has = function(str) {\r\n\t\tvar o = this + '';\r\n\t\tif (o === str) {\r\n\t\t\treturn true;\r\n\t\t} else if (str.startWith(\"*\")) {\r\n\t\t\tvar k = str.replaceAll('*', '');\r\n\t\t\tif (str.endWith(\"*\")) {\r\n\t\t\t\treturn o.indexOf(k) !== -1;\r\n\t\t\t} else {\r\n\t\t\t\treturn o.endWith(k);\r\n\t\t\t}\r\n\t\t} else if (str.endWith(\"*\")) {\r\n\t\t\tvar k = str.replaceAll('*', '');\r\n\t\t\treturn o.startWith(k);\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 转为时间对象\r\n\t * @return {Date} 时间对象\r\n\t */\r\n\tString.prototype.toTime = function() {\r\n\t\tvar str = this.replace('T', ' ').replace('Z', '').replaceAll('-', '/');\r\n\t\treturn new Date(str);\r\n\t};\r\n\t/**\r\n\t * @description 转为时间格式字符串\r\n\t * @param {String} format 转换的格式\r\n\t * @return {String} 时间格式字符串\r\n\t */\r\n\tString.prototype.toTimeFormat = function(format) {\r\n\t\tvar str = this.replace('T', ' ').replace('Z', '').replaceAll('-', '/');\r\n\t\treturn str.toTime().toStr(format);\r\n\t};\r\n\t/**\r\n\t * @description 转为数组\r\n\t * @param {String|Regex} separator 分隔符或正则\r\n\t * @param {Number} maxLen 最大长度\r\n\t * @return {Array} 数组\r\n\t */\r\n\tString.prototype.toArr = function(separator, maxLen) {\r\n\t\treturn this.split(separator, maxLen);\r\n\t};\r\n\t/**\r\n\t * @description 转为数字\r\n\t * @param {Number} len 保留长度 ()\r\n\t * @param {String} mode 保留方式 ()\r\n\t * @return {Number} 浮点数\r\n\t */\r\n\tString.prototype.toNum = function(len, mode) {\r\n\t\treturn new Number(this).get(len, mode);\r\n\t};\r\n\t/**\r\n\t * @description 转为对象\r\n\t * @return {Object} 对象\r\n\t */\r\n\tString.prototype.toObj = function() {\r\n\t\treturn eval(this + '');\r\n\t};\r\n\t/**\r\n\t * @description 转正则表达式\r\n\t * @param {String} mode = [g|i|gi] 转换方式, g为全部, i为不区分大小写\r\n\t * @return {Regex} 返回正则对象\r\n\t */\r\n\tString.prototype.toRx = function(mode) {\r\n\t\tif (!mode) {\r\n\t\t\tmode = 'gi';\r\n\t\t}\r\n\t\treturn eval(\"/\" + this + \"/\" + mode);\r\n\t};\r\n\t/**\r\n\t * @description 正则判断\r\n\t * @param {String} str 用作判断的正则\r\n\t * @param {String} mode = [g|i|gi] 转换方式, g为全部, i为不区分大小写\r\n\t * @return {Boolean} 符合正则返回true, 否则返回false\r\n\t */\r\n\tString.prototype.regex = function(str, mode) {\r\n\t\tvar rx = str.toRx(mode);\r\n\t\treturn rx.test(this + '');\r\n\t};\r\n\t/**\r\n\t * @description 验证字符串格式\r\n\t * @param {String} format 所属格式\r\n\t * @return {Boolean} 验证通过返回true, 失败返回false\r\n\t */\r\n\tString.prototype.checkFormat = function(format) {\r\n\t\tvar bl = false;\r\n\t\tvar value = this + '';\r\n\t\tvar f = format.toLowerCase();\r\n\t\tswitch (f) {\r\n\t\t\tcase \"phone\":\r\n\t\t\t\tbl = /^0?(13|14|15|16|17|18|19)[0-9]{9}$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"email\":\r\n\t\t\t\tbl = /^\\w[-\\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\\.)+[A-Za-z]{2,14}$/gi.test(value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"username\":\r\n\t\t\t\tbl = /^[a-z0-9A-Z_]+$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"password\":\r\n\t\t\t\tbl = /^[a-z0-9A-Z]+$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"url\":\r\n\t\t\t\tbl = /^((https|http|ftp|rtsp|mms)?:\\/\\/)[^\\s]+/gi.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"date\":\r\n\t\t\t\tbl = /^\\d{4}(\\-|\\/|\\.)(0[1-9]|1[012]|[1-9])(\\-|\\/|\\.)([12][0-9]|0[1-9]|3[01]|[1-9])$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"time\":\r\n\t\t\t\tbl = /^([01][0-9]|2[0-3]):([0-4][0-9]|5[0-9])(:([0-4][0-9]|5[0-9]))?$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"datetime\":\r\n\t\t\t\tbl =\r\n\t\t\t\t\t/^\\d{4}(\\-|\\/|\\.)(0[1-9]|1[012]|[1-9])(\\-|\\/|\\.)([12][0-9]|0[1-9]|3[01]|[1-9]) ([01][0-9]|2[0-3]):([0-4][0-9]|5[0-9])(:([0-4][0-9]|5[0-9]))?$/\r\n\t\t\t\t\t.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"dateiso\":\r\n\t\t\t\tbl =\r\n\t\t\t\t\t/^\\d{4}-(0[1-9]|1[012]|[1-9])-([12][0-9]|0[1-9]|3[01]|[1-9])( ([01][0-9]|2[0-3]):([0-4][0-9]|5[0-9])(:([0-4][0-9]|5[0-9]))?)?$/\r\n\t\t\t\t\t.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"number\":\r\n\t\t\t\tbl = /^[1-9]+[0-9]*(\\.[0-9]+|[0-9]*)|0\\.[0-9]+|0$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"en\":\r\n\t\t\t\tbl = /^[a-zA-Z]+$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"num\":\r\n\t\t\tcase \"digits\":\r\n\t\t\t\tbl = /^[0-9]+$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ch\":\r\n\t\t\tcase \"chs\":\r\n\t\t\tcase \"chinese\":\r\n\t\t\t\tbl = /^[\\u4e00-\\u9fa5]+$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log('输入的类型错误')\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn bl;\r\n\t};\r\n\t/**\r\n\t * @description 编译模板\r\n\t * @param {Object} obj 对象\r\n\t * @return {String} 编译后的字符串\r\n\t */\r\n\tString.prototype.tpl = function(obj) {\r\n\t\tvar text = this + '';\r\n\r\n\t\tfunction render() {\r\n\t\t\tif (obj) {\r\n\t\t\t\tfor (var k in obj) {\r\n\t\t\t\t\tthis[k] = obj[k];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn eval(\"`\" + text + \"`\");\r\n\t\t}\r\n\t\treturn render();\r\n\t};\r\n})();\r\n\r\n/* == 数组原型函数 == */\r\n(function() {\r\n\r\n  /**\r\n   * @description 判断对象是否相似\r\n   * @param {Object} obj 被判断对象\r\n   * @param {Object} query 用作判断的对象\r\n   * @param {Boolean} all 是否完全相同\r\n   * @return {Boolean} 相似返回true，否则返回false\r\n   */\r\n  function as(obj, query, all) {\r\n    if (obj) {\r\n      var bl = true;\r\n      var type = typeof(obj);\r\n      if (type !== typeof(query)) {\r\n        // 如果类型不一致 则两个无相似\r\n        bl = false;\r\n      } else if (type === 'string' || type === 'bool' || type === 'number') {\r\n        bl = obj === query;\r\n      } else if (obj.constructor == Array) {\r\n        // 如果都是数组\r\n        var lh = obj.length;\r\n        if (all && lh !== query.length) {\r\n          // 要求完全一致 而长度不一致 说明不相似\r\n          bl = false;\r\n        } else {\r\n          // 否则判断数组里的每个成员是否相似\r\n          for (var i = 0; i < lh; i++) {\r\n            if (!as(obj[i], query[i])) {\r\n              bl = false;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        // 如果类型为对象\r\n        if (all && Object.getOwnPropertyNames(obj).length !== Object.getOwnPropertyNames(query).length) {\r\n          // 如果要求完全一致, 而属性长度不一致，则不相似\r\n          bl = false;\r\n        } else {\r\n          // 否则都为对象则判断其值是否一致\r\n          for (var k in query) {\r\n            if (!as(obj[k], query[k], all)) {\r\n              bl = false;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return bl;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n\t/**\r\n\t * 列表转树形列表\r\n\t * @param {Array} list 列表\r\n\t * @param {String} id ID字段\r\n\t * @param {Number} value ID对应值\r\n\t * @param {String} father_id 上级ID字段\r\n\t * @param {String} sub 子类字段\r\n\t * @return {Array} 返回属性值\r\n\t */\r\n\tfunction toTree(list, id, value = 0, father_id = 'father_id', sub = 'sub') {\r\n\t\tvar arr = [];\r\n\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\tvar o = list[i];\r\n\t\t\tif (o[father_id] === value) {\r\n\t\t\t\to[sub] = toTree(list, id, o[id], father_id, sub);\r\n\t\t\t\tarr.push(o);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tfunction toList(list, sub = 'sub', arr = []) {\r\n\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\tvar o = list[i];\r\n\t\t\tvar lt = o[sub];\r\n\t\t\tdelete o[sub];\r\n\t\t\tarr.push(o);\r\n\t\t\tif (lt && lt.length > 0) {\r\n\t\t\t\ttoList(lt, sub, arr);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\t/**\r\n\t * 列表转树形列表\r\n\t * @param {String} id ID字段\r\n\t * @param {Number} value ID对应值\r\n\t * @param {String} father_id 上级ID字段\r\n\t * @param {String} sub 子类字段\r\n\t * @return {Array} 返回数组\r\n\t */\r\n\tArray.prototype.toTree = function(id, value = 0, father_id = 'father_id', sub = 'sub') {\r\n\t\treturn toTree(this, id, value, father_id, sub);\r\n\t};\r\n\r\n\t/**\r\n\t * 列表转树形列表\r\n\t * @param {String} sub 子类字段\r\n\t * @param {Array} arr 结果数组\r\n\t * @return {Array} 返回数组\r\n\t */\r\n\tArray.prototype.toList = function(sub = 'sub', arr = []) {\r\n\t\treturn toList(this, sub, arr);\r\n\t};\r\n\r\n\t/**\r\n\t * @description 拷贝对象\r\n\t * @param {Boolean} has 是否非空拷贝，如果含有数据才拷贝，不含数据不拷贝\r\n\t * @return {Array} 新数组\r\n\t */\r\n\tArray.prototype.copy = function(has) {\r\n\t\tvar arr_new = [];\r\n\t\tvar arr = this;\r\n\t\tif (has) {\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (o) {\r\n\t\t\t\t\tarr_new[i] = o;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tarr_new[i] = arr[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr_new;\r\n\t};\r\n\t/**\r\n\t * @description 遍历对象执行函数\r\n\t * @param {Function(Object):Boolean} func 函数名\r\n\t */\r\n\tArray.prototype.func = function(func) {\r\n\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\tif (func(this[i])) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 数组转字符串\r\n\t * @param {String} splitStr 分隔符\r\n\t * @param {String} key 对象属性名\r\n\t * @return {String} 字符串\r\n\t */\r\n\tArray.prototype.toStr = function(splitStr, key) {\r\n\t\tvar arr = this;\r\n\t\tvar str = \"\";\r\n\t\tif (key) {\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (o[key]) {\r\n\t\t\t\t\tstr += splitStr + o[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tstr += splitStr + o;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str.replace(splitStr, \"\");\r\n\t};\r\n\t/**\r\n\t * @description 清空数组\r\n\t * @return {Array} 清空的数组\r\n\t */\r\n\tArray.prototype.clear = function() {\r\n\t\tthis.splice(0, this.length);\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 修改数组成员\r\n\t * @param {Object} query 搜索条件\r\n\t * @param {Object} obj 修改项\r\n\t * @return {Array} 删除后的数组\r\n\t */\r\n\tArray.prototype.set = function(query, obj) {\r\n\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\tvar o = this[i];\r\n\t\t\tfor (var k in query) {\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tthis[i] = obj;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 数组列表取数组\r\n\t * @param {String} key 取的属性\r\n\t * @return {Array} 截取的数组\r\n\t */\r\n\tArray.prototype.toArr = function(key) {\r\n\t\tvar arr = [];\r\n\t\tvar lt = this;\r\n\t\tvar len = lt.length;\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tvar o = lt[i];\r\n\t\t\tarr.push(o[key]);\r\n\t\t}\r\n\t\treturn arr;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 从数组获取对象\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否结束\r\n\t * @return {Object} 对象\r\n\t */\r\n\tArray.prototype.get = function(query, end) {\r\n\t\tif (query) {\r\n\t\t\tif (end) {\r\n\t\t\t\tvar obj;\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tvar o = this[i];\r\n\t\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\t\tobj = o;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn obj;\r\n\t\t\t} else {\r\n\t\t\t\tvar list = [];\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tvar o = this[i];\r\n\t\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\t\tlist.push(o);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn list;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar list = [];\r\n\t\t\tlist.addList(this);\r\n\t\t\treturn list;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @description 从数组获取对象\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Object} 对象\r\n\t */\r\n\tArray.prototype.getObj = function(query) {\r\n\t\tvar obj;\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tobj = o;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t};\r\n\t/**\r\n\t * @description 获取数组对象的属性值\r\n\t * @param {String} key 属性名\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Object} 属性值\r\n\t */\r\n\tArray.prototype.getVal = function(key, query) {\r\n\t\tvar obj = this.getObj(query);\r\n\t\tif (obj) {\r\n\t\t\treturn obj[key];\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 获取符合条件的数组对象\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.getList = function(query) {\r\n\t\tvar arr = [];\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tarr.push(o);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tarr = this.copy()\r\n\t\t}\r\n\t\treturn arr;\r\n\t};\r\n\t/**\r\n\t * @description 获取数组所有对象的属性值\r\n\t * @param {String} key 属性名\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Array} 属性值数组\r\n\t */\r\n\tArray.prototype.getArr = function(key, query) {\r\n\t\tvar arr = [];\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tarr.push(o[key]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tarr.push(o[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t};\r\n\t/**\r\n\t * @description 给数组对象添加属性值\r\n\t * @param {String} key 属性名\r\n\t * @param {Object} value 属性值\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只添加给第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.addVal = function(key, value, query, end) {\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tif (!o[key]) {\r\n\t\t\t\t\t\to[key] = value;\r\n\t\t\t\t\t\tif (end) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (!o[key]) {\r\n\t\t\t\t\to[key] = value;\r\n\t\t\t\t\tif (end) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 给数组添加对象\r\n\t * @param {Object} obj 对象\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.addObj = function(obj, query) {\r\n\t\tvar has = false;\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tif (as(this[i], query)) {\r\n\t\t\t\t\thas = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tif (as(this[i], obj)) {\r\n\t\t\t\t\thas = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!has) {\r\n\t\t\tthis.push(obj);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 给数组添加多个对象\r\n\t * @param {Array} list 数组\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.addList = function(list, query) {\r\n\t\tvar len = list.length;\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tthis.addObj(list[i], query);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 给数组添加一个对象或列表\r\n\t * @param {Object|Array} objOrList 对象或数组\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.add = function(objOrList, query) {\r\n\t\tif (Array.isArray(objOrList)) {\r\n\t\t\tthis.addList(objOrList, query);\r\n\t\t} else {\r\n\t\t\tthis.addObj(objOrList, query);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 删除数组中对象的属性\r\n\t * @param {String} key 对象属性键\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只删除第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.delVal = function(key, query, end) {\r\n\t\tif (query) {\r\n\t\t\tif (end) {\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tvar o = this[i];\r\n\t\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\t\tdelete o[key];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tvar o = this[i];\r\n\t\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\t\tdelete o[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (end) {\r\n\t\t\t\tdelete this[0][key];\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tvar o = this[i];\r\n\t\t\t\t\tdelete o[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 删除数组中的对象\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只删除第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.del = function(query, end) {\r\n\t\tvar bl = false;\r\n\t\tif (end) {\r\n\t\t\tif (query) {\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tif (as(this[i], query)) {\r\n\t\t\t\t\t\tthis.splice(i, 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tthis.splice(i, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (query) {\r\n\t\t\t\tfor (var i = this.length - 1; i >= 0; i--) {\r\n\t\t\t\t\tif (as(this[i], query)) {\r\n\t\t\t\t\t\tthis.splice(i, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = this.length - 1; i >= 0; i--) {\r\n\t\t\t\t\tthis.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 删除多个不同的数组成员\r\n\t * @param {Array} list 查询条件列表\r\n\t * @param {Boolean} end 是否中断循环,中断只删除第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.delList = function(list, end) {\r\n\t\tvar len = list.length;\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tthis.del(list[i], end);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 设置数组中对象的属性值\r\n\t * @param {String} key 属性键\r\n\t * @param {Object} value 属性值\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只修改第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.setVal = function(key, value, query, end) {\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tif (as(this[i], query)) {\r\n\t\t\t\t\tthis[i][key] = value;\r\n\t\t\t\t\tif (end) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tthis[i][key] = value;\r\n\t\t\t\tif (end) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 设置数组中对象的属性值\r\n\t * @param {Object} obj 对象\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只修改第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.setObj = function(obj, query, end) {\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tthis[i] = obj;\r\n\t\t\t\t\tif (end) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 设置数组中对象的属性值\r\n\t * @param {Array} list 对象列表\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只修改第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.setList = function(list, query, end) {\r\n\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\tthis.setObj(this[i], query, end);\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 搜索符合条件的成员\r\n\t * @param {String} str 搜索关键词\r\n\t * @param {String} key 主键, 用于列表数组时\r\n\t * @return {Array} 返回符合条件的结果\r\n\t */\r\n\tArray.prototype.search = function(str, key) {\r\n\t\tvar arr = [];\r\n\t\tvar func;\r\n\t\tvar k = str.replaceAll('*', '');\r\n\t\tif (str.startWith(\"*\")) {\r\n\t\t\tif (str.endWith(\"*\")) {\r\n\t\t\t\tif (key) {\r\n\t\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\t\tif (o[key].indexOf(k) !== -1) {\r\n\t\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\t\tif (o.indexOf(k) !== -1) {\r\n\t\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (key) {\r\n\t\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\t\tif (o[key].endWith(k)) {\r\n\t\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\t\tif (o.endWith(k)) {\r\n\t\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (str.endWith(\"*\")) {\r\n\t\t\tif (key) {\r\n\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\tif (o[key].startWith(k)) {\r\n\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\tif (o.startWith(k)) {\r\n\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tif (key) {\r\n\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\tif (o[key] === k) {\r\n\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\tif (o === k) {\r\n\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.map(func);\r\n\t\treturn arr;\r\n\t};\r\n\t/**\r\n\t * @description 判断是否包含成员\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Boolean} 有则返回true，没有则返回false\r\n\t */\r\n\tArray.prototype.has = function(query) {\r\n\t\tvar has = false;\r\n\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\tif (as(this[i], query)) {\r\n\t\t\t\thas = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn has;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 取含匹配项\r\n\t * @param {String} str 被匹配的字符串\r\n\t * @param {String} key 用于对象列表时查询\r\n\t * @return {Object} 返回匹配的第一项\r\n\t */\r\n\tArray.prototype.getMatch = function(str, key) {\r\n\t\tvar obj;\r\n\t\tif (key) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tif (str.has(this[i][key])) {\r\n\t\t\t\t\tobj = this[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tif (str.has(this[i])) {\r\n\t\t\t\t\tobj = this[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 数组转对象\r\n\t * @param {String} key 主键, 用作对象索引\r\n\t * @return {Object} 对象\r\n\t */\r\n\tArray.prototype.toObj = function(key) {\r\n\t\tvar obj = {};\r\n\t\tthis.map(function(o) {\r\n\t\t\tvar name = o[key];\r\n\t\t\tif (name) {\r\n\t\t\t\tobj[name] = o;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn obj;\r\n\t};\r\n})();\r\n"]}]}