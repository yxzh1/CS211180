{"remainingRequest":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\localCode\\CS211180\\client_admin\\src\\plugins\\jquery_expand.js","dependencies":[{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\src\\plugins\\jquery_expand.js","mtime":1642669596000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXMtYXJyYXkuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS5ub3cuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyIpOwoKdmFyIF90eXBlb2YgPSByZXF1aXJlKCJEOi9Xb3JrU3BhY2UvbG9jYWxDb2RlL0NTMjExMTgwL2NsaWVudF9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiKTsKCi8qKg0KICogQGZpbGVPdmVydmlldyBKYXZhU2NyaXB05ouT5bGV5Ye95pWwDQogKiBAYXV0aG9yIHh4eA0KICogQHZlcnNpb24gMS4yDQogKi8KCi8qID09IOWfuuehgOWHveaVsCA9PSAqLwoKLyoqDQogKiBAZGVzY3JpcHRpb24g5bu26L+f5omn6KGM77yI5LyR55yg77yJDQogKiBAcGFyYW0ge051bWJlcn0gbWlsbGlTZWNvbmRzIOavq+enkg0KICogQHBhcmFtIHtPYmplY3R9IG9iaiDliKTmlq3lr7nosaHmiJblh73mlbANCiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg5Yik5pat55qE5a+56LGh5bGe5oCnLCDkuLrlrZjlnKjnmoTmg4XlhrXkuIvmj5DmiJDpgIDlh7rlvqrnjq8NCiAqIEBleGFtcGxlIHZhciBvYmogPSB7b2s6IGZhbHNlfTsgc2xlZXAoMjAwMCwgb2JqLCAnb2snKTsNCiAqIEBleGFtcGxlIHNsZWVwKDIwMDApOw0KICovCmZ1bmN0aW9uIHNsZWVwKG1pbGxpU2Vjb25kcywgb2JqLCBrZXkpIHsKICB2YXIgZW5kVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgbWlsbGlTZWNvbmRzOwoKICBpZiAob2JqKSB7CiAgICBpZiAoa2V5KSB7CiAgICAgIHdoaWxlIChuZXcgRGF0ZSgpLmdldFRpbWUoKSA8IGVuZFRpbWUpIHsKICAgICAgICBpZiAob2JqW2tleV0pIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFyIGZ1bmMgPSBvYmo7CgogICAgICB3aGlsZSAobmV3IERhdGUoKS5nZXRUaW1lKCkgPCBlbmRUaW1lKSB7CiAgICAgICAgaWYgKCFmdW5jKCkpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0gZWxzZSB7CiAgICB3aGlsZSAobmV3IERhdGUoKS5nZXRUaW1lKCkgPCBlbmRUaW1lKSB7fQogIH0KfQovKioNCiAqIEBkZXNjcmlwdGlvbiDliKTmlq3lr7nosaHmmK/lkKbnm7jkvLwNCiAqIEBwYXJhbSB7T2JqZWN0fSBvYmog6KKr5Yik5pat5a+56LGhDQogKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg55So5L2c5Yik5pat55qE5a+56LGhDQogKiBAcGFyYW0ge0Jvb2xlYW59IGFsbCDmmK/lkKblrozlhajnm7jlkIwNCiAqIEByZXR1cm4ge0Jvb2xlYW59IOebuOS8vOi/lOWbnnRydWXvvIzlkKbliJnov5Tlm55mYWxzZQ0KICovCgoKZnVuY3Rpb24gYXMob2JqLCBxdWVyeSwgYWxsKSB7CiAgaWYgKG9iaikgewogICAgdmFyIGJsID0gdHJ1ZTsKCiAgICB2YXIgdHlwZSA9IF90eXBlb2Yob2JqKTsKCiAgICBpZiAodHlwZSAhPT0gX3R5cGVvZihxdWVyeSkpIHsKICAgICAgLy8g5aaC5p6c57G75Z6L5LiN5LiA6Ie0IOWImeS4pOS4quaXoOebuOS8vAogICAgICBibCA9IGZhbHNlOwogICAgfSBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnYm9vbCcgfHwgdHlwZSA9PT0gJ251bWJlcicpIHsKICAgICAgYmwgPSBvYmogPT09IHF1ZXJ5OwogICAgfSBlbHNlIGlmIChvYmouY29uc3RydWN0b3IgPT0gQXJyYXkpIHsKICAgICAgLy8g5aaC5p6c6YO95piv5pWw57uECiAgICAgIHZhciBsaCA9IG9iai5sZW5ndGg7CgogICAgICBpZiAoYWxsICYmIGxoICE9PSBxdWVyeS5sZW5ndGgpIHsKICAgICAgICAvLyDopoHmsYLlrozlhajkuIDoh7Qg6ICM6ZW/5bqm5LiN5LiA6Ie0IOivtOaYjuS4jeebuOS8vAogICAgICAgIGJsID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5ZCm5YiZ5Yik5pat5pWw57uE6YeM55qE5q+P5Liq5oiQ5ZGY5piv5ZCm55u45Ly8CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaDsgaSsrKSB7CiAgICAgICAgICBpZiAoIWFzKG9ialtpXSwgcXVlcnlbaV0pKSB7CiAgICAgICAgICAgIGJsID0gZmFsc2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgLy8g5aaC5p6c57G75Z6L5Li65a+56LGhCiAgICAgIGlmIChhbGwgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5sZW5ndGggIT09IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHF1ZXJ5KS5sZW5ndGgpIHsKICAgICAgICAvLyDlpoLmnpzopoHmsYLlrozlhajkuIDoh7QsIOiAjOWxnuaAp+mVv+W6puS4jeS4gOiHtO+8jOWImeS4jeebuOS8vAogICAgICAgIGJsID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5ZCm5YiZ6YO95Li65a+56LGh5YiZ5Yik5pat5YW25YC85piv5ZCm5LiA6Ie0CiAgICAgICAgZm9yICh2YXIgayBpbiBxdWVyeSkgewogICAgICAgICAgaWYgKCFhcyhvYmpba10sIHF1ZXJ5W2tdLCBhbGwpKSB7CiAgICAgICAgICAgIGJsID0gZmFsc2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiBibDsKICB9IGVsc2UgewogICAgcmV0dXJuIGZhbHNlOwogIH0KfQovKioNCiAqIEBkZXNjcmlwdGlvbiDmtYvor5Xlh73mlbDmiafooYzpgJ/luqYNCiAqIEBwYXJhbSB7RnVuY3Rpb24oKX0gZnVuYyDmtYvor5XnmoTlh73mlbANCiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lcyA9IFt2YWx1ZV0g5rWL6K+V5qyh5pWwDQogKi8KCgpmdW5jdGlvbiBzcGVlZHMoZnVuYywgdGltZXMpIHsKICBpZiAoIXRpbWVzKSB7CiAgICB0aW1lcyA9IDEwMDAwMDA7CiAgfQoKICB2YXIgdDEgPSBuZXcgRGF0ZSgpLnZhbHVlT2YoKTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aW1lczsgaSsrKSB7CiAgICBmdW5jKCk7CiAgfQoKICB2YXIgdDIgPSBuZXcgRGF0ZSgpLnZhbHVlT2YoKTsKICB2YXIgcyA9IHQyIC0gdDE7CiAgY29uc29sZS5sb2coJ+iAl+aXticgKyBzICsgJ+avq+enkiwg5bmz5Z2HJyArIHMgLyB0aW1lcyArICdtcy/mrKEnKTsKfQovKioNCiAqIEBkZXNjcmlwdGlvbiDmt7vliqDlr7nosaHlsZ7mgKcNCiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpBIOiiq+a3u+WKoOeahOWvueixoQ0KICogQHBhcmFtIHtPYmplY3R9IG9iakIg55So5L2c5re75Yqg55qE5a+56LGhDQogKiBAcGFyYW0ge0Jvb2xlYW59IGJsIOaYr+WQpuihpeWFheayoeacieeahOWvueixoQ0KICogQHJldHVybiB7T2JqZWN0fSDmlrDlr7nosaENCiAqLwoKCmZ1bmN0aW9uIHB1c2gob2JqQSwgb2JqQiwgYmwpIHsKICBpZiAoIW9iakEgfHwgIW9iakIpIHsKICAgIHJldHVybjsKICB9CgogIGlmIChibCkgewogICAgZm9yICh2YXIgayBpbiBvYmpCKSB7CiAgICAgIHZhciB2YWx1ZSA9IG9iakJba107CgogICAgICBpZiAob2JqQVtrXSA9PT0gdW5kZWZpbmVkIHx8IG9iakFba10gPT09IG51bGwgfHwgdmFsdWUgPT09IG51bGwpIHsKICAgICAgICBvYmpBW2tdID0gdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHR5cGUgPSBfdHlwZW9mKG9iakFba10pOwoKICAgICAgICB2YXIgcCA9IF90eXBlb2YodmFsdWUpOwoKICAgICAgICBpZiAodHlwZSAhPT0gcCkgewogICAgICAgICAgaWYgKHR5cGUgPT09ICJudW1iZXIiKSB7CiAgICAgICAgICAgIHZhciBuID0gTnVtYmVyKHZhbHVlKTsKCiAgICAgICAgICAgIGlmIChuID09PSBOYU4pIHsKICAgICAgICAgICAgICBuID0gMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgb2JqQVtrXSA9IG47CiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJib29sZWFuIikgewogICAgICAgICAgICBpZiAodmFsdWUgPT09ICcwJyB8fCB2YWx1ZSA9PT0gJ2ZhbHNlJyB8fCB2YWx1ZSA9PT0gJ0ZhbHNlJykgewogICAgICAgICAgICAgIG9iakFba10gPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBvYmpBW2tdID0gQm9vbGVhbih2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gInN0cmluZyIpIHsKICAgICAgICAgICAgb2JqQVtrXSA9IHZhbHVlLnRvU3RyaW5nKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBvYmpBW2tdID0gdmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAib2JqZWN0IikgewogICAgICAgICAgaWYgKG9iakFba10uY29uc3RydWN0b3IgPT0gQXJyYXkgJiYgdmFsdWUuY29uc3RydWN0b3IgPT0gQXJyYXkpIHsKICAgICAgICAgICAgb2JqQVtrXS5jbGVhcigpOwogICAgICAgICAgICBvYmpBW2tdLmFkZExpc3QodmFsdWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHVzaChvYmpBW2tdLCB2YWx1ZSwgYmwpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBvYmpBW2tdID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSBlbHNlIHsKICAgIGZvciAodmFyIGsgaW4gb2JqQSkgewogICAgICB2YXIgdmFsdWUgPSBvYmpCW2tdOwoKICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgb2JqQVtrXSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gbnVsbCkgewogICAgICAgIHZhciB0eXBlID0gX3R5cGVvZihvYmpBW2tdKTsKCiAgICAgICAgdmFyIHAgPSBfdHlwZW9mKHZhbHVlKTsKCiAgICAgICAgaWYgKHR5cGUgIT09IHApIHsKICAgICAgICAgIGlmICh0eXBlID09PSAibnVtYmVyIikgewogICAgICAgICAgICB2YXIgbiA9IE51bWJlcih2YWx1ZSk7CgogICAgICAgICAgICBpZiAobiA9PT0gTmFOKSB7CiAgICAgICAgICAgICAgbiA9IDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG9iakFba10gPSBuOwogICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAiYm9vbGVhbiIpIHsKICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnMCcgfHwgdmFsdWUgPT09ICdmYWxzZScgfHwgdmFsdWUgPT09ICdGYWxzZScpIHsKICAgICAgICAgICAgICBvYmpBW2tdID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgb2JqQVtrXSA9IEJvb2xlYW4odmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgIG9iakFba10gPSB2YWx1ZS50b1N0cmluZygpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb2JqQVtrXSA9IHZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIGlmIChvYmpBW2tdLmNvbnN0cnVjdG9yID09IEFycmF5ICYmIHZhbHVlLmNvbnN0cnVjdG9yID09IEFycmF5KSB7CiAgICAgICAgICAgIG9iakFba10uY2xlYXIoKTsKICAgICAgICAgICAgb2JqQVtrXS5hZGRMaXN0KHZhbHVlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHB1c2gob2JqQVtrXSwgdmFsdWUsIGJsKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgb2JqQVtrXSA9IHZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIG9iakE7Cn0KLyoqDQogKiBAZGVzY3JpcHRpb24g5riF56m65a+56LGh5YC8DQogKiBAcGFyYW0ge09iamVjdH0gb2JqIOWvueixoQ0KICogQHJldHVybiB7T2JqZWN0fSDov5Tlm57lr7nosaHoh6rouqsNCiAqLwoKCmZ1bmN0aW9uIGNsZWFyKG9iaikgewogIGlmIChvYmopIHsKICAgIGZvciAodmFyIGsgaW4gb2JqKSB7CiAgICAgIHZhciB2YWwgPSBvYmpba107CgogICAgICBpZiAodmFsKSB7CiAgICAgICAgdmFyIG5hbWUgPSB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih2YWwpOwoKICAgICAgICBzd2l0Y2ggKG5hbWUpIHsKICAgICAgICAgIGNhc2UgInN0cmluZyI6CiAgICAgICAgICAgIG9ialtrXSA9ICIiOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJudW1iZXIiOgogICAgICAgICAgICBvYmpba10gPSAwOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJhcnJheSI6CiAgICAgICAgICAgIG9ialtrXS5jbGVhcigpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJvYmplY3QiOgogICAgICAgICAgICBjbGVhcihvYmpba10pOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJmdW5jdGlvbiI6CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgInN5bWJvbCI6CiAgICAgICAgICAgIG9ialtrXSA9ICIiOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiBvYmo7Cn0KLyoqDQogKiBAZGVzY3JpcHRpb24g6L2s5Li6anNvbuWtl+espuS4sg0KICogQHBhcmFtIHtPYmplY3R9IG9iaiDooqvovazmjaLnmoTlr7nosaENCiAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9ybWF0IOaYr+WQpuagvOW8j+WMlg0KICogQHJldHVybiB7U3RyaW5nfSBqc29u5qC85byP5a2X56ym5LiyDQogKi8KCgpmdW5jdGlvbiB0b0pzb24ob2JqLCBmb3JtYXQpIHsKICBpZiAoZm9ybWF0KSB7CiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCA0KTsKICB9IGVsc2UgewogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7CiAgfQp9Ci8qKg0KICogQGRlc2NyaXB0aW9uIOi9rHVybOWtl+espuS4sg0KICogQHBhcmFtIHtPYmplY3R9IG9iaiDooqvovazmjaLnmoTlr7nosaENCiAqIEBwYXJhbSB7U3RyaW5nfSB1cmwg6K+35rGC5Zyw5Z2ADQogKiBAcmV0dXJuIHtTdHJpbmd9IHVybOWPguaVsOagvOW8j+Wtl+espuS4sg0KICovCgoKZnVuY3Rpb24gdG9Vcmwob2JqLCB1cmwpIHsKICB2YXIgcXVlcnlTdHIgPSAiIjsKCiAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgdmFyIHZhbHVlID0gb2JqW2tleV07CgogICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHsKICAgICAgaWYgKHZhbHVlID4gMCkgewogICAgICAgIHF1ZXJ5U3RyICs9ICImIiArIGtleSArICI9IiArIG9ialtrZXldOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHZhbHVlKSB7CiAgICAgIHF1ZXJ5U3RyICs9ICImIiArIGtleSArICI9IiArIGVuY29kZVVSSSh2YWx1ZSk7CiAgICB9CiAgfQoKICBpZiAodXJsKSB7CiAgICBpZiAodXJsLmVuZFdpdGgoJz8nKSB8fCB1cmwuZW5kV2l0aCgnJicpKSB7CiAgICAgIHJldHVybiB1cmwgKyBxdWVyeVN0ci5yZXBsYWNlKCcmJywgJycpOwogICAgfSBlbHNlIGlmICh1cmwuaW5kZXhPZignPycpID09PSAtMSkgewogICAgICByZXR1cm4gdXJsICsgcXVlcnlTdHIucmVwbGFjZSgnJicsICc/Jyk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gdXJsICsgcXVlcnlTdHI7CiAgICB9CiAgfSBlbHNlIHsKICAgIHJldHVybiBxdWVyeVN0ci5yZXBsYWNlKCcmJywgJycpOwogIH0KfQoKOwovKioNCiAqIEBkZXNjcmlwdGlvbiDmi7fotJ3lr7nosaENCiAqIEBwYXJhbSB7T2JqZWN0fSBvYmog6KKr5ou36LSd55qE5a+56LGhDQogKiBAcGFyYW0ge0Jvb2xlYW59IGhhcyDmmK/lkKbpnZ7nqbrmi7fotJ3vvIzlpoLmnpzlkKvmnInmlbDmja7miY3mi7fotJ3vvIzkuI3lkKvmlbDmja7kuI3mi7fotJ0NCiAqIEByZXR1cm4ge09iamVjdH0g5paw5a+56LGhDQogKi8KCmZ1bmN0aW9uIGNvcHkob2JqLCBoYXMpIHsKICB2YXIgbmV3T2JqID0ge307CgogIGlmIChoYXMpIHsKICAgIGZvciAodmFyIGF0dHIgaW4gb2JqKSB7CiAgICAgIHZhciBvID0gb2JqW2F0dHJdOwoKICAgICAgaWYgKG8pIHsKICAgICAgICBuZXdPYmpbYXR0cl0gPSBvOwogICAgICB9CiAgICB9CiAgfSBlbHNlIHsKICAgIGZvciAodmFyIGF0dHIgaW4gb2JqKSB7CiAgICAgIG5ld09ialthdHRyXSA9IG9ialthdHRyXTsKICAgIH0KICB9CgogIHJldHVybiBuZXdPYmo7Cn0KCjsKLyoqDQogKiBAZGVzY3JpcHRpb24g5p+l55yL5omA5pyJ5bGe5oCnDQogKiBAcGFyYW0ge09iamVjdH0gb2JqIOafpeeci+eahOWvueixoQ0KICogQHBhcmFtIHtTdHJpbmd9IGZpbGUg5L+d5a2Y5L2N572uDQogKi8KCmZ1bmN0aW9uIGtleXMob2JqLCBmaWxlKSB7CiAgdmFyIHRleHQgPSAiIjsKCiAgZm9yICh2YXIgayBpbiBvYmopIHsKICAgIHRleHQgKz0gayArICdcclxuJzsKICB9CgogIGNvbnNvbGUubG9nKHRleHQpOwp9Ci8qKg0KICogQGRlc2NyaXB0aW9uIOWIoOmZpOWvueixoeepuuWxnuaApw0KICogQHBhcmFtIHtPYmplY3R9IG9iaiDlr7nosaENCiAqIEBwYXJhbSB7T2JqZWN0fSBpbmNsdWRlWmVybyDmmK/lkKbljIXmi6wwDQogKiBAcmV0dXJuIHtPYmplY3R9IOi/lOWbnuaWsOWvueixoQ0KICovCgoKZnVuY3Rpb24gZGVsZXRlX3Byb3Aob2JqLCBpbmNsdWRlWmVybykgewogIHZhciBvID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqKTsKCiAgaWYgKGluY2x1ZGVaZXJvKSB7CiAgICBmb3IgKHZhciBrIGluIG8pIHsKICAgICAgdmFyIHYgPSBvW2tdOwoKICAgICAgaWYgKCF2KSB7CiAgICAgICAgZGVsZXRlIG9ba107CiAgICAgIH0KICAgIH0KICB9IGVsc2UgewogICAgZm9yICh2YXIgayBpbiBvKSB7CiAgICAgIHZhciB2ID0gb1trXTsKCiAgICAgIGlmICh2ID09PSAnJyB8fCB2ID09PSBudWxsIHx8IHYgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGRlbGV0ZSBvW2tdOwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gbzsKfQovKioNCiAqIEBuYW1lc3BhY2UNCiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwb29sIOaVsOaNrui/nuaOpeaxoCwg55So5LqO5a2Y5YKo5pyJ5YWz5pWw5o2u5bqT55qE5pON5L2c57G7DQogKiBAcHJvcGVydHkge09iamVjdH0gdGFzayDku7vliqHmsaAsIOeUqOS6juWtmOWCqOWumuaXtuS7u+WKoeaTjeS9nOexuw0KICogQHByb3BlcnR5IHtPYmplY3R9IGFwaSBBUEnmjqXlj6PvvIznlKjkuo7lrZjlgqjmnInlhbPmjqXlj6PnmoTmk43kvZznsbsNCiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSB2YWwg5YWo5bGA5Y+Y6YeP77yM55So5LqO5a2Y5YKo5YWo5bGA55qE6YWN572uDQogKiBAcHJvcGVydHkge09iamVjdH0gZGljdCDlrZflhbjvvIznlKjkuo7mn6Xor6Llj5jph4/mm7/mjaLlkI0NCiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBsYW5nIOivreiogOWMhSwg55So5LqO5YWo5bGA55qE6K+t6KiA5pu/5o2iDQogKiBAcHJvcGVydHkge1N0cmluZ30gc2xlZXAg5bu26L+fKOS8keecoCkNCiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24oKX0gc3BlZWQg5rWL6K+V5omn6KGM6YCf5bqm5Ye95pWwDQogKiBAcHJvcGVydHkge0Z1bmN0aW9uKE9iamVjdCwgT2JqZWN0LCBCb29sZWFuKTpCb29sZWFufSBhcyDliKTmlq3lr7nosaHmmK/lkKbnm7jkvLwNCiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24oT2JqZWN0LCBPYmplY3QpOkJvb2xlYW59IHB1c2gg5Li65a+56LGh5re75Yqg5bGe5oCnDQogKiBAcHJvcGVydHkge0Z1bmN0aW9uKE9iamVjdCk6U3RyaW5nfSB0b0pzb24g5a+56LGh6L2sanNvbuWtl+espuS4sg0KICogQHByb3BlcnR5IHtGdW5jdGlvbihPYmplY3QpOlN0cmluZ30gdG9Vcmwg5a+56LGh6L2sdXJs5a2X56ym5LiyDQogKiBAcHJvcGVydHkge0Z1bmN0aW9uKE9iamVjdCk6T2JqZWN0fSBjb3B5IOWkjeWItuS4gOS4quaWsOWvueixoQ0KICogQHByb3BlcnR5IHtGdW5jdGlvbihPYmplY3QpOlN0cmluZ30ga2V5cyDmn6Xor6Lojrflj5blr7nosaHlsZ7mgKfplK4NCiAqLwoKCnZhciBmdW5jcyA9IHsKICAvLyDmlbDmja7ov57mjqXmsaAsIOeUqOS6juWtmOWCqOacieWFs+aVsOaNruW6k+eahOaTjeS9nOexuwogIHBvb2w6IHt9LAogIC8vIOS7u+WKoeaxoCwg55So5LqO5a2Y5YKo5a6a5pe25Lu75Yqh5pON5L2c57G7CiAgdGFzazoge30sCiAgLy8gQVBJ5o6l5Y+j77yM55So5LqO5a2Y5YKo5pyJ5YWz5o6l5Y+j55qE5pON5L2c57G7CiAgYXBpOiB7fSwKICAvLyDlhajlsYDlj5jph4/vvIznlKjkuo7lrZjlgqjlhajlsYDnmoTphY3nva4KICB2YWw6IHsKICAgIC8vIOm7mOiupOS9nOeUqOWfnywgc3lz6KGo56S657O757ufCiAgICBzY29wZTogInN5cyIKICB9LAoKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWtl+WFuO+8jOeUqOS6juafpeivouWPmOmHj+abv+aNouWQjQ0KICAgKiBAcHJvcGVydHkge1N0cmluZ30gc2Vzc2lvbl9pZCBzZXNzaW9u55qESUQNCiAgICogQHByb3BlcnR5IHtTdHJpbmd9IHVzZXJfaWQg55So5oi355qESUTvvIznlKjkuo7mlbDmja7lupPml7bmn6Xor6LnlKjmiLfllK/kuIDmoIfor4YNCiAgICovCiAgZGljdDogewogICAgc2Vzc2lvbl9pZDogIm1tOnV1aWQiLAogICAgdXNlcl9pZDogInVzZXJfaWQiLAogICAgdG9rZW46ICJ4LWF1dGgtdG9rZW4iCiAgfSwKCiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDor63oqIDljIUsIOeUqOS6juWFqOWxgOeahOivreiogOabv+aNog0KICAgKiBAcHJvcGVydHkge1N0cmluZ30gbm93ID0gW2NoaW5lc2V8ZW5nbGlzaF0g5b2T5YmN6K+t6KiADQogICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBjaGluZXNlIOS4reaWh+ivreiogOWMhQ0KICAgKiBAcHJvcGVydHkge09iamVjdH0gZW5nbGlzaCDoi7Hmlofor63oqIDljIUNCiAgICovCiAgbGFuZzogewogICAgbm93OiAiY2hpbmVzZSIsCiAgICBjaGluZXNlOiB7fSwKICAgIGVuZ2xpc2g6IHt9CiAgfSwKICAvLyDlu7bov58KICBzbGVlcDogc2xlZXAsCiAgLy8g5rWL6K+V5omn6KGM6YCf5bqm5Ye95pWwCiAgc3BlZWRzOiBzcGVlZHMsCiAgLy8g5Yik5pat5a+56LGh5piv5ZCm55u45Ly8CiAgYXM6IGFzLAogIC8vIOa3u+WKoOWvueixoQogIHB1c2g6IHB1c2gsCiAgLy8g5riF56m65a+56LGh5YC8CiAgY2xlYXI6IGNsZWFyLAogIC8vIOWvueixoei9rGpzb27lrZfnrKbkuLIKICB0b0pzb246IHRvSnNvbiwKICAvLyDlr7nosaHovax1cmzlrZfnrKbkuLIKICB0b1VybDogdG9VcmwsCiAgLy8g5aSN5Yi25LiA5Liq5paw5a+56LGhCiAgY29weTogY29weSwKICAvLyDmn6Xor6Lojrflj5blr7nosaHlsZ7mgKfplK4KICBrZXlzOiBrZXlzLAogIC8vIOWIoOmZpOWvueixoeWxnuaApwogICJkZWxldGUiOiBkZWxldGVfcHJvcAp9OwoKaWYgKHR5cGVvZiAkID09PSAidW5kZWZpbmVkIikgewogIHdpbmRvdy4kID0gZnVuY3M7Cn0gZWxzZSB7CiAgcHVzaCgkLCBmdW5jcywgdHJ1ZSk7Cn0KLyogTUQ15Yqg5a+G57G7ICovCgoKKGZ1bmN0aW9uICgpIHsKICAvKiBtZDXliqDlr4bvvIjlvIDlp4vvvIkgKi8KICB2YXIgaGV4Y2FzZSA9IDA7CiAgLyogaGV4IG91dHB1dCBmb3JtYXQuIDAgLSBsb3dlcmNhc2U7IDEgLSB1cHBlcmNhc2UgICovCgogIHZhciBiNjRwYWQgPSAiIjsKICAvKiBiYXNlLTY0IHBhZCBjaGFyYWN0ZXIuICI9IiBmb3Igc3RyaWN0IFJGQyBjb21wbGlhbmNlICovCgogIHZhciBjaHJzeiA9IDg7CiAgLyogYml0cyBwZXIgaW5wdXQgY2hhcmFjdGVyLiA4IC0gQVNDSUk7IDE2IC0gVW5pY29kZSAgKi8KCiAgLyoNCiAgICogUGVyZm9ybSBhIHNpbXBsZSBzZWxmLXRlc3QgdG8gc2VlIGlmIHRoZSBWTSBpcyB3b3JraW5nDQogICAqLwoKICBmdW5jdGlvbiBtZDVfdm1fdGVzdCgpIHsKICAgIHJldHVybiBoZXhfbWQ1KCJhYmMiKSA9PSAiOTAwMTUwOTgzY2QyNGZiMGQ2OTYzZjdkMjhlMTdmNzIiOwogIH0KICAvKg0KICAgKiBDYWxjdWxhdGUgdGhlIE1ENSBvZiBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzLCBhbmQgYSBiaXQgbGVuZ3RoDQogICAqLwoKCiAgZnVuY3Rpb24gY29yZV9tZDUoeCwgbGVuKSB7CiAgICAvKiBhcHBlbmQgcGFkZGluZyAqLwogICAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCBsZW4gJSAzMjsKICAgIHhbKGxlbiArIDY0ID4+PiA5IDw8IDQpICsgMTRdID0gbGVuOwogICAgdmFyIGEgPSAxNzMyNTg0MTkzOwogICAgdmFyIGIgPSAtMjcxNzMzODc5OwogICAgdmFyIGMgPSAtMTczMjU4NDE5NDsKICAgIHZhciBkID0gMjcxNzMzODc4OwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkgKz0gMTYpIHsKICAgICAgdmFyIG9sZGEgPSBhOwogICAgICB2YXIgb2xkYiA9IGI7CiAgICAgIHZhciBvbGRjID0gYzsKICAgICAgdmFyIG9sZGQgPSBkOwogICAgICBhID0gbWQ1X2ZmKGEsIGIsIGMsIGQsIHhbaSArIDBdLCA3LCAtNjgwODc2OTM2KTsKICAgICAgZCA9IG1kNV9mZihkLCBhLCBiLCBjLCB4W2kgKyAxXSwgMTIsIC0zODk1NjQ1ODYpOwogICAgICBjID0gbWQ1X2ZmKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNywgNjA2MTA1ODE5KTsKICAgICAgYiA9IG1kNV9mZihiLCBjLCBkLCBhLCB4W2kgKyAzXSwgMjIsIC0xMDQ0NTI1MzMwKTsKICAgICAgYSA9IG1kNV9mZihhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNywgLTE3NjQxODg5Nyk7CiAgICAgIGQgPSBtZDVfZmYoZCwgYSwgYiwgYywgeFtpICsgNV0sIDEyLCAxMjAwMDgwNDI2KTsKICAgICAgYyA9IG1kNV9mZihjLCBkLCBhLCBiLCB4W2kgKyA2XSwgMTcsIC0xNDczMjMxMzQxKTsKICAgICAgYiA9IG1kNV9mZihiLCBjLCBkLCBhLCB4W2kgKyA3XSwgMjIsIC00NTcwNTk4Myk7CiAgICAgIGEgPSBtZDVfZmYoYSwgYiwgYywgZCwgeFtpICsgOF0sIDcsIDE3NzAwMzU0MTYpOwogICAgICBkID0gbWQ1X2ZmKGQsIGEsIGIsIGMsIHhbaSArIDldLCAxMiwgLTE5NTg0MTQ0MTcpOwogICAgICBjID0gbWQ1X2ZmKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTcsIC00MjA2Myk7CiAgICAgIGIgPSBtZDVfZmYoYiwgYywgZCwgYSwgeFtpICsgMTFdLCAyMiwgLTE5OTA0MDQxNjIpOwogICAgICBhID0gbWQ1X2ZmKGEsIGIsIGMsIGQsIHhbaSArIDEyXSwgNywgMTgwNDYwMzY4Mik7CiAgICAgIGQgPSBtZDVfZmYoZCwgYSwgYiwgYywgeFtpICsgMTNdLCAxMiwgLTQwMzQxMTAxKTsKICAgICAgYyA9IG1kNV9mZihjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE3LCAtMTUwMjAwMjI5MCk7CiAgICAgIGIgPSBtZDVfZmYoYiwgYywgZCwgYSwgeFtpICsgMTVdLCAyMiwgMTIzNjUzNTMyOSk7CiAgICAgIGEgPSBtZDVfZ2coYSwgYiwgYywgZCwgeFtpICsgMV0sIDUsIC0xNjU3OTY1MTApOwogICAgICBkID0gbWQ1X2dnKGQsIGEsIGIsIGMsIHhbaSArIDZdLCA5LCAtMTA2OTUwMTYzMik7CiAgICAgIGMgPSBtZDVfZ2coYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNCwgNjQzNzE3NzEzKTsKICAgICAgYiA9IG1kNV9nZyhiLCBjLCBkLCBhLCB4W2kgKyAwXSwgMjAsIC0zNzM4OTczMDIpOwogICAgICBhID0gbWQ1X2dnKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA1LCAtNzAxNTU4NjkxKTsKICAgICAgZCA9IG1kNV9nZyhkLCBhLCBiLCBjLCB4W2kgKyAxMF0sIDksIDM4MDE2MDgzKTsKICAgICAgYyA9IG1kNV9nZyhjLCBkLCBhLCBiLCB4W2kgKyAxNV0sIDE0LCAtNjYwNDc4MzM1KTsKICAgICAgYiA9IG1kNV9nZyhiLCBjLCBkLCBhLCB4W2kgKyA0XSwgMjAsIC00MDU1Mzc4NDgpOwogICAgICBhID0gbWQ1X2dnKGEsIGIsIGMsIGQsIHhbaSArIDldLCA1LCA1Njg0NDY0MzgpOwogICAgICBkID0gbWQ1X2dnKGQsIGEsIGIsIGMsIHhbaSArIDE0XSwgOSwgLTEwMTk4MDM2OTApOwogICAgICBjID0gbWQ1X2dnKGMsIGQsIGEsIGIsIHhbaSArIDNdLCAxNCwgLTE4NzM2Mzk2MSk7CiAgICAgIGIgPSBtZDVfZ2coYiwgYywgZCwgYSwgeFtpICsgOF0sIDIwLCAxMTYzNTMxNTAxKTsKICAgICAgYSA9IG1kNV9nZyhhLCBiLCBjLCBkLCB4W2kgKyAxM10sIDUsIC0xNDQ0NjgxNDY3KTsKICAgICAgZCA9IG1kNV9nZyhkLCBhLCBiLCBjLCB4W2kgKyAyXSwgOSwgLTUxNDAzNzg0KTsKICAgICAgYyA9IG1kNV9nZyhjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTQsIDE3MzUzMjg0NzMpOwogICAgICBiID0gbWQ1X2dnKGIsIGMsIGQsIGEsIHhbaSArIDEyXSwgMjAsIC0xOTI2NjA3NzM0KTsKICAgICAgYSA9IG1kNV9oaChhLCBiLCBjLCBkLCB4W2kgKyA1XSwgNCwgLTM3ODU1OCk7CiAgICAgIGQgPSBtZDVfaGgoZCwgYSwgYiwgYywgeFtpICsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7CiAgICAgIGMgPSBtZDVfaGgoYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNiwgMTgzOTAzMDU2Mik7CiAgICAgIGIgPSBtZDVfaGgoYiwgYywgZCwgYSwgeFtpICsgMTRdLCAyMywgLTM1MzA5NTU2KTsKICAgICAgYSA9IG1kNV9oaChhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNCwgLTE1MzA5OTIwNjApOwogICAgICBkID0gbWQ1X2hoKGQsIGEsIGIsIGMsIHhbaSArIDRdLCAxMSwgMTI3Mjg5MzM1Myk7CiAgICAgIGMgPSBtZDVfaGgoYywgZCwgYSwgYiwgeFtpICsgN10sIDE2LCAtMTU1NDk3NjMyKTsKICAgICAgYiA9IG1kNV9oaChiLCBjLCBkLCBhLCB4W2kgKyAxMF0sIDIzLCAtMTA5NDczMDY0MCk7CiAgICAgIGEgPSBtZDVfaGgoYSwgYiwgYywgZCwgeFtpICsgMTNdLCA0LCA2ODEyNzkxNzQpOwogICAgICBkID0gbWQ1X2hoKGQsIGEsIGIsIGMsIHhbaSArIDBdLCAxMSwgLTM1ODUzNzIyMik7CiAgICAgIGMgPSBtZDVfaGgoYywgZCwgYSwgYiwgeFtpICsgM10sIDE2LCAtNzIyNTIxOTc5KTsKICAgICAgYiA9IG1kNV9oaChiLCBjLCBkLCBhLCB4W2kgKyA2XSwgMjMsIDc2MDI5MTg5KTsKICAgICAgYSA9IG1kNV9oaChhLCBiLCBjLCBkLCB4W2kgKyA5XSwgNCwgLTY0MDM2NDQ4Nyk7CiAgICAgIGQgPSBtZDVfaGgoZCwgYSwgYiwgYywgeFtpICsgMTJdLCAxMSwgLTQyMTgxNTgzNSk7CiAgICAgIGMgPSBtZDVfaGgoYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNiwgNTMwNzQyNTIwKTsKICAgICAgYiA9IG1kNV9oaChiLCBjLCBkLCBhLCB4W2kgKyAyXSwgMjMsIC05OTUzMzg2NTEpOwogICAgICBhID0gbWQ1X2lpKGEsIGIsIGMsIGQsIHhbaSArIDBdLCA2LCAtMTk4NjMwODQ0KTsKICAgICAgZCA9IG1kNV9paShkLCBhLCBiLCBjLCB4W2kgKyA3XSwgMTAsIDExMjY4OTE0MTUpOwogICAgICBjID0gbWQ1X2lpKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTUsIC0xNDE2MzU0OTA1KTsKICAgICAgYiA9IG1kNV9paShiLCBjLCBkLCBhLCB4W2kgKyA1XSwgMjEsIC01NzQzNDA1NSk7CiAgICAgIGEgPSBtZDVfaWkoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA2LCAxNzAwNDg1NTcxKTsKICAgICAgZCA9IG1kNV9paShkLCBhLCBiLCBjLCB4W2kgKyAzXSwgMTAsIC0xODk0OTg2NjA2KTsKICAgICAgYyA9IG1kNV9paShjLCBkLCBhLCBiLCB4W2kgKyAxMF0sIDE1LCAtMTA1MTUyMyk7CiAgICAgIGIgPSBtZDVfaWkoYiwgYywgZCwgYSwgeFtpICsgMV0sIDIxLCAtMjA1NDkyMjc5OSk7CiAgICAgIGEgPSBtZDVfaWkoYSwgYiwgYywgZCwgeFtpICsgOF0sIDYsIDE4NzMzMTMzNTkpOwogICAgICBkID0gbWQ1X2lpKGQsIGEsIGIsIGMsIHhbaSArIDE1XSwgMTAsIC0zMDYxMTc0NCk7CiAgICAgIGMgPSBtZDVfaWkoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE1LCAtMTU2MDE5ODM4MCk7CiAgICAgIGIgPSBtZDVfaWkoYiwgYywgZCwgYSwgeFtpICsgMTNdLCAyMSwgMTMwOTE1MTY0OSk7CiAgICAgIGEgPSBtZDVfaWkoYSwgYiwgYywgZCwgeFtpICsgNF0sIDYsIC0xNDU1MjMwNzApOwogICAgICBkID0gbWQ1X2lpKGQsIGEsIGIsIGMsIHhbaSArIDExXSwgMTAsIC0xMTIwMjEwMzc5KTsKICAgICAgYyA9IG1kNV9paShjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTUsIDcxODc4NzI1OSk7CiAgICAgIGIgPSBtZDVfaWkoYiwgYywgZCwgYSwgeFtpICsgOV0sIDIxLCAtMzQzNDg1NTUxKTsKICAgICAgYSA9IHNhZmVfYWRkKGEsIG9sZGEpOwogICAgICBiID0gc2FmZV9hZGQoYiwgb2xkYik7CiAgICAgIGMgPSBzYWZlX2FkZChjLCBvbGRjKTsKICAgICAgZCA9IHNhZmVfYWRkKGQsIG9sZGQpOwogICAgfQoKICAgIHJldHVybiBBcnJheShhLCBiLCBjLCBkKTsKICB9CiAgLyoNCiAgICogVGhlc2UgZnVuY3Rpb25zIGltcGxlbWVudCB0aGUgZm91ciBiYXNpYyBvcGVyYXRpb25zIHRoZSBhbGdvcml0aG0gdXNlcy4NCiAgICovCgoKICBmdW5jdGlvbiBtZDVfY21uKHEsIGEsIGIsIHgsIHMsIHQpIHsKICAgIHJldHVybiBzYWZlX2FkZChiaXRfcm9sKHNhZmVfYWRkKHNhZmVfYWRkKGEsIHEpLCBzYWZlX2FkZCh4LCB0KSksIHMpLCBiKTsKICB9CgogIGZ1bmN0aW9uIG1kNV9mZihhLCBiLCBjLCBkLCB4LCBzLCB0KSB7CiAgICByZXR1cm4gbWQ1X2NtbihiICYgYyB8IH5iICYgZCwgYSwgYiwgeCwgcywgdCk7CiAgfQoKICBmdW5jdGlvbiBtZDVfZ2coYSwgYiwgYywgZCwgeCwgcywgdCkgewogICAgcmV0dXJuIG1kNV9jbW4oYiAmIGQgfCBjICYgfmQsIGEsIGIsIHgsIHMsIHQpOwogIH0KCiAgZnVuY3Rpb24gbWQ1X2hoKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHsKICAgIHJldHVybiBtZDVfY21uKGIgXiBjIF4gZCwgYSwgYiwgeCwgcywgdCk7CiAgfQoKICBmdW5jdGlvbiBtZDVfaWkoYSwgYiwgYywgZCwgeCwgcywgdCkgewogICAgcmV0dXJuIG1kNV9jbW4oYyBeIChiIHwgfmQpLCBhLCBiLCB4LCBzLCB0KTsKICB9CiAgLyoNCiAgICogQ2FsY3VsYXRlIHRoZSBITUFDLU1ENSwgb2YgYSBrZXkgYW5kIHNvbWUgZGF0YQ0KICAgKi8KCgogIGZ1bmN0aW9uIGNvcmVfaG1hY19tZDUoa2V5LCBkYXRhKSB7CiAgICB2YXIgYmtleSA9IHN0cjJiaW5sKGtleSk7CiAgICBpZiAoYmtleS5sZW5ndGggPiAxNikgYmtleSA9IGNvcmVfbWQ1KGJrZXksIGtleS5sZW5ndGggKiBjaHJzeik7CiAgICB2YXIgaXBhZCA9IEFycmF5KDE2KSwKICAgICAgICBvcGFkID0gQXJyYXkoMTYpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykgewogICAgICBpcGFkW2ldID0gYmtleVtpXSBeIDB4MzYzNjM2MzY7CiAgICAgIG9wYWRbaV0gPSBia2V5W2ldIF4gMHg1QzVDNUM1QzsKICAgIH0KCiAgICB2YXIgaGFzaCA9IGNvcmVfbWQ1KGlwYWQuY29uY2F0KHN0cjJiaW5sKGRhdGEpKSwgNTEyICsgZGF0YS5sZW5ndGggKiBjaHJzeik7CiAgICByZXR1cm4gY29yZV9tZDUob3BhZC5jb25jYXQoaGFzaCksIDUxMiArIDEyOCk7CiAgfQogIC8qDQogICAqIEFkZCBpbnRlZ2Vycywgd3JhcHBpbmcgYXQgMl4zMi4gVGhpcyB1c2VzIDE2LWJpdCBvcGVyYXRpb25zIGludGVybmFsbHkNCiAgICogdG8gd29yayBhcm91bmQgYnVncyBpbiBzb21lIEpTIGludGVycHJldGVycy4NCiAgICovCgoKICBmdW5jdGlvbiBzYWZlX2FkZCh4LCB5KSB7CiAgICB2YXIgbHN3ID0gKHggJiAweEZGRkYpICsgKHkgJiAweEZGRkYpOwogICAgdmFyIG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpOwogICAgcmV0dXJuIG1zdyA8PCAxNiB8IGxzdyAmIDB4RkZGRjsKICB9CiAgLyoNCiAgICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0Lg0KICAgKi8KCgogIGZ1bmN0aW9uIGJpdF9yb2wobnVtLCBjbnQpIHsKICAgIHJldHVybiBudW0gPDwgY250IHwgbnVtID4+PiAzMiAtIGNudDsKICB9CiAgLyoNCiAgICogQ29udmVydCBhIHN0cmluZyB0byBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzDQogICAqIElmIGNocnN6IGlzIEFTQ0lJLCBjaGFyYWN0ZXJzID4yNTUgaGF2ZSB0aGVpciBoaS1ieXRlIHNpbGVudGx5IGlnbm9yZWQuDQogICAqLwoKCiAgZnVuY3Rpb24gc3RyMmJpbmwoc3RyKSB7CiAgICB2YXIgYmluID0gQXJyYXkoKTsKICAgIHZhciBtYXNrID0gKDEgPDwgY2hyc3opIC0gMTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGggKiBjaHJzejsgaSArPSBjaHJzeikgewogICAgICBiaW5baSA+PiA1XSB8PSAoc3RyLmNoYXJDb2RlQXQoaSAvIGNocnN6KSAmIG1hc2spIDw8IGkgJSAzMjsKICAgIH0KCiAgICByZXR1cm4gYmluOwogIH0KICAvKg0KICAgKiBDb252ZXJ0IGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMgdG8gYSBzdHJpbmcNCiAgICovCgoKICBmdW5jdGlvbiBiaW5sMnN0cihiaW4pIHsKICAgIHZhciBzdHIgPSAiIjsKICAgIHZhciBtYXNrID0gKDEgPDwgY2hyc3opIC0gMTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJpbi5sZW5ndGggKiAzMjsgaSArPSBjaHJzeikgewogICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShiaW5baSA+PiA1XSA+Pj4gaSAlIDMyICYgbWFzayk7CiAgICB9CgogICAgcmV0dXJuIHN0cjsKICB9CiAgLyoNCiAgICogQ29udmVydCBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzIHRvIGEgaGV4IHN0cmluZy4NCiAgICovCgoKICBmdW5jdGlvbiBiaW5sMmhleChiaW5hcnJheSkgewogICAgdmFyIGhleF90YWIgPSBoZXhjYXNlID8gIjAxMjM0NTY3ODlBQkNERUYiIDogIjAxMjM0NTY3ODlhYmNkZWYiOwogICAgdmFyIHN0ciA9ICIiOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluYXJyYXkubGVuZ3RoICogNDsgaSsrKSB7CiAgICAgIHN0ciArPSBoZXhfdGFiLmNoYXJBdChiaW5hcnJheVtpID4+IDJdID4+IGkgJSA0ICogOCArIDQgJiAweEYpICsgaGV4X3RhYi5jaGFyQXQoYmluYXJyYXlbaSA+PiAyXSA+PiBpICUgNCAqIDggJiAweEYpOwogICAgfQoKICAgIHJldHVybiBzdHI7CiAgfQogIC8qDQogICAqIENvbnZlcnQgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcyB0byBhIGJhc2UtNjQgc3RyaW5nDQogICAqLwoKCiAgZnVuY3Rpb24gYmlubDJiNjQoYmluYXJyYXkpIHsKICAgIHZhciB0YWIgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgICB2YXIgc3RyID0gIiI7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaW5hcnJheS5sZW5ndGggKiA0OyBpICs9IDMpIHsKICAgICAgdmFyIHRyaXBsZXQgPSAoYmluYXJyYXlbaSA+PiAyXSA+PiA4ICogKGkgJSA0KSAmIDB4RkYpIDw8IDE2IHwgKGJpbmFycmF5W2kgKyAxID4+IDJdID4+IDggKiAoKGkgKyAxKSAlIDQpICYgMHhGRikgPDwgOCB8IGJpbmFycmF5W2kgKyAyID4+IDJdID4+IDggKiAoKGkgKyAyKSAlIDQpICYgMHhGRjsKCiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNDsgaisrKSB7CiAgICAgICAgaWYgKGkgKiA4ICsgaiAqIDYgPiBiaW5hcnJheS5sZW5ndGggKiAzMikgc3RyICs9IGI2NHBhZDtlbHNlIHN0ciArPSB0YWIuY2hhckF0KHRyaXBsZXQgPj4gNiAqICgzIC0gaikgJiAweDNGKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBzdHI7CiAgfQoKICAkLmhleF9tZDUgPSBmdW5jdGlvbiBoZXhfbWQ1KHMpIHsKICAgIHJldHVybiBiaW5sMmhleChjb3JlX21kNShzdHIyYmlubChzKSwgcy5sZW5ndGggKiBjaHJzeikpOwogIH07CgogICQuYjY0X21kNSA9IGZ1bmN0aW9uIGI2NF9tZDUocykgewogICAgcmV0dXJuIGJpbmwyYjY0KGNvcmVfbWQ1KHN0cjJiaW5sKHMpLCBzLmxlbmd0aCAqIGNocnN6KSk7CiAgfTsKCiAgJC5zdHJfbWQ1ID0gZnVuY3Rpb24gc3RyX21kNShzKSB7CiAgICByZXR1cm4gYmlubDJzdHIoY29yZV9tZDUoc3RyMmJpbmwocyksIHMubGVuZ3RoICogY2hyc3opKTsKICB9OwoKICAkLmhleF9obWFjX21kNSA9IGZ1bmN0aW9uIGhleF9obWFjX21kNShrZXksIGRhdGEpIHsKICAgIHJldHVybiBiaW5sMmhleChjb3JlX2htYWNfbWQ1KGtleSwgZGF0YSkpOwogIH07CgogICQuYjY0X2htYWNfbWQ1ID0gZnVuY3Rpb24gYjY0X2htYWNfbWQ1KGtleSwgZGF0YSkgewogICAgcmV0dXJuIGJpbmwyYjY0KGNvcmVfaG1hY19tZDUoa2V5LCBkYXRhKSk7CiAgfTsKCiAgJC5zdHJfaG1hY19tZDUgPSBmdW5jdGlvbiBzdHJfaG1hY19tZDUoa2V5LCBkYXRhKSB7CiAgICByZXR1cm4gYmlubDJzdHIoY29yZV9obWFjX21kNShrZXksIGRhdGEpKTsKICB9OwoKICAkLm1kNSA9ICQuaGV4X21kNTsKfSkoKTsKLyoqDQogKiDlrprml7bku7vliqHnrqHnkIblmagNCiAqLwoKCihmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gVGltZXIoKSB7CiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5Zue6LCD5a+56LGh6ZuG5ZCIDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBbew0KICAgIAkgLy8g5ZCN56ewDQogICAgCSBuYW1lOiAiIiwNCiAgICAJIC8vIOaJp+ihjOWHveaVsA0KICAgIAkgYXN5bmMgcnVuKCl7fQ0KICAgIAl9XQ0KICAgICAqLwogICAgdmFyIGxpc3QgPSBbXTsgLy8g5a6a5pe25Zmo5qC45b+DCgogICAgdGhpcy5jb3JlOwogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOaJp+ihjA0KICAgICAqLwoKICAgIFRpbWVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBsZW4gPSBsaXN0Lmxlbmd0aDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICB2YXIgcnVuID0gbGlzdFtpXS5ydW47CgogICAgICAgIGlmIChydW4pIHsKICAgICAgICAgIHJ1bigpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDlkK/liqgNCiAgICAgKi8KCgogICAgVGltZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmNvcmUpIHsKICAgICAgICB0aGlzLmNvcmUgPSBzZXRJbnRlcnZhbCh0aGlzLnJ1biwgMTAwMCk7CiAgICAgIH0KICAgIH07CiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g57uT5p2fDQogICAgICovCgoKICAgIFRpbWVyLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb3JlKTsKICAgICAgdGhpcy5jb3JlID0gdW5kZWZpbmVkOwogICAgfTsKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDmt7vliqDlrprml7bmiafooYzku7vliqENCiAgICAgKi8KCgogICAgVGltZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChvYmopIHsKICAgICAgaWYgKF90eXBlb2Yob2JqKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICBpZiAob2JqLm5hbWUgJiYgb2JqLnJ1biAmJiB0eXBlb2Ygb2JqLnJ1biA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgbGlzdC5wdXNoKG9iaik7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOWIoOmZpOWumuaXtuaJp+ihjOS7u+WKoQ0KICAgICAqLwoKCiAgICBUaW1lci5wcm90b3R5cGUuZGVsID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgaWYgKCh0eXBlb2Ygb2JqID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihvYmopKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICBsaXN0LmRlbCh7CiAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgfSwgdHJ1ZSk7CiAgICAgIH0KICAgIH07CiAgfQoKICA7CiAgJC50aW1lciA9IG5ldyBUaW1lcigpOwp9KSgpOwoKKGZ1bmN0aW9uICgpIHsKICAvKiA9PSDnvZHnu5zor7fmsYIgPT0gKi8KICAkLmh0dHAgPSB7CiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24gR0VU6K+35rGC4oCU4oCUanNvbg0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwg6K+35rGC5Zyw5Z2ADQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuIOWbnuiwg+WHveaVsA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzIOWNj+iuruWktA0KICAgICAqIEByZXR1cm4ge09iamVjdH0g5ZCM5q2l6K+35rGC6L+U5Zue6K+35rGC57uT5p6c77yM5ZCm5YiZ6L+U5ZuedW5kZWZpbmVkDQogICAgICovCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCh1cmwsIGZ1biwgaGVhZGVycykgewogICAgICB2YXIganNvbjsKICAgICAgdmFyIGhwID0gewogICAgICAgIHR5cGU6ICdHRVQnLAogICAgICAgIHVybDogdXJsLAogICAgICAgIGFzeW5jOiBmdW4gIT09IG51bGwsCiAgICAgICAgLy8geGhyRmllbGRzOiB7CiAgICAgICAgLy8gCXdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gY3Jvc3NEb21haW46IHRydWUsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhLCBzdGF0dXMpIHsKICAgICAgICAgIGlmIChmdW4pIHsKICAgICAgICAgICAgZnVuKGRhdGEsIHN0YXR1cyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBqc29uID0gewogICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihkYXRhLCBzdGF0dXMpIHsKICAgICAgICAgIGlmIChmdW4pIHsKICAgICAgICAgICAgZnVuKGRhdGEsIHN0YXR1cyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBqc29uID0gewogICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShYSFIsIFRTKSB7CiAgICAgICAgICBYSFIgPSBudWxsOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGlmIChoZWFkZXJzKSB7CiAgICAgICAgaHAuaGVhZGVycyA9IGhlYWRlcnM7CiAgICAgIH0KCiAgICAgICQuYWpheChocCk7CiAgICAgIHJldHVybiBqc29uOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24gUE9TVOivt+axgg0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwg6K+35rGC5Zyw5Z2ADQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIOivt+axguWPguaVsA0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1biDlm57osIPlh73mlbANCiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGVhZGVycyDljY/orq7lpLQNCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSDlhoXlrrnnsbvlnosNCiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IOWQjOatpeivt+axgui/lOWbnuivt+axgue7k+aenO+8jOWQpuWImei/lOWbnnVuZGVmaW5lZA0KICAgICAqLwogICAgcG9zdDogZnVuY3Rpb24gcG9zdCh1cmwsIHBhcmFtLCBmdW4sIGhlYWRlcnMsIHR5cGUpIHsKICAgICAgdmFyIGNvbnRlbnRUeXBlOwogICAgICB2YXIgcG07CgogICAgICBpZiAodHlwZSA9PT0gJ3htbCcpIHsKICAgICAgICBjb250ZW50VHlwZSA9ICJ0ZXh0L3htbDsgY2hhcnNldD11dGYtOCI7CiAgICAgICAgcG0gPSBwYXJhbTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZm9ybScpIHsKICAgICAgICBjb250ZW50VHlwZSA9ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgiOwogICAgICAgIHBtID0gcGFyYW07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29udGVudFR5cGUgPSAiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCI7CiAgICAgICAgcG0gPSBKU09OLnN0cmluZ2lmeShwYXJhbSk7CiAgICAgIH0KCiAgICAgIHZhciBqc29uOwogICAgICB2YXIgaHAgPSB7CiAgICAgICAgdHlwZTogJ1BPU1QnLAogICAgICAgIHVybDogdXJsLAogICAgICAgIGFzeW5jOiBmdW4gIT09IG51bGwsCiAgICAgICAgLy8geGhyRmllbGRzOiB7CiAgICAgICAgLy8gCXdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gY3Jvc3NEb21haW46IHRydWUsCiAgICAgICAgZGF0YTogcG0sCiAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICBjb250ZW50VHlwZTogY29udGVudFR5cGUsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhLCBzdGF0dXMpIHsKICAgICAgICAgIGlmIChmdW4pIHsKICAgICAgICAgICAgZnVuKGRhdGEsIHN0YXR1cyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBqc29uID0gewogICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihkYXRhLCBzdGF0dXMpIHsKICAgICAgICAgIGlmIChmdW4pIHsKICAgICAgICAgICAgZnVuKGRhdGEsIHN0YXR1cyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBqc29uID0gewogICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShYSFIsIFRTKSB7CiAgICAgICAgICBYSFIgPSBudWxsOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGlmIChoZWFkZXJzKSB7CiAgICAgICAgaHAuaGVhZGVycyA9IGhlYWRlcnM7CiAgICAgIH0KCiAgICAgICQuYWpheChocCk7CiAgICAgIHJldHVybiBqc29uOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5LiK5Lyg5paH5Lu2DQogICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCDor7fmsYLlnLDlnYANCiAgICAgKiBAcGFyYW0ge09iamVjdH0gZmlsZSBpbnB1dCBmaWxl5paH5Lu2DQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuIOWbnuiwg+WHveaVsA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzIOWNj+iuruWktA0KICAgICAqIEByZXR1cm4ge09iamVjdH0g5ZCM5q2l6K+35rGC6L+U5Zue6K+35rGC57uT5p6c77yM5ZCm5YiZ6L+U5ZuedW5kZWZpbmVkDQogICAgICovCiAgICB1cGxvYWQ6IGZ1bmN0aW9uIHVwbG9hZCh1cmwsIGZpbGUsIGZ1biwgaGVhZGVycykgewogICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtLmFwcGVuZCgiZmlsZSIsIGZpbGUpOwogICAgICB2YXIganNvbjsKICAgICAgdmFyIGhwID0gewogICAgICAgIHR5cGU6ICdQT1NUJywKICAgICAgICB1cmw6IHVybCwKICAgICAgICBhc3luYzogZnVuICE9PSBudWxsLAogICAgICAgIGRhdGE6IGZvcm0sCiAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsCiAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSwgc3RhdHVzKSB7CiAgICAgICAgICBpZiAoZnVuKSB7CiAgICAgICAgICAgIGZ1bihkYXRhLCBzdGF0dXMpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAganNvbiA9IHsKICAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoZGF0YSwgc3RhdHVzKSB7CiAgICAgICAgICBpZiAoZnVuKSB7CiAgICAgICAgICAgIGZ1bihkYXRhLCBzdGF0dXMpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAganNvbiA9IHsKICAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUoWEhSLCBUUykgewogICAgICAgICAgWEhSID0gbnVsbDsKICAgICAgICB9CiAgICAgIH07CgogICAgICBpZiAoaGVhZGVycykgewogICAgICAgIGhwLmhlYWRlcnMgPSBoZWFkZXJzOwogICAgICB9CgogICAgICAkLmFqYXgoaHApOwogICAgICByZXR1cm4ganNvbjsKICAgIH0KICB9OwogIC8qIOe8k+WtmCAqLwoKICAkLmNvb2tpZXMgPSB7CiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g6K6+572u5Z+fDQogICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCDlnLDlnYANCiAgICAgKi8KICAgIGRvbWFpbjogZnVuY3Rpb24gZG9tYWluKHVybCkgewogICAgICBpZiAodXJsKSB7CiAgICAgICAgX2RvbWFpbiA9IHVybDsKICAgICAgfQoKICAgICAgcmV0dXJuICI7cGF0aD0vIjsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOiuvue9rue8k+WtmA0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIOe8k+WtmOWvueixoQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSDnvJPlrZjlgLwNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWludXRlcyDnvJPlrZjml7bplb/vvIzljZXkvY06IOWIhumSnw0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4g5L2c55So5Z+fDQogICAgICovCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuYW1lLCB2YWx1ZSwgbWludXRlcywgZG9tYWluKSB7CiAgICAgIGlmICghZG9tYWluKSB7CiAgICAgICAgZG9tYWluID0gJC5jb29raWVzLmRvbWFpbigpOwogICAgICB9CgogICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKCk7CgogICAgICBpZiAobWludXRlcykgewogICAgICAgIHRpbWUuc2V0VGltZSh0aW1lLmdldFRpbWUoKSArIG1pbnV0ZXMgKiA2MDAwMCk7CiAgICAgICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgKyAiO2V4cGlyZXM9IiArIHRpbWUudG9HTVRTdHJpbmcoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aW1lLnNldFRpbWUodGltZS5nZXRUaW1lKCkgKyA3ICogMjQgKiAzNjAwICogNjAwMDApOwogICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAiPSIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICsgIjtleHBpcmVzPSIgKyB0aW1lLnRvR01UU3RyaW5nKCk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOiOt+WPlmNvb2tpZQ0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIOWQjeensA0KICAgICAqLwogICAgZ2V0OiBmdW5jdGlvbiBnZXQobmFtZSkgewogICAgICB2YXIgdmFsdWUgPSBudWxsOwogICAgICB2YXIgc3RyID0gZG9jdW1lbnQuY29va2llOwogICAgICB2YXIgYXJyID0gc3RyLnNwbGl0KCI7ICIpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgYXIgPSBhcnJbaV0uc3BsaXQoIj0iKTsKCiAgICAgICAgaWYgKGFyWzBdID09IG5hbWUpIHsKICAgICAgICAgIHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KGFyWzFdKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5Yig6ZmkY29va2llDQogICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUg5ZCN56ewDQogICAgICovCiAgICBkZWw6IGZ1bmN0aW9uIGRlbChuYW1lKSB7CiAgICAgIHRoaXMuc2V0KG5hbWUsICIiLCAtMSk7CiAgICB9CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOiuvue9ruaIluafpeivomNvb2tpZee8k+WtmA0KICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IOe8k+WtmOWvueixoeWQjQ0KICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUg57yT5a2Y5YC8DQogICAqIEBwYXJhbSB7TnVtYmVyfSBtaW51dGVzIOe8k+WtmOaXtumVv++8jOWNleS9jTog5YiG6ZKfDQogICAqLwoKICAkLmNvb2tpZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlLCBtaW51dGVzKSB7CiAgICBpZiAodmFsdWUgIT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghbWludXRlcykgewogICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7CiAgICAgICAgICBtaW51dGVzID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbWludXRlcyA9IDEyMDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgICQuY29va2llcy5zZXQoa2V5LCB2YWx1ZSwgbWludXRlcyk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gJC5jb29raWVzLmdldChrZXkpOwogICAgfQogIH07CiAgLyogPT09IOWkmuWqkuS9kyA9PT0gKi8KCgogICQuZmlsZSA9IHsKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDkuIrkvKDmlofku7YNCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIOaPkOS6pOe9keWdgA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmog5a+56LGhDQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlh73mlbANCiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGVhZGVycyDljY/orq7lpLQNCiAgICAgKi8KICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKHVybCwgb2JqLCBmdW5jLCBoZWFkZXJzKSB7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgZm9yICh2YXIgayBpbiBvYmopIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoaywgb2JqW2tdKTsKICAgICAgfQoKICAgICAgdmFyIGhwID0gewogICAgICAgIHR5cGU6ICdQT1NUJywKICAgICAgICB1cmw6IHVybCwKICAgICAgICBkYXRhOiBmb3JtRGF0YSwKICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsCiAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLAogICAgICAgIGFzeW5jOiBmdW5jICE9PSBudWxsLAogICAgICAgIHhockZpZWxkczogewogICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgICAgfSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGpzb24sIHN0YXR1cykgewogICAgICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICAgICAgaWYgKGpzb24pIHsKICAgICAgICAgICAgICBqc29uWyJvYmoiXSA9IG9iajsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuYyhqc29uLCBzdGF0dXMpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKFhIUiwgVFMpIHsKICAgICAgICAgIFhIUiA9IG51bGw7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgaWYgKGhlYWRlcnMpIHsKICAgICAgICBocC5oZWFkZXJzID0gaGVhZGVyczsKICAgICAgfQoKICAgICAgJC5hamF4KGhwKTsKICAgIH0KICB9Owp9KSgpOwovKiDpgJrorq8gKi8KCgooZnVuY3Rpb24gKCkgewogICQuaHRtbCA9IHsKICAgIHRhZzogZnVuY3Rpb24gdGFnKF90YWcsIHByb3AsIHZhbHVlKSB7CiAgICAgIHZhciBvYmo7CiAgICAgIHZhciBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoX3RhZyk7CiAgICAgIHZhciBsZW4gPSBsaXN0Lmxlbmd0aDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICB2YXIgbyA9IGxpc3RbaV07CgogICAgICAgIGlmIChvICYmIG8uZ2V0QXR0cmlidXRlKHByb3ApICYmIG8uZ2V0QXR0cmlidXRlKHByb3ApLmhhcyh2YWx1ZSkpIHsKICAgICAgICAgIG9iaiA9IG87CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBvYmo7CiAgICB9CiAgfTsKICAvKioNCiAgICog5pys5Zyw5Li05pe257yT5a2YLOWFs+mXrea1j+iniOWZqOWQjuWwj+aXtg0KICAgKi8KCiAgJC5jYWNoZSA9IHsKICAgIC8qKg0KICAgICAqIOiuvue9ruWAvA0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg6ZSuDQogICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIOWAvA0KICAgICAqLwogICAgc2V0OiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkgewogICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTsKICAgIH0sCgogICAgLyoqDQogICAgICog6I635Y+W5YC8DQogICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSDplK4NCiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IOWAvA0KICAgICAqLwogICAgZ2V0OiBmdW5jdGlvbiBnZXQoa2V5KSB7CiAgICAgIHJldHVybiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliKDpmaTlgLwNCiAgICAgKiBAcGFyYW0ge09iamVjdH0ga2V5IOmUrg0KICAgICAqLwogICAgZGVsOiBmdW5jdGlvbiBkZWwoa2V5KSB7CiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOa4hemZpOaJgOaciee8k+WtmA0KICAgICAqLwogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsKICAgIH0KICB9OwogIC8qKg0KICAgKiDmnKzlnLDmlbDmja7lupPlrZjlgqgNCiAgICovCgogICQuZGIgPSB7CiAgICAvKioNCiAgICAgKiDorr7nva7lgLwNCiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IOmUrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSDlgLwNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gbG9uZ1RpbWUg5L+d5a2Y5pe26ZW/77yI5Y2V5L2NOuWIhumSn++8iQ0KICAgICAqLwogICAgc2V0OiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSwgbG9uZ1RpbWUpIHsKICAgICAgdmFyIGV4cGlyZXMgPSBudWxsOwoKICAgICAgaWYgKGxvbmdUaW1lKSB7CiAgICAgICAgdmFyIHRpbWUgPSBEYXRlLm5vdygpOwogICAgICAgIGV4cGlyZXMgPSB0aW1lICsgbG9uZ1RpbWUgKiA2MDAwMDsKICAgICAgfQoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgIGV4cGlyZXM6IGV4cGlyZXMKICAgICAgfTsKICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDojrflj5blgLwNCiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IOmUrg0KICAgICAqIEByZXR1cm4ge09iamVjdH0g5YC8DQogICAgICovCiAgICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHsKICAgICAgdmFyIHZhbHVlOwogICAgICB2YXIgdGV4dCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpOwoKICAgICAgaWYgKHRleHQgJiYgdGV4dC5pbmRleE9mKCd7JykgPT09IDApIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHRleHQpOwoKICAgICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgIGlmIChkYXRhLmV4cGlyZXMpIHsKICAgICAgICAgICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKGRhdGEuZXhwaXJlcyk7CgogICAgICAgICAgICAgIGlmICh0aW1lID4gRGF0ZS5ub3coKSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSBkYXRhLnZhbHVlOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFsdWUgPSBkYXRhLnZhbHVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICB2YWx1ZSA9IHRleHQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHZhbHVlID0gdGV4dDsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliKDpmaTlgLwNCiAgICAgKiBAcGFyYW0ge09iamVjdH0ga2V5IOmUrg0KICAgICAqLwogICAgZGVsOiBmdW5jdGlvbiBkZWwoa2V5KSB7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpOwogICAgfQogIH07CiAgLyoqDQogICAqIHdlYiBzb2NrZXTpgJrorq/nu4QNCiAgICovCgogICQud3MgPSB7fTsKICAvKiDlsIHoo4UgV2ViU29ja2V0IOWunuS+i+WMlueahOaWueazlSAgKi8KCiAgdmFyIENyZWF0ZVdlYlNvY2tldCA9IGZ1bmN0aW9uICh1cmwpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodXJsKSB7CiAgICAgIHZhciB3czsKCiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHdpbmRvdy5XZWJTb2NrZXQpIHsKICAgICAgICAgIHdzID0gbmV3IFdlYlNvY2tldCh1cmwpOwogICAgICAgIH0gZWxzZSBpZiAod2luZG93Lk1veldlYlNvY2tldCkgewogICAgICAgICAgd3MgPSBuZXcgTW96V2ViU29ja2V0KHVybCk7CiAgICAgICAgfQoKICAgICAgICA7CiAgICAgIH0gY2F0Y2ggKGUpIHsvL1RPRE8gaGFuZGxlIHRoZSBleGNlcHRpb24KICAgICAgfQoKICAgICAgcmV0dXJuIHdzOwogICAgfTsKICB9KCk7CiAgLyoqDQogICAqIOetieW+hei/nuaOpeaIkOWKnywg54S25ZCO5Y+R6YCB5raI5oGvDQogICAqLwoKCiAgZnVuY3Rpb24gY29ubmVjdChfdGhpcykgewogICAgaWYgKF90aGlzLnRyeV9jb25uZWN0KSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBfdGhpcy50cnlfY29ubmVjdCA9IHRydWU7CiAgICB2YXIgd3MgPSBDcmVhdGVXZWJTb2NrZXQoX3RoaXMudXJsKTsKCiAgICB3cy5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgX3RoaXMubWVzc2FnZShldmVudCk7CiAgICB9OwoKICAgIHdzLm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJlY29ubmVjdChfdGhpcyk7CiAgICB9OwoKICAgIHdzLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgX3RoaXMubm90aWN5KCJlcnJvciIsIGV2ZW50KTsKICAgIH07CgogICAgd3Mub25vcGVuID0gZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy50cnlfY29ubmVjdCA9IGZhbHNlOwogICAgICB2YXIgYXJyID0gX3RoaXMuYXJyX21lc3NhZ2U7CiAgICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgIGlmICh3cy5yZWFkeVN0YXRlID09PSAxKSB7CiAgICAgICAgICBfdGhpcy53cy5zZW5kKGFycltpXSk7CiAgICAgICAgfQogICAgICB9IC8vIOWPkemAgeaIkOWKnywg5riF56m65raI5oGv57uECgoKICAgICAgX3RoaXMuYXJyX21lc3NhZ2UuY2xlYXIoKTsgLy8g6YeN572u6YeN5paw6L+e5o6l5qyh5pWwCgoKICAgICAgX3RoaXMudHJ5X3RpbWVzID0gMDsKICAgIH07CgogICAgX3RoaXMud3MgPSB3czsKICB9CgogIDsKICAvKioNCiAgICog6YeN5paw6L+e5o6lDQogICAqIEBwYXJhbSB7T2JqZWN0fSBfdGhpcyB3c+WvueixoQ0KICAgKi8KCiAgZnVuY3Rpb24gcmVjb25uZWN0KF90aGlzKSB7CiAgICBfdGhpcy50cnlfdGltZXMrKzsKCiAgICBpZiAoX3RoaXMudHJ5X3RpbWVzIDw9IF90aGlzLnRyeV9tYXhfdGltZXMpIHsKICAgICAgX3RoaXMudHJ5X2Nvbm5lY3QgPSBmYWxzZTsgLy8g5rKh6L+e5o6l5LiK5Lya5LiA55u06YeN6L+e77yM6K6+572u5bu26L+f6YG/5YWN6K+35rGC6L+H5aSaCgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25uZWN0KF90aGlzKTsKICAgICAgfSwgX3RoaXMuc2Vjb25kcyk7CgogICAgICBfdGhpcy5ub3RpY3koJ3JlY29ubmVjdCcsIF90aGlzLnRyeV90aW1lcyk7CiAgICB9IGVsc2UgewogICAgICBfdGhpcy5ub3RpY3koJ2Vycm9yJywgJ+acjeWKoeWZqOi/nuaOpeWksei0pSEnKTsKICAgIH0KICB9CgogIDsKICAvKioNCiAgICog5p6E6YCg6YCa6K6v5Ye95pWwDQogICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwNCiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbm90aWN5IOmAmuefpeWHveaVsA0KICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWNlaXZlIOWTjeW6lOWbnuiwg+WHveaVsA0KICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBub3RpY3kg5L+h5oGv5o2V5o2J5Ye95pWwDQogICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIOWQjeensA0KICAgKiBAcGFyYW0ge051bWJlcn0gc2Vjb25kcyDph43mlrDov57mjqXmrKHmlbANCiAgICogQHJldHVybiB7T2JqZWN0fSDov5Tlm57lj5Hkv6HmnI3liqENCiAgICovCgogIGZ1bmN0aW9uIFdTKHVybCwgcmVjZWl2ZSwgbm90aWN5LCBuYW1lLCBzZWNvbmRzKSB7CiAgICBpZiAobm90aWN5KSB7CiAgICAgIHRoaXMubm90aWN5ID0gbm90aWN5OwogICAgfSBlbHNlIHsKICAgICAgLyoqDQogICAgICAgKiDpgJrnn6Xlh73mlbANCiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIOmAmuefpeexu+Weiw0KICAgICAgICovCiAgICAgIHRoaXMubm90aWN5ID0gZnVuY3Rpb24gKHR5cGUsIGNvbnRlbnQpIHsKICAgICAgICBjb25zb2xlLmxvZyh0eXBlLCBjb250ZW50KTsKICAgICAgfTsKICAgIH0KCiAgICBpZiAoIXdpbmRvdy5XZWJTb2NrZXQpIHsKICAgICAgY29uc29sZS5lcnJvcign6ZSZ6K+vOiDmtY/op4jlmajkuI3mlK/mjIF3ZWJzb2NrZXQnKTsKICAgICAgdGhpcy5ub3RpY3koJ2Vycm9yJywgJ+a1j+iniOWZqOS4jeaUr+aMgXdlYnNvY2tldCcpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIHU7CgogICAgaWYgKHVybC5pbmRleE9mKCcvLycpICE9PSAtMSkgewogICAgICB1ID0gdXJsLnJlcGxhY2UoImh0dHBzIiwgIndzIikucmVwbGFjZSgiaHR0cCIsICJ3cyIpOwogICAgfSBlbHNlIHsKICAgICAgdSA9ICJ3czovLyIgKyB1cmw7CiAgICB9IC8vIOi/nuaOpeWcsOWdgAoKCiAgICB0aGlzLnVybCA9IHU7CgogICAgaWYgKG5hbWUpIHsKICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMubmFtZSA9IHU7CiAgICB9CgogICAgdGhpcy5yZWNlaXZlID0gcmVjZWl2ZTsgLy8g5raI5oGv5pWw57uELCDlnKjnrYnlvoXov57mjqXnmoTov4fnqIvkuK0sIOWmguaenOacieWkmuadoea2iOaBrywg5YiZ5L+d5a2Y6Iez5q2kLCDnrYnlvoXov57mjqXmiJDlip/lkI7lj5HpgIEKCiAgICB0aGlzLmFycl9tZXNzYWdlID0gW107CgogICAgaWYgKHNlY29uZHMpIHsKICAgICAgdGhpcy5zZWNvbmRzID0gc2Vjb25kczsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuc2Vjb25kcyA9IDYwMDA7CiAgICB9CiAgICAvKioNCiAgICAgKiDlsJ3or5Xph43ov57mrKHmlbANCiAgICAgKi8KCgogICAgdGhpcy50cnlfdGltZXMgPSAwOwogICAgLyoqDQogICAgICog5pyA5aSn5bCd6K+V5qyh5pWwLCDlpoLmnpzmr4/mrKHph43or5Xpl7TpmpQx5YiG6ZKfLCDpgqPkuYgxMOWIhumSn+WQjuWwseS4jeWGjemHjei/ng0KICAgICAqLwoKICAgIHRoaXMudHJ5X21heF90aW1lcyA9IDEwOwogICAgLyoqDQogICAgICog5piv5ZCm5q2j5Zyo5bCd6K+V6L+e5o6lDQogICAgICovCgogICAgdGhpcy50cnlfY29ubmVjdCA9IGZhbHNlOyAvLyDov57mjqUgc29ja2V05pyN5YqhCgogICAgY29ubmVjdCh0aGlzKTsKICB9CiAgLyoqDQogICAqIOaJk+W8gOacjeWKoQ0KICAgKi8KCgogIFdTLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkgewogICAgY29ubmVjdCh0aGlzKTsKICB9OwogIC8qKg0KICAgKiDlhbPpl63mnI3liqENCiAgICovCgoKICBXUy5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLndzLm9uY2xvc2UgPSBmdW5jdGlvbiAoZXZlbnQpIHt9OwoKICAgIHRoaXMud3MuY2xvc2UoKTsKICB9OwogIC8qKg0KICAgKiDph4rmlL4NCiAgICovCgoKICBXUy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmNsb3NlKCk7CiAgICBkZWxldGUgJC53c1trZXldOwogIH07CiAgLyoqDQogICAqIOaUtuWIsOa2iOaBrw0KICAgKi8KCgogIFdTLnByb3RvdHlwZS5tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIgZGF0YSA9IGV2ZW50LmRhdGE7CgogICAgaWYgKGRhdGEgJiYgdGhpcy5yZWNlaXZlKSB7CiAgICAgIHRoaXMucmVjZWl2ZShkYXRhKTsKICAgIH0KICB9OwogIC8qKg0KICAgKiDlj5HpgIHmlbDmja4NCiAgICogQHBhcmFtIHtTdHJpbmd9IGJvZHlTdHIg5raI5oGv5Li75L2T5a2X56ym5LiyDQogICAqLwoKCiAgV1MucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoYm9keVN0cikgewogICAgdmFyIHdzID0gdGhpcy53czsKCiAgICBzd2l0Y2ggKHdzLnJlYWR5U3RhdGUpIHsKICAgICAgY2FzZSAwOgogICAgICAgIC8vIENPTk5FQ1RJTkcg5q2j5Zyo6L+e5o6lCiAgICAgICAgLy8g5YWI5bCG5raI5oGv5Yqg5YWl6Zif5YiX562J5b6F6L+e5o6l5oiQ5Yqf5YaN5Y+R6YCBCiAgICAgICAgdGhpcy5hcnJfbWVzc2FnZS5wdXNoKGJvZHlTdHIpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAxOgogICAgICAgIC8vIE9QRU4g6L+e5o6l5oiQ5Yqf77yM5Y+v5Lul6YCa5L+h5LqGCiAgICAgICAgd3Muc2VuZChib2R5U3RyKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICAvLyBDTE9TSU5HIOi/nuaOpeato+WcqOWFs+mXrQogICAgICAgIC8vIOWFiOWwhua2iOaBr+WKoOWFpemYn+WIlywg562J5b6F5YWz6ZetID4g6YeN5paw6L+e5o6lID4g6L+e5o6l5oiQ5YqfIOWGjeWPkemAgea2iOaBrwogICAgICAgIHRoaXMuYXJyX21lc3NhZ2UucHVzaChib2R5U3RyKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgaWYgKHRoaXMudHJ5X3RpbWVzID4gOSkgewogICAgICAgICAgdGhpcy50cnlfdGltZXMgPSAwOwogICAgICAgICAgdGhpcy50cnlfY29ubmVjdCA9IGZhbHNlOwogICAgICAgIH0gLy8gQ0xPU0VEIOi/nuaOpeW3sue7j+WFs+mXre+8jOaIluiAheaJk+W8gOi/nuaOpeWksei0pQogICAgICAgIC8vIOWFiOWwhua2iOaBr+WKoOWFpemYn+WIlywg6YeN5paw6L+e5o6lID4g6L+e5o6l5oiQ5YqfIOWGjeWPkemAgea2iOaBrwoKCiAgICAgICAgdGhpcy5hcnJfbWVzc2FnZS5wdXNoKGJvZHlTdHIpOwogICAgICAgIGNvbm5lY3QodGhpcyk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfTsKICAvKioNCiAgICog5Li75Yqo5YWz6Zet6L+e5o6lDQogICAqLwoKCiAgV1MucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy53cy5jbG9zZSgpOwogIH07CiAgLyoqDQogICAqIOWIm+W7undlYiBzb2NrZXTpgJrorq/mnI3liqENCiAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBVUkzlnLDlnYANCiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVjZWl2ZSDlk43lupTlm57osIPlh73mlbANCiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbm90aWN5IOS/oeaBr+aNleaNieWHveaVsA0KICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSDlkI3np7ANCiAgICogQHBhcmFtIHtTdHJpbmd9IHNlY29uZHMg56eSDQogICAqIEByZXR1cm4ge09iamVjdH0g6L+U5Zue5Y+R5L+h5pyN5YqhDQogICAqLwoKCiAgJC5zb2NrZXQgPSBmdW5jdGlvbiAodXJsLCByZWNlaXZlLCBub3RpY3ksIG5hbWUsIHNlY29uZHMpIHsKICAgIC8vIOS9v+eUqOmUruaWueW8j+WOu+afpeivouWkmuS4qumAmuiurwogICAgLy8g6ZyA6KaB5aSa6YCa6K6v55qE5Y6f5Zug5pivOiDlg4/kuqTmmJPmiYDlj6/og73pnIDopoHljbPml7bpgJrorq/nmoTlkIzml7bov5jpnIDopoHor5Xor5Xlj5jljJbkuqTmmJPkv6Hmga8KICAgIGlmICghbmFtZSkgewogICAgICBuYW1lID0gdXJsOwogICAgfQoKICAgIGlmICghJC53c1tuYW1lXSkgewogICAgICAkLndzW25hbWVdID0gbmV3IFdTKHVybCwgcmVjZWl2ZSwgbm90aWN5LCBuYW1lLCBzZWNvbmRzKTsKICAgIH0gZWxzZSB7CiAgICAgICQud3NbbmFtZV0udHJ5X3RpbWVzID0gMDsKICAgIH0KCiAgICByZXR1cm4gJC53c1tuYW1lXTsKICB9OwogIC8qKg0KICAgKiDot6/nlLENCiAgICovCgoKICAkLnJvdXRlID0gewogICAgLyoqDQogICAgICog6YeN5a6a5ZCR5Zyw5Z2ADQogICAgICovCiAgICByZWRpcmVjdF91cmw6ICIvIiwKCiAgICAvKioNCiAgICAgKiDot6/nlLHljoblj7LorrDlvZUNCiAgICAgKi8KICAgIGhpc3Rvcnk6IHsKICAgICAgbGlzdDogW10sCiAgICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2godXJsKSB7CiAgICAgICAgaWYgKHRoaXMubGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICB2YXIgZW5kX3VybCA9IHRoaXMubGlzdFt0aGlzLmxpc3QubGVuZ3RoIC0gMV07CgogICAgICAgICAgaWYgKGVuZF91cmwgIT09IHVybCkgewogICAgICAgICAgICB0aGlzLmxpc3QucHVzaCh1cmwpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmxpc3QucHVzaCh1cmwpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDmt7vliqDot6/nlLENCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsDQogICAgICogQHBhcmFtIHtTdHJpbmd9IHRpdGxlDQogICAgICovCiAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKHVybCwgdGl0bGUpIHsKICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoewogICAgICAgIHN0YXR1czogMAogICAgICB9LCB0aXRsZSwgdXJsKTsKICAgIH0KICB9OwogIC8qKg0KICAgKiDmtY/op4jlmagNCiAgICovCgogICQub3MgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICByZXR1cm4gewogICAgICB2ZXJzaW9uOiBuYXZpZ2F0b3IuYXBwVmVyc2lvbiwKICAgICAgaXNBcHA6IHUuaW5kZXhPZigiSHRtbDVQbHVzIikgIT09IC0xLAogICAgICBkZXZpY2U6IHsKICAgICAgICAvLyDmmK/lkKbkuLrnp7vliqjnu4jnq68KICAgICAgICBtb2JpbGU6IC9BcHBsZVdlYktpdC4qTW9iaWxlLiovLnRlc3QodSksCiAgICAgICAgLy8gaW9z57uI56uvCiAgICAgICAgaW9zOiAvXChpW147XSs7KCBVOyk/IENQVS4rTWFjIE9TIFgvLnRlc3QodSksCiAgICAgICAgLy8gYW5kcm9pZOe7iOerr+aIlkxpbnV45rWP6KeI5ZmoCiAgICAgICAgYW5kcm9pZDogdS5pbmRleE9mKCdBbmRyb2lkJykgIT09IC0xIHx8IHUuaW5kZXhPZignTGludXgnKSAhPT0gLTEsCiAgICAgICAgLy8g5piv5ZCm5Li6aVBob25l5oiW6ICFUVFIROa1j+iniOWZqAogICAgICAgIGlQaG9uZTogdS5pbmRleE9mKCdpUGhvbmUnKSAhPT0gLTEsCiAgICAgICAgLy8g5piv5ZCmaVBhZAogICAgICAgIGlQYWQ6IHUuaW5kZXhPZignaVBhZCcpICE9PSAtMSwKICAgICAgICAvLyDmmK/lkKbnlLXohJEKICAgICAgICBwYzogdS5pbmRleE9mKCdXaW5kb3cnKSAhPT0gLTEKICAgICAgfSwKICAgICAgYXBwOiB7CiAgICAgICAgLy8g5b6u5L+hCiAgICAgICAgd2VjaGF0OiAvTWljcm9NZXNzZW5nZXIvaS50ZXN0KHUpLAogICAgICAgIC8vIOW+ruWNmgogICAgICAgIHdlaWJvOiAvV2VpQm8vaS50ZXN0KHUpLAogICAgICAgIC8vIFFRCiAgICAgICAgcXE6IC9RUS9pLnRlc3QodSkKICAgICAgfSwKICAgICAgYnJvd3NlcjogewogICAgICAgIC8vIOa1j+iniOWZqOeJiOacrOS/oeaBrwogICAgICAgIC8vIElF5YaF5qC4CiAgICAgICAgdHJpZGVudDogdS5pbmRleE9mKCdUcmlkZW50JykgPiAtMSwKICAgICAgICAvLyBvcGVyYeWGheaguAogICAgICAgIHByZXN0bzogdS5pbmRleE9mKCdQcmVzdG8nKSA+IC0xLAogICAgICAgIC8vIOiLueaenOOAgeiwt+atjOWGheaguAogICAgICAgIHdlYktpdDogdS5pbmRleE9mKCdBcHBsZVdlYktpdCcpID4gLTEsCiAgICAgICAgLy8g54Gr54uQ5YaF5qC4CiAgICAgICAgZ2Vja286IHUuaW5kZXhPZignR2Vja28nKSA+IC0xICYmIHUuaW5kZXhPZignS0hUTUwnKSA9PSAtMSwKICAgICAgICAvLyDoi7nmnpzpu5jorqTmtY/op4jlmagKICAgICAgICBzYWZhcmk6IHUuaW5kZXhPZignU2FmYXJpJykgPT09IC0xCiAgICAgIH0KICAgIH07CiAgfSgpOwp9KSgpOwoKKGZ1bmN0aW9uICgpIHsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOa3u+WKoOWvueixoeWxnuaApw0KICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIOWvueixoQ0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSDmt7vliqDlgLwNCiAgICogQHJldHVybiB7T2JqZWN0fSDov5Tlm57mt7vliqDnmoTlsYDpg6jlr7nosaENCiAgICovCiAgZnVuY3Rpb24gYWRkKG9iaiwgcXVlcnksIHZhbHVlKSB7CiAgICBpZiAocXVlcnkpIHsKICAgICAgdmFyIG9qID0gZ2V0KG9iaiwgcXVlcnkpOwoKICAgICAgaWYgKG9qKSB7CiAgICAgICAgJC5wdXNoKG9qLCB2YWx1ZSwgdHJ1ZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBvajsKICAgIH0gZWxzZSB7CiAgICAgICQucHVzaChvYmosIHZhbHVlLCB0cnVlKTsKICAgICAgcmV0dXJuIG9iajsKICAgIH0KICB9CgogIDsKICAkLmFkZCA9IGFkZDsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWIoOmZpOWvueixoeWxnuaApw0KICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIOWvueixoQ0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIOafpeivouadoeS7tg0KICAgKiBAcmV0dXJuIHtPYmplY3R9IOi/lOWbnuWIoOmZpOe7k+aenA0KICAgKi8KCiAgZnVuY3Rpb24gZGVsKG9iaiwgcXVlcnksIGl0ZW0pIHsKICAgIHZhciBvID0ge307CgogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIG8gPSBnZXQob2JqLCBxdWVyeSk7CiAgICB9IGVsc2UgewogICAgICBvID0gb2JqOwogICAgfQoKICAgIGlmICghaXRlbSkgewogICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbihvKTsKICAgIH0KCiAgICBpZiAoQXJyYXkuaXNBcnJheShvKSkgewogICAgICBvLmNsZWFyKCk7CiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHZhbCA9IGl0ZW1baV07CgogICAgICAgIGlmIChfdHlwZW9mKHZhbCkgPT09ICJvYmplY3QiKSB7CiAgICAgICAgICBkZWwobywgbnVsbCwgdmFsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGVsZXRlIG9bdmFsXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoX3R5cGVvZihpdGVtKSA9PT0gIm9iamVjdCIpIHsKICAgICAgZm9yICh2YXIgayBpbiBpdGVtKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob1trXSkpIHsKICAgICAgICAgIGRlbGV0ZSBvW2tdOwogICAgICAgIH0gZWxzZSBpZiAoX3R5cGVvZihvW2tdKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHZhciB0eXBlID0gX3R5cGVvZihpdGVtW2tdKTsKCiAgICAgICAgICBpZiAodHlwZSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgZGVsKG9ba10sIG51bGwsIGl0ZW1ba10pOwogICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAic3RyaW5nIiB8fCB0eXBlID09PSAibnVtYmVyIikgewogICAgICAgICAgICBkZWxldGUgb1trXVtpdGVtW2tdXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRlbGV0ZSBvW2tdOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkZWxldGUgb1trXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGRlbGV0ZSBvW2l0ZW1dOwogICAgfQoKICAgIGZvciAodmFyIGsgaW4gbykgewogICAgICBpZiAoT2JqZWN0LmtleXMob1trXSkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgZGVsZXRlIG9ba107CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbzsKICB9CgogIDsKICAkLmRlbCA9IGRlbDsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOS/ruaUueWvueixoeWxnuaApw0KICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIOWvueixoQ0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSDov5Tlm57kv67mlLnnmoTlsYDpg6jlr7nosaENCiAgICovCgogIGZ1bmN0aW9uIHNldChvYmosIHF1ZXJ5LCB2YWx1ZSkgewogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIHZhciBvaiA9IGdldChvYmosIHF1ZXJ5KTsKCiAgICAgIGlmIChvaikgewogICAgICAgICQucHVzaChvaiwgdmFsdWUpOwogICAgICB9CgogICAgICByZXR1cm4gb2o7CiAgICB9IGVsc2UgewogICAgICAkLnB1c2gob2JqLCB2YWx1ZSk7CiAgICAgIHJldHVybiBvYmo7CiAgICB9CiAgfQoKICA7CiAgJC5zZXQgPSBzZXQ7CgogIGZ1bmN0aW9uIGFyclRvT2JqKGFycikgewogICAgdmFyIG9iaiA9IHt9OwogICAgdmFyIHJldCA9IG9iajsKICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgdmFyIGsgPSBhcnJbaV07CgogICAgICBpZiAoX3R5cGVvZihrKSA9PSAib2JqZWN0IikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGspKSB7CiAgICAgICAgICAkLnB1c2gob2JqLCBhcnJUb09iaihrKSwgdHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICQucHVzaChvYmosIGssIHRydWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICghb2JqW2tdKSB7CiAgICAgICAgaWYgKGxlbiAtIGkgPiAxKSB7CiAgICAgICAgICBvYmpba10gPSB7fTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb2JqW2tdID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIG9iaiA9IG9ialtrXTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiByZXQ7CiAgfQogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5p+l6K+i5a+56LGh5bGe5oCnDQogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmog5a+56LGhDQogICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeQ0KICAgKiBAcmV0dXJuIHtPYmplY3R9IOi/lOWbnuafpeivoue7k+aenA0KICAgKi8KCgogIGZ1bmN0aW9uIGdldChvYmosIHF1ZXJ5KSB7CiAgICB2YXIgcmV0OwoKICAgIGlmIChfdHlwZW9mKG9iaikgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9iaikpIHsKICAgICAgLy8g5Y+q5pyJ6Z2e5pWw57uE55qE5a+56LGh5omN6L+b6KGM5pON5L2cCiAgICAgIGlmIChBcnJheS5pc0FycmF5KHF1ZXJ5KSkgewogICAgICAgIHZhciByZXQgPSBvYmo7IC8vIOWmguaenOaYr+aVsOWtl+WImeW+queOr+aVsOe7hAoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXJ5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgbyA9IHF1ZXJ5W2ldOwoKICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG8pKSB7CiAgICAgICAgICAgIHJldCA9IGdldChyZXQsIG8pOwogICAgICAgICAgfSBlbHNlIGlmIChfdHlwZW9mKG8pID09PSAnb2JqZWN0JykgewogICAgICAgICAgICB2YXIgb2ogPSB7fTsKCiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gbykgewogICAgICAgICAgICAgIGlmIChvW2tdKSB7CiAgICAgICAgICAgICAgICBvaltrXSA9IGdldChyZXRba10sIG9ba10pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBvaltrXSA9IHJldFtrXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldCA9IG9qOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0ID0gcmV0W29dOwoKICAgICAgICAgICAgaWYgKF90eXBlb2YocmV0KSAhPT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChfdHlwZW9mKHF1ZXJ5KSA9PT0gJ29iamVjdCcpIHsKICAgICAgICB2YXIgcmV0ID0ge307IC8vIOWmguaenOaYr+WvueixoeWImemBjeWOhuWvueixoQoKICAgICAgICBmb3IgKHZhciBrIGluIHF1ZXJ5KSB7CiAgICAgICAgICByZXRba10gPSBnZXQob2JqW2tdLCBxdWVyeVtrXSk7CiAgICAgICAgfQoKICAgICAgICByZXQgPSByZXQ7CiAgICAgIH0gZWxzZSBpZiAocXVlcnkpIHsKICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09ICJzdHJpbmciIHx8IHR5cGVvZiBxdWVyeSA9PSAibnVtYmVyIikgewogICAgICAgICAgcmV0ID0ge307CiAgICAgICAgICByZXRbcXVlcnldID0gb2JqW3F1ZXJ5XTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0ID0gb2JqOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlpoLmnpxxdWVyeeS4uuepuuWImei/lOWbnuaVtOS4quWvueixoQogICAgICAgIHJldCA9IG51bGw7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIOWQpuWImeebtOaOpei/lOWbnuWAvAogICAgICByZXQgPSBvYmo7CiAgICB9CgogICAgcmV0dXJuIHJldDsKICB9CgogIDsKICAkLmdldCA9IGdldDsKICAvKioNCiAgICog6YGN5Y6G6K+75YaZ5a+56LGhDQogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmoNCiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSDplK4g5aSa57qn5a+56LGh55SoLuWIhumalA0KICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUg5YC877yM5aaC5p6c5LiN5Lyg5Li65p+l6K+i77yM5Lyg5Li65L+u5pS5DQogICAqLwoKICBmdW5jdGlvbiBvYmpfZm9yKG9iaiwga2V5LCB2YWx1ZSkgewogICAgaWYgKCFrZXkpIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICB2YXIga2V5cyA9IGtleS5zcGxpdCgnLicpOwogICAgdmFyIGxlbiA9IGtleXMubGVuZ3RoOwoKICAgIGlmIChsZW4gPT0gMCkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIHZhciBrID0ga2V5c1swXTsKICAgIHZhciBvID0gb2JqW2tdOwoKICAgIGlmIChsZW4gPT0gMSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIG9ialtrXSA9IHZhbHVlOwogICAgICBvID0gdmFsdWU7CiAgICB9IGVsc2UgaWYgKF90eXBlb2YobykgPT0gJ29iamVjdCcpIHsKICAgICAgaWYgKGxlbiA+IDEpIHsKICAgICAgICByZXR1cm4gb2JqX2ZvcihvLCBrZXlzLnNwbGljZSgxLCBsZW4pLmpvaW4oJy4nKSwgdmFsdWUpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGxlbiA+IDEpIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gbzsKICB9CgogICQub2JqID0gb2JqX2ZvcjsKfSkoKTsKLyoqDQogKiDot6jnq5nmoKHpqowNCiAqLwoKCmZ1bmN0aW9uIGlmYW1lX2NoZWNrKCkgewogIHZhciBkb21haW4gPSBkb2N1bWVudC5kb21haW47CgogIHZhciBfc2VsZiA9IE9iamVjdC5hc3NpZ24oe30sIHdpbmRvdy5zZWxmLmxvY2F0aW9uKTsKCiAgdHJ5IHsKICAgIHZhciBob3N0ID0gd2luZG93LnRvcC5sb2NhdGlvbi5ob3N0OwogIH0gY2F0Y2ggKGUpIHsKICAgIGNvbnNvbGUubG9nKCfot6jln5/ltYzlpZdpZmFtZScpOwogICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiLzQwNC5odG1sIjsKICB9Cn0KCmlmYW1lX2NoZWNrKCk7"},{"version":3,"sources":["D:/WorkSpace/localCode/CS211180/client_admin/src/plugins/jquery_expand.js"],"names":["sleep","milliSeconds","obj","key","endTime","Date","getTime","func","as","query","all","bl","type","constructor","Array","lh","length","i","Object","getOwnPropertyNames","k","speeds","times","t1","valueOf","t2","s","console","log","push","objA","objB","value","undefined","p","n","Number","NaN","Boolean","toString","clear","addList","val","name","toJson","format","JSON","stringify","toUrl","url","queryStr","encodeURI","endWith","replace","indexOf","copy","has","newObj","attr","o","keys","file","text","delete_prop","includeZero","assign","v","funcs","pool","task","api","scope","dict","session_id","user_id","token","lang","now","chinese","english","$","window","hexcase","b64pad","chrsz","md5_vm_test","hex_md5","core_md5","x","len","a","b","c","d","olda","oldb","oldc","oldd","md5_ff","md5_gg","md5_hh","md5_ii","safe_add","md5_cmn","q","t","bit_rol","core_hmac_md5","data","bkey","str2binl","ipad","opad","hash","concat","y","lsw","msw","num","cnt","str","bin","mask","charCodeAt","binl2str","String","fromCharCode","binl2hex","binarray","hex_tab","charAt","binl2b64","tab","triplet","j","b64_md5","str_md5","hex_hmac_md5","b64_hmac_md5","str_hmac_md5","md5","Timer","list","core","prototype","run","start","_this","setInterval","end","clearInterval","add","del","timer","http","get","fun","headers","json","hp","async","success","status","error","complete","XHR","TS","ajax","post","param","contentType","pm","dataType","upload","form","FormData","append","processData","cookies","domain","_domain","set","minutes","time","setTime","document","cookie","encodeURIComponent","toGMTString","arr","split","ar","decodeURIComponent","formData","xhrFields","withCredentials","html","tag","prop","getElementsByTagName","getAttribute","cache","sessionStorage","setItem","getItem","removeItem","db","longTime","expires","localStorage","parse","e","ws","CreateWebSocket","WebSocket","MozWebSocket","connect","try_connect","onmessage","event","message","onclose","reconnect","onerror","noticy","onopen","arr_message","readyState","send","try_times","try_max_times","setTimeout","seconds","WS","receive","content","u","open","close","bodyStr","socket","route","redirect_url","history","end_url","title","pushState","os","navigator","userAgent","version","appVersion","isApp","device","mobile","test","ios","android","iPhone","iPad","pc","app","wechat","weibo","qq","browser","trident","presto","webKit","gecko","safari","oj","item","isArray","arrToObj","ret","obj_for","splice","join","ifame_check","_self","self","location","host","top","href"],"mappings":"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","sourcesContent":["/**\r\n * @fileOverview JavaScript拓展函数\r\n * @author xxx\r\n * @version 1.2\r\n */\r\n\r\n/* == 基础函数 == */\r\n/**\r\n * @description 延迟执行（休眠）\r\n * @param {Number} milliSeconds 毫秒\r\n * @param {Object} obj 判断对象或函数\r\n * @param {String} key 判断的对象属性, 为存在的情况下提成退出循环\r\n * @example var obj = {ok: false}; sleep(2000, obj, 'ok');\r\n * @example sleep(2000);\r\n */\r\nfunction sleep(milliSeconds, obj, key) {\r\n  var endTime = new Date().getTime() + milliSeconds;\r\n  if (obj) {\r\n    if (key) {\r\n      while (new Date().getTime() < endTime) {\r\n        if (obj[key]) {\r\n          continue;\r\n        }\r\n      }\r\n    } else {\r\n      var func = obj;\r\n      while (new Date().getTime() < endTime) {\r\n        if (!func()) {\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    while (new Date().getTime() < endTime) {}\r\n  }\r\n}\r\n\r\n/**\r\n * @description 判断对象是否相似\r\n * @param {Object} obj 被判断对象\r\n * @param {Object} query 用作判断的对象\r\n * @param {Boolean} all 是否完全相同\r\n * @return {Boolean} 相似返回true，否则返回false\r\n */\r\nfunction as(obj, query, all) {\r\n  if (obj) {\r\n    var bl = true;\r\n    var type = typeof(obj);\r\n    if (type !== typeof(query)) {\r\n      // 如果类型不一致 则两个无相似\r\n      bl = false;\r\n    } else if (type === 'string' || type === 'bool' || type === 'number') {\r\n      bl = obj === query;\r\n    } else if (obj.constructor == Array) {\r\n      // 如果都是数组\r\n      var lh = obj.length;\r\n      if (all && lh !== query.length) {\r\n        // 要求完全一致 而长度不一致 说明不相似\r\n        bl = false;\r\n      } else {\r\n        // 否则判断数组里的每个成员是否相似\r\n        for (var i = 0; i < lh; i++) {\r\n          if (!as(obj[i], query[i])) {\r\n            bl = false;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      // 如果类型为对象\r\n      if (all && Object.getOwnPropertyNames(obj).length !== Object.getOwnPropertyNames(query).length) {\r\n        // 如果要求完全一致, 而属性长度不一致，则不相似\r\n        bl = false;\r\n      } else {\r\n        // 否则都为对象则判断其值是否一致\r\n        for (var k in query) {\r\n          if (!as(obj[k], query[k], all)) {\r\n            bl = false;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return bl;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * @description 测试函数执行速度\r\n * @param {Function()} func 测试的函数\r\n * @param {Number} times = [value] 测试次数\r\n */\r\nfunction speeds(func, times) {\r\n  if (!times) {\r\n    times = 1000000;\r\n  }\r\n  var t1 = (new Date()).valueOf();\r\n  for (var i = 0; i < times; i++) {\r\n    func();\r\n  }\r\n  var t2 = (new Date()).valueOf();\r\n  var s = t2 - t1;\r\n  console.log('耗时' + s + '毫秒, 平均' + (s / times) + 'ms/次');\r\n}\r\n\r\n\r\n/**\r\n * @description 添加对象属性\r\n * @param {Object} objA 被添加的对象\r\n * @param {Object} objB 用作添加的对象\r\n * @param {Boolean} bl 是否补充没有的对象\r\n * @return {Object} 新对象\r\n */\r\nfunction push(objA, objB, bl) {\r\n  if (!objA || !objB) {\r\n    return;\r\n  }\r\n  if (bl) {\r\n    for (var k in objB) {\r\n      var value = objB[k];\r\n      if (objA[k] === undefined || objA[k] === null || value === null) {\r\n        objA[k] = value;\r\n      } else {\r\n        var type = typeof(objA[k]);\r\n        var p = typeof(value);\r\n        if (type !== p) {\r\n          if (type === \"number\") {\r\n            var n = Number(value);\r\n            if (n === NaN) {\r\n              n = 0;\r\n            }\r\n            objA[k] = n;\r\n          } else if (type === \"boolean\") {\r\n            if (value === '0' || value === 'false' || value === 'False') {\r\n              objA[k] = false;\r\n            } else {\r\n              objA[k] = Boolean(value);\r\n            }\r\n          } else if (type === \"string\") {\r\n            objA[k] = value.toString();\r\n          } else {\r\n            objA[k] = value;\r\n          }\r\n        } else if (type === \"object\") {\r\n          if (objA[k].constructor == Array && value.constructor == Array) {\r\n            objA[k].clear();\r\n            objA[k].addList(value);\r\n          } else {\r\n            push(objA[k], value, bl);\r\n          }\r\n        } else {\r\n          objA[k] = value;\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    for (var k in objA) {\r\n      var value = objB[k];\r\n      if (value !== undefined && objA[k] !== null && value !== null) {\r\n        var type = typeof(objA[k]);\r\n        var p = typeof(value);\r\n        if (type !== p) {\r\n          if (type === \"number\") {\r\n            var n = Number(value);\r\n            if (n === NaN) {\r\n              n = 0;\r\n            }\r\n            objA[k] = n;\r\n          } else if (type === \"boolean\") {\r\n            if (value === '0' || value === 'false' || value === 'False') {\r\n              objA[k] = false;\r\n            } else {\r\n              objA[k] = Boolean(value);\r\n            }\r\n          } else if (type === \"string\") {\r\n            objA[k] = value.toString();\r\n          } else {\r\n            objA[k] = value;\r\n          }\r\n        } else if (type === \"object\") {\r\n          if (objA[k].constructor == Array && value.constructor == Array) {\r\n            objA[k].clear();\r\n            objA[k].addList(value);\r\n          } else {\r\n            push(objA[k], value, bl);\r\n          }\r\n        } else {\r\n          objA[k] = value;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return objA;\r\n}\r\n\r\n/**\r\n * @description 清空对象值\r\n * @param {Object} obj 对象\r\n * @return {Object} 返回对象自身\r\n */\r\nfunction clear(obj) {\r\n  if (obj) {\r\n    for (var k in obj) {\r\n      var val = obj[k];\r\n      if (val) {\r\n        var name = typeof val === 'undefined' ? 'undefined' : typeof(val);\r\n        switch (name) {\r\n          case \"string\":\r\n            obj[k] = \"\";\r\n            break;\r\n          case \"number\":\r\n            obj[k] = 0;\r\n            break;\r\n          case \"array\":\r\n            obj[k].clear();\r\n            break;\r\n          case \"object\":\r\n            clear(obj[k]);\r\n            break;\r\n          case \"function\":\r\n            break;\r\n          case \"symbol\":\r\n            obj[k] = \"\";\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * @description 转为json字符串\r\n * @param {Object} obj 被转换的对象\r\n * @param {Boolean} format 是否格式化\r\n * @return {String} json格式字符串\r\n */\r\nfunction toJson(obj, format) {\r\n  if (format) {\r\n    return JSON.stringify(obj, null, 4);\r\n  } else {\r\n    return JSON.stringify(obj);\r\n  }\r\n}\r\n\r\n/**\r\n * @description 转url字符串\r\n * @param {Object} obj 被转换的对象\r\n * @param {String} url 请求地址\r\n * @return {String} url参数格式字符串\r\n */\r\nfunction toUrl(obj, url) {\r\n  var queryStr = \"\";\r\n  for (var key in obj) {\r\n    var value = obj[key];\r\n    if (typeof(value) === 'number') {\r\n      if (value > 0) {\r\n        queryStr += \"&\" + key + \"=\" + obj[key];\r\n      }\r\n    } else if (value) {\r\n      queryStr += \"&\" + key + \"=\" + encodeURI(value);\r\n    }\r\n  }\r\n  if (url) {\r\n    if (url.endWith('?') || url.endWith('&')) {\r\n      return url + queryStr.replace('&', '');\r\n    } else if (url.indexOf('?') === -1) {\r\n      return url + queryStr.replace('&', '?');\r\n    } else {\r\n      return url + queryStr;\r\n    }\r\n  } else {\r\n    return queryStr.replace('&', '');\r\n  }\r\n};\r\n\r\n/**\r\n * @description 拷贝对象\r\n * @param {Object} obj 被拷贝的对象\r\n * @param {Boolean} has 是否非空拷贝，如果含有数据才拷贝，不含数据不拷贝\r\n * @return {Object} 新对象\r\n */\r\nfunction copy(obj, has) {\r\n  var newObj = {};\r\n  if (has) {\r\n    for (var attr in obj) {\r\n      var o = obj[attr];\r\n      if (o) {\r\n        newObj[attr] = o;\r\n      }\r\n    }\r\n  } else {\r\n    for (var attr in obj) {\r\n      newObj[attr] = obj[attr];\r\n    }\r\n  }\r\n  return newObj;\r\n};\r\n\r\n/**\r\n * @description 查看所有属性\r\n * @param {Object} obj 查看的对象\r\n * @param {String} file 保存位置\r\n */\r\nfunction keys(obj, file) {\r\n  var text = \"\";\r\n  for (var k in obj) {\r\n    text += k + '\\r\\n'\r\n  }\r\n  console.log(text);\r\n}\r\n\r\n/**\r\n * @description 删除对象空属性\r\n * @param {Object} obj 对象\r\n * @param {Object} includeZero 是否包括0\r\n * @return {Object} 返回新对象\r\n */\r\nfunction delete_prop(obj, includeZero) {\r\n  var o = Object.assign({}, obj);\r\n  if (includeZero) {\r\n    for (var k in o) {\r\n      var v = o[k];\r\n      if (!v) {\r\n        delete o[k];\r\n      }\r\n    }\r\n  } else {\r\n    for (var k in o) {\r\n      var v = o[k];\r\n      if (v === '' || v === null || v === undefined) {\r\n        delete o[k];\r\n      }\r\n    }\r\n  }\r\n  return o;\r\n}\r\n\r\n\r\n\r\n/**\r\n * @namespace\r\n * @property {Object} pool 数据连接池, 用于存储有关数据库的操作类\r\n * @property {Object} task 任务池, 用于存储定时任务操作类\r\n * @property {Object} api API接口，用于存储有关接口的操作类\r\n * @property {Object} val 全局变量，用于存储全局的配置\r\n * @property {Object} dict 字典，用于查询变量替换名\r\n * @property {Object} lang 语言包, 用于全局的语言替换\r\n * @property {String} sleep 延迟(休眠)\r\n * @property {Function()} speed 测试执行速度函数\r\n * @property {Function(Object, Object, Boolean):Boolean} as 判断对象是否相似\r\n * @property {Function(Object, Object):Boolean} push 为对象添加属性\r\n * @property {Function(Object):String} toJson 对象转json字符串\r\n * @property {Function(Object):String} toUrl 对象转url字符串\r\n * @property {Function(Object):Object} copy 复制一个新对象\r\n * @property {Function(Object):String} keys 查询获取对象属性键\r\n */\r\nvar funcs = {\r\n  // 数据连接池, 用于存储有关数据库的操作类\r\n  pool: {},\r\n  // 任务池, 用于存储定时任务操作类\r\n  task: {},\r\n  // API接口，用于存储有关接口的操作类\r\n  api: {},\r\n  // 全局变量，用于存储全局的配置\r\n  val: {\r\n    // 默认作用域, sys表示系统\r\n    scope: \"sys\"\r\n  },\r\n  /**\r\n   * @description 字典，用于查询变量替换名\r\n   * @property {String} session_id session的ID\r\n   * @property {String} user_id 用户的ID，用于数据库时查询用户唯一标识\r\n   */\r\n  dict: {\r\n    session_id: \"mm:uuid\",\r\n    user_id: \"user_id\",\r\n    token: \"x-auth-token\"\r\n  },\r\n  /**\r\n   * @description 语言包, 用于全局的语言替换\r\n   * @property {String} now = [chinese|english] 当前语言\r\n   * @property {Object} chinese 中文语言包\r\n   * @property {Object} english 英文语言包\r\n   */\r\n  lang: {\r\n    now: \"chinese\",\r\n    chinese: {},\r\n    english: {}\r\n  },\r\n  // 延迟\r\n  sleep: sleep,\r\n  // 测试执行速度函数\r\n  speeds: speeds,\r\n  // 判断对象是否相似\r\n  as: as,\r\n  // 添加对象\r\n  push: push,\r\n  // 清空对象值\r\n  clear: clear,\r\n  // 对象转json字符串\r\n  toJson: toJson,\r\n  // 对象转url字符串\r\n  toUrl: toUrl,\r\n  // 复制一个新对象\r\n  copy: copy,\r\n  // 查询获取对象属性键\r\n  keys: keys,\r\n  // 删除对象属性\r\n  delete: delete_prop\r\n};\r\nif (typeof($) === \"undefined\") {\r\n  window.$ = funcs\r\n} else {\r\n  push($, funcs, true);\r\n}\r\n\r\n\r\n/* MD5加密类 */\r\n(function() {\r\n\t/* md5加密（开始） */\r\n\tvar hexcase = 0;\r\n\t/* hex output format. 0 - lowercase; 1 - uppercase  */\r\n\tvar b64pad = \"\";\r\n\t/* base-64 pad character. \"=\" for strict RFC compliance */\r\n\tvar chrsz = 8;\r\n\t/* bits per input character. 8 - ASCII; 16 - Unicode  */\r\n\r\n\t/*\r\n\t * Perform a simple self-test to see if the VM is working\r\n\t */\r\n\tfunction md5_vm_test() {\r\n\t\treturn hex_md5(\"abc\") == \"900150983cd24fb0d6963f7d28e17f72\";\r\n\t}\r\n\t/*\r\n\t * Calculate the MD5 of an array of little-endian words, and a bit length\r\n\t */\r\n\tfunction core_md5(x, len) {\r\n\t\t/* append padding */\r\n\t\tx[len >> 5] |= 0x80 << len % 32;\r\n\t\tx[(len + 64 >>> 9 << 4) + 14] = len;\r\n\t\tvar a = 1732584193;\r\n\t\tvar b = -271733879;\r\n\t\tvar c = -1732584194;\r\n\t\tvar d = 271733878;\r\n\t\tfor (var i = 0; i < x.length; i += 16) {\r\n\t\t\tvar olda = a;\r\n\t\t\tvar oldb = b;\r\n\t\t\tvar oldc = c;\r\n\t\t\tvar oldd = d;\r\n\t\t\ta = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);\r\n\t\t\td = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);\r\n\t\t\tc = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);\r\n\t\t\tb = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);\r\n\t\t\ta = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);\r\n\t\t\td = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);\r\n\t\t\tc = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);\r\n\t\t\tb = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);\r\n\t\t\ta = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);\r\n\t\t\td = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);\r\n\t\t\tc = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\r\n\t\t\tb = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\r\n\t\t\ta = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);\r\n\t\t\td = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\r\n\t\t\tc = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\r\n\t\t\tb = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);\r\n\t\t\ta = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);\r\n\t\t\td = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);\r\n\t\t\tc = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);\r\n\t\t\tb = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);\r\n\t\t\ta = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);\r\n\t\t\td = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);\r\n\t\t\tc = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\r\n\t\t\tb = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);\r\n\t\t\ta = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);\r\n\t\t\td = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);\r\n\t\t\tc = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);\r\n\t\t\tb = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);\r\n\t\t\ta = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);\r\n\t\t\td = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);\r\n\t\t\tc = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);\r\n\t\t\tb = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\r\n\t\t\ta = md5_hh(a, b, c, d, x[i + 5], 4, -378558);\r\n\t\t\td = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);\r\n\t\t\tc = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);\r\n\t\t\tb = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\r\n\t\t\ta = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);\r\n\t\t\td = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);\r\n\t\t\tc = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);\r\n\t\t\tb = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\r\n\t\t\ta = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);\r\n\t\t\td = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);\r\n\t\t\tc = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);\r\n\t\t\tb = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);\r\n\t\t\ta = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);\r\n\t\t\td = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\r\n\t\t\tc = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);\r\n\t\t\tb = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);\r\n\t\t\ta = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);\r\n\t\t\td = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);\r\n\t\t\tc = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\r\n\t\t\tb = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);\r\n\t\t\ta = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);\r\n\t\t\td = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);\r\n\t\t\tc = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\r\n\t\t\tb = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);\r\n\t\t\ta = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);\r\n\t\t\td = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\r\n\t\t\tc = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);\r\n\t\t\tb = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);\r\n\t\t\ta = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);\r\n\t\t\td = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\r\n\t\t\tc = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);\r\n\t\t\tb = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);\r\n\t\t\ta = safe_add(a, olda);\r\n\t\t\tb = safe_add(b, oldb);\r\n\t\t\tc = safe_add(c, oldc);\r\n\t\t\td = safe_add(d, oldd);\r\n\t\t}\r\n\t\treturn Array(a, b, c, d);\r\n\t}\r\n\t/*\r\n\t * These functions implement the four basic operations the algorithm uses.\r\n\t */\r\n\tfunction md5_cmn(q, a, b, x, s, t) {\r\n\t\treturn safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);\r\n\t}\r\n\r\n\tfunction md5_ff(a, b, c, d, x, s, t) {\r\n\t\treturn md5_cmn(b & c | ~b & d, a, b, x, s, t);\r\n\t}\r\n\r\n\tfunction md5_gg(a, b, c, d, x, s, t) {\r\n\t\treturn md5_cmn(b & d | c & ~d, a, b, x, s, t);\r\n\t}\r\n\r\n\tfunction md5_hh(a, b, c, d, x, s, t) {\r\n\t\treturn md5_cmn(b ^ c ^ d, a, b, x, s, t);\r\n\t}\r\n\r\n\tfunction md5_ii(a, b, c, d, x, s, t) {\r\n\t\treturn md5_cmn(c ^ (b | ~d), a, b, x, s, t);\r\n\t}\r\n\t/*\r\n\t * Calculate the HMAC-MD5, of a key and some data\r\n\t */\r\n\tfunction core_hmac_md5(key, data) {\r\n\t\tvar bkey = str2binl(key);\r\n\t\tif (bkey.length > 16) bkey = core_md5(bkey, key.length * chrsz);\r\n\t\tvar ipad = Array(16),\r\n\t\t\topad = Array(16);\r\n\t\tfor (var i = 0; i < 16; i++) {\r\n\t\t\tipad[i] = bkey[i] ^ 0x36363636;\r\n\t\t\topad[i] = bkey[i] ^ 0x5C5C5C5C;\r\n\t\t}\r\n\t\tvar hash = core_md5(ipad.concat(str2binl(data)), 512 + data.length * chrsz);\r\n\t\treturn core_md5(opad.concat(hash), 512 + 128);\r\n\t}\r\n\t/*\r\n\t * Add integers, wrapping at 2^32. This uses 16-bit operations internally\r\n\t * to work around bugs in some JS interpreters.\r\n\t */\r\n\tfunction safe_add(x, y) {\r\n\t\tvar lsw = (x & 0xFFFF) + (y & 0xFFFF);\r\n\t\tvar msw = (x >> 16) + (y >> 16) + (lsw >> 16);\r\n\t\treturn msw << 16 | lsw & 0xFFFF;\r\n\t}\r\n\t/*\r\n\t * Bitwise rotate a 32-bit number to the left.\r\n\t */\r\n\tfunction bit_rol(num, cnt) {\r\n\t\treturn num << cnt | num >>> 32 - cnt;\r\n\t}\r\n\t/*\r\n\t * Convert a string to an array of little-endian words\r\n\t * If chrsz is ASCII, characters >255 have their hi-byte silently ignored.\r\n\t */\r\n\tfunction str2binl(str) {\r\n\t\tvar bin = Array();\r\n\t\tvar mask = (1 << chrsz) - 1;\r\n\t\tfor (var i = 0; i < str.length * chrsz; i += chrsz) {\r\n\t\t\tbin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << i % 32;\r\n\t\t}\r\n\t\treturn bin;\r\n\t}\r\n\t/*\r\n\t * Convert an array of little-endian words to a string\r\n\t */\r\n\tfunction binl2str(bin) {\r\n\t\tvar str = \"\";\r\n\t\tvar mask = (1 << chrsz) - 1;\r\n\t\tfor (var i = 0; i < bin.length * 32; i += chrsz) {\r\n\t\t\tstr += String.fromCharCode(bin[i >> 5] >>> i % 32 & mask);\r\n\t\t}\r\n\t\treturn str;\r\n\t}\r\n\t/*\r\n\t * Convert an array of little-endian words to a hex string.\r\n\t */\r\n\tfunction binl2hex(binarray) {\r\n\t\tvar hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\r\n\t\tvar str = \"\";\r\n\t\tfor (var i = 0; i < binarray.length * 4; i++) {\r\n\t\t\tstr += hex_tab.charAt(binarray[i >> 2] >> i % 4 * 8 + 4 & 0xF) + hex_tab.charAt(binarray[i >> 2] >> i % 4 * 8 & 0xF);\r\n\t\t}\r\n\t\treturn str;\r\n\t}\r\n\t/*\r\n\t * Convert an array of little-endian words to a base-64 string\r\n\t */\r\n\tfunction binl2b64(binarray) {\r\n\t\tvar tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n\t\tvar str = \"\";\r\n\t\tfor (var i = 0; i < binarray.length * 4; i += 3) {\r\n\t\t\tvar triplet = (binarray[i >> 2] >> 8 * (i % 4) & 0xFF) << 16 | (binarray[i + 1 >> 2] >> 8 * ((i + 1) % 4) & 0xFF) <<\r\n\t\t\t\t8 | binarray[i + 2 >> 2] >> 8 * ((i + 2) % 4) & 0xFF;\r\n\t\t\tfor (var j = 0; j < 4; j++) {\r\n\t\t\t\tif (i * 8 + j * 6 > binarray.length * 32) str += b64pad;\r\n\t\t\t\telse str += tab.charAt(triplet >> 6 * (3 - j) & 0x3F);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str;\r\n\t}\r\n\r\n\t$.hex_md5 = function hex_md5(s) {\r\n\t\treturn binl2hex(core_md5(str2binl(s), s.length * chrsz));\r\n\t};\r\n\t$.b64_md5 = function b64_md5(s) {\r\n\t\treturn binl2b64(core_md5(str2binl(s), s.length * chrsz));\r\n\t};\r\n\t$.str_md5 = function str_md5(s) {\r\n\t\treturn binl2str(core_md5(str2binl(s), s.length * chrsz));\r\n\t};\r\n\t$.hex_hmac_md5 = function hex_hmac_md5(key, data) {\r\n\t\treturn binl2hex(core_hmac_md5(key, data));\r\n\t};\r\n\t$.b64_hmac_md5 = function b64_hmac_md5(key, data) {\r\n\t\treturn binl2b64(core_hmac_md5(key, data));\r\n\t};\r\n\t$.str_hmac_md5 = function str_hmac_md5(key, data) {\r\n\t\treturn binl2str(core_hmac_md5(key, data));\r\n\t};\r\n\r\n\t$.md5 = $.hex_md5;\r\n})();\r\n\r\n\r\n/**\r\n * 定时任务管理器\r\n */\r\n(function() {\r\n\tfunction Timer() {\r\n\t\t/**\r\n\t\t * @description 回调对象集合\r\n\t\t * @example\r\n\t\t * [{\r\n\t\t\t // 名称\r\n\t\t\t name: \"\",\r\n\t\t\t // 执行函数\r\n\t\t\t async run(){}\r\n\t\t\t}]\r\n\t\t */\r\n\t\tvar list = [];\r\n\r\n\t\t// 定时器核心\r\n\t\tthis.core;\r\n\r\n\t\t/**\r\n\t\t * @description 执行\r\n\t\t */\r\n\t\tTimer.prototype.run = function() {\r\n\t\t\tvar len = list.length;\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\tvar run = list[i].run;\r\n\t\t\t\tif (run) {\r\n\t\t\t\t\trun();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * @description 启动\r\n\t\t */\r\n\t\tTimer.prototype.start = function() {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (!this.core) {\r\n\t\t\t\tthis.core = setInterval(this.run, 1000);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * @description 结束\r\n\t\t */\r\n\t\tTimer.prototype.end = function() {\r\n\t\t\tclearInterval(this.core);\r\n\t\t\tthis.core = undefined;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * @description 添加定时执行任务\r\n\t\t */\r\n\t\tTimer.prototype.add = function(obj) {\r\n\t\t\tif (typeof(obj) === \"object\") {\r\n\t\t\t\tif (obj.name && obj.run && typeof(obj.run) === 'function') {\r\n\t\t\t\t\tlist.push(obj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\t/**\r\n\t\t * @description 删除定时执行任务\r\n\t\t */\r\n\t\tTimer.prototype.del = function(name) {\r\n\t\t\tif (typeof(obj) === \"object\") {\r\n\t\t\t\tlist.del({\r\n\t\t\t\t\tname: name\r\n\t\t\t\t}, true);\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\t$.timer = new Timer();\r\n})();\r\n\r\n(function() {\r\n\t/* == 网络请求 == */\r\n\t$.http = {\r\n\t\t/**\r\n\t\t * @description GET请求——json\r\n\t\t * @param {String} url 请求地址\r\n\t\t * @param {Function} fun 回调函数\r\n\t\t * @param {Object} headers 协议头\r\n\t\t * @return {Object} 同步请求返回请求结果，否则返回undefined\r\n\t\t */\r\n\t\tget: function get(url, fun, headers) {\r\n\t\t\tvar json;\r\n\t\t\tvar hp = {\r\n\t\t\t\ttype: 'GET',\r\n\t\t\t\turl: url,\r\n\t\t\t\tasync: fun !== null,\r\n\t\t\t\t// xhrFields: {\r\n\t\t\t\t// \twithCredentials: true\r\n\t\t\t\t// },\r\n\t\t\t\t// crossDomain: true,\r\n\t\t\t\tsuccess: function success(data, status) {\r\n\t\t\t\t\tif (fun) {\r\n\t\t\t\t\t\tfun(data, status);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjson = {\r\n\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\tstatus: status\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function error(data, status) {\r\n\t\t\t\t\tif (fun) {\r\n\t\t\t\t\t\tfun(data, status);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjson = {\r\n\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\tstatus: status\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function complete(XHR, TS) {\r\n\t\t\t\t\tXHR = null;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tif (headers) {\r\n\t\t\t\thp.headers = headers;\r\n\t\t\t}\r\n\t\t\t$.ajax(hp);\r\n\t\t\treturn json;\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description POST请求\r\n\t\t * @param {String} url 请求地址\r\n\t\t * @param {Object} param 请求参数\r\n\t\t * @param {Function} fun 回调函数\r\n\t\t * @param {Object} headers 协议头\r\n\t\t * @param {String} type 内容类型\r\n\t\t * @return {Object} 同步请求返回请求结果，否则返回undefined\r\n\t\t */\r\n\t\tpost: function post(url, param, fun, headers, type) {\r\n\t\t\tvar contentType;\r\n\t\t\tvar pm;\r\n\t\t\tif (type === 'xml') {\r\n\t\t\t\tcontentType = \"text/xml; charset=utf-8\";\r\n\t\t\t\tpm = param;\r\n\t\t\t} else if (type === 'form') {\r\n\t\t\t\tcontentType = \"application/x-www-form-urlencoded; charset=utf-8\";\r\n\t\t\t\tpm = param;\r\n\t\t\t} else {\r\n\t\t\t\tcontentType = \"application/json; charset=utf-8\";\r\n\t\t\t\tpm = JSON.stringify(param);\r\n\t\t\t}\r\n\t\t\tvar json;\r\n\t\t\tvar hp = {\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\turl: url,\r\n\t\t\t\tasync: fun !== null,\r\n\t\t\t\t// xhrFields: {\r\n\t\t\t\t// \twithCredentials: true\r\n\t\t\t\t// },\r\n\t\t\t\t// crossDomain: true,\r\n\t\t\t\tdata: pm,\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tcontentType: contentType,\r\n\t\t\t\tsuccess: function success(data, status) {\r\n\t\t\t\t\tif (fun) {\r\n\t\t\t\t\t\tfun(data, status);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjson = {\r\n\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\tstatus: status\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function error(data, status) {\r\n\t\t\t\t\tif (fun) {\r\n\t\t\t\t\t\tfun(data, status);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjson = {\r\n\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\tstatus: status\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function complete(XHR, TS) {\r\n\t\t\t\t\tXHR = null;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tif (headers) {\r\n\t\t\t\thp.headers = headers;\r\n\t\t\t}\r\n\t\t\t$.ajax(hp);\r\n\t\t\treturn json;\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 上传文件\r\n\t\t * @param {String} url 请求地址\r\n\t\t * @param {Object} file input file文件\r\n\t\t * @param {Function} fun 回调函数\r\n\t\t * @param {Object} headers 协议头\r\n\t\t * @return {Object} 同步请求返回请求结果，否则返回undefined\r\n\t\t */\r\n\t\tupload: function upload(url, file, fun, headers) {\r\n\t\t\tvar form = new FormData();\r\n\t\t\tform.append(\"file\", file);\r\n\t\t\tvar json;\r\n\t\t\tvar hp = {\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\turl: url,\r\n\t\t\t\tasync: fun !== null,\r\n\t\t\t\tdata: form,\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tcontentType: false,\r\n\t\t\t\tprocessData: false,\r\n\t\t\t\tsuccess: function success(data, status) {\r\n\t\t\t\t\tif (fun) {\r\n\t\t\t\t\t\tfun(data, status);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjson = {\r\n\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\tstatus: status\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function error(data, status) {\r\n\t\t\t\t\tif (fun) {\r\n\t\t\t\t\t\tfun(data, status);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjson = {\r\n\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\tstatus: status\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function complete(XHR, TS) {\r\n\t\t\t\t\tXHR = null;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tif (headers) {\r\n\t\t\t\thp.headers = headers;\r\n\t\t\t}\r\n\t\t\t$.ajax(hp);\r\n\t\t\treturn json;\r\n\t\t}\r\n\t};\r\n\r\n\t/* 缓存 */\r\n\t$.cookies = {\r\n\t\t/**\r\n\t\t * @description 设置域\r\n\t\t * @param {String} url 地址\r\n\t\t */\r\n\t\tdomain: function domain(url) {\r\n\t\t\tif (url) {\r\n\t\t\t\t_domain = url;\r\n\t\t\t}\r\n\t\t\treturn \";path=/\";\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 设置缓存\r\n\t\t * @param {String} name 缓存对象\r\n\t\t * @param {Object} value 缓存值\r\n\t\t * @param {Number} minutes 缓存时长，单位: 分钟\r\n\t\t * @param {String} domain 作用域\r\n\t\t */\r\n\t\tset: function set(name, value, minutes, domain) {\r\n\t\t\tif (!domain) {\r\n\t\t\t\tdomain = $.cookies.domain();\r\n\t\t\t}\r\n\t\t\tvar time = new Date();\r\n\t\t\tif (minutes) {\r\n\t\t\t\ttime.setTime(time.getTime() + minutes * 60000);\r\n\t\t\t\tdocument.cookie = name + \"=\" + encodeURIComponent(value) + \";expires=\" + time.toGMTString();\r\n\t\t\t} else {\r\n\t\t\t\ttime.setTime(time.getTime() + 7 * 24 * 3600 * 60000);\r\n\t\t\t\tdocument.cookie = name + \"=\" + encodeURIComponent(value) + \";expires=\" + time.toGMTString();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 获取cookie\r\n\t\t * @param {String} name 名称\r\n\t\t */\r\n\t\tget: function get(name) {\r\n\t\t\tvar value = null;\r\n\t\t\tvar str = document.cookie;\r\n\t\t\tvar arr = str.split(\"; \");\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tvar ar = arr[i].split(\"=\");\r\n\t\t\t\tif (ar[0] == name) {\r\n\t\t\t\t\tvalue = decodeURIComponent(ar[1]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 删除cookie\r\n\t\t * @param {String} name 名称\r\n\t\t */\r\n\t\tdel: function del(name) {\r\n\t\t\tthis.set(name, \"\", -1);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @description 设置或查询cookie缓存\r\n\t * @param {String} key 缓存对象名\r\n\t * @param {Object} value 缓存值\r\n\t * @param {Number} minutes 缓存时长，单位: 分钟\r\n\t */\r\n\t$.cookie = function(key, value, minutes) {\r\n\t\tif (value != undefined) {\r\n\t\t\tif (!minutes) {\r\n\t\t\t\tif (value == null) {\r\n\t\t\t\t\tminutes = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tminutes = 120;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$.cookies.set(key, value, minutes);\r\n\t\t} else {\r\n\t\t\treturn $.cookies.get(key);\r\n\t\t}\r\n\t};\r\n\r\n\t/* === 多媒体 === */\r\n\t$.file = {\r\n\t\t/**\r\n\t\t * @description 上传文件\r\n\t\t * @param {String} url 提交网址\r\n\t\t * @param {Object} obj 对象\r\n\t\t * @param {Function} func 函数\r\n\t\t * @param {Object} headers 协议头\r\n\t\t */\r\n\t\tupload: function upload(url, obj, func, headers) {\r\n\t\t\tvar formData = new FormData();\r\n\t\t\tfor (var k in obj) {\r\n\t\t\t\tformData.append(k, obj[k]);\r\n\t\t\t}\r\n\t\t\tvar hp = {\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\turl: url,\r\n\t\t\t\tdata: formData,\r\n\t\t\t\tprocessData: false,\r\n\t\t\t\tcontentType: false,\r\n\t\t\t\tasync: func !== null,\r\n\t\t\t\txhrFields: {\r\n\t\t\t\t\twithCredentials: true\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function success(json, status) {\r\n\t\t\t\t\tif (func) {\r\n\t\t\t\t\t\tif (json) {\r\n\t\t\t\t\t\t\tjson[\"obj\"] = obj;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfunc(json, status);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function complete(XHR, TS) {\r\n\t\t\t\t\tXHR = null;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (headers) {\r\n\t\t\t\thp.headers = headers;\r\n\t\t\t}\r\n\t\t\t$.ajax(hp);\r\n\t\t}\r\n\t};\r\n})();\r\n\r\n\r\n/* 通讯 */\r\n(function() {\r\n\t$.html = {\r\n\t\ttag: function(tag, prop, value) {\r\n\t\t\tvar obj;\r\n\t\t\tvar list = document.getElementsByTagName(tag);\r\n\t\t\tvar len = list.length;\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\tvar o = list[i];\r\n\t\t\t\tif (o && o.getAttribute(prop) && o.getAttribute(prop).has(value)) {\r\n\t\t\t\t\tobj = o;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * 本地临时缓存,关闭浏览器后小时\r\n\t */\r\n\t$.cache = {\r\n\t\t/**\r\n\t\t * 设置值\r\n\t\t * @param {String} key 键\r\n\t\t * @param {Object} value 值\r\n\t\t */\r\n\t\tset: function(key, value) {\r\n\t\t\twindow.sessionStorage.setItem(key, value);\r\n\t\t},\r\n\t\t/**\r\n\t\t * 获取值\r\n\t\t * @param {String} key 键\r\n\t\t * @return {Object} 值\r\n\t\t */\r\n\t\tget: function(key) {\r\n\t\t\treturn window.sessionStorage.getItem(key);\r\n\t\t},\r\n\t\t/**\r\n\t\t * 删除值\r\n\t\t * @param {Object} key 键\r\n\t\t */\r\n\t\tdel: function(key) {\r\n\t\t\twindow.sessionStorage.removeItem(key);\r\n\t\t},\r\n\t\t/**\r\n\t\t * 清除所有缓存\r\n\t\t */\r\n\t\tclear: function() {\r\n\t\t\twindow.sessionStorage.clear();\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * 本地数据库存储\r\n\t */\r\n\t$.db = {\r\n\t\t/**\r\n\t\t * 设置值\r\n\t\t * @param {String} key 键\r\n\t\t * @param {Object} value 值\r\n\t\t * @param {Number} longTime 保存时长（单位:分钟）\r\n\t\t */\r\n\t\tset: function(key, value, longTime) {\r\n\t\t\tvar expires = null;\r\n\t\t\tif (longTime) {\r\n\t\t\t\tvar time = Date.now();\r\n\t\t\t\texpires = time + longTime * 60000;\r\n\t\t\t}\r\n\t\t\tvar data = {\r\n\t\t\t\tvalue,\r\n\t\t\t\texpires\r\n\t\t\t};\r\n\t\t\twindow.localStorage.setItem(key, JSON.stringify(data));\r\n\t\t},\r\n\t\t/**\r\n\t\t * 获取值\r\n\t\t * @param {String} key 键\r\n\t\t * @return {Object} 值\r\n\t\t */\r\n\t\tget: function(key) {\r\n\t\t\tvar value;\r\n\t\t\tvar text = window.localStorage.getItem(key);\r\n\t\t\tif (text && text.indexOf('{') === 0) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar data = JSON.parse(text);\r\n\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\tif (data.expires) {\r\n\t\t\t\t\t\t\tvar time = new Date(data.expires);\r\n\t\t\t\t\t\t\tif (time > Date.now()) {\r\n\t\t\t\t\t\t\t\tvalue = data.value;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\twindow.localStorage.removeItem(key);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalue = data.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\tvalue = text;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvalue = text;\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 删除值\r\n\t\t * @param {Object} key 键\r\n\t\t */\r\n\t\tdel: function(key) {\r\n\t\t\twindow.localStorage.removeItem(key);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * web socket通讯组\r\n\t */\r\n\t$.ws = {};\r\n\r\n\t/* 封装 WebSocket 实例化的方法  */\r\n\tvar CreateWebSocket = (function(url) {\r\n\t\treturn function(url) {\r\n\t\t\tvar ws;\r\n\t\t\ttry {\r\n\t\t\t\tif (window.WebSocket) {\r\n\t\t\t\t\tws = new WebSocket(url)\r\n\t\t\t\t} else if (window.MozWebSocket) {\r\n\t\t\t\t\tws = new MozWebSocket(url)\r\n\t\t\t\t};\r\n\t\t\t} catch (e) {\r\n\t\t\t\t//TODO handle the exception\r\n\t\t\t}\r\n\t\t\treturn ws;\r\n\t\t}\r\n\t})();\r\n\r\n\t/**\r\n\t * 等待连接成功, 然后发送消息\r\n\t */\r\n\tfunction connect(_this) {\r\n\t\tif (_this.try_connect) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t_this.try_connect = true;\r\n\t\tvar ws = CreateWebSocket(_this.url);\r\n\t\tws.onmessage = function(event) {\r\n\t\t\t_this.message(event);\r\n\t\t};\r\n\t\tws.onclose = function() {\r\n\t\t\treconnect(_this);\r\n\t\t};\r\n\t\tws.onerror = function(event) {\r\n\t\t\t_this.noticy(\"error\", event);\r\n\t\t};\r\n\t\tws.onopen = function() {\r\n\t\t\t_this.try_connect = false;\r\n\t\t\tvar arr = _this.arr_message;\r\n\t\t\tvar len = arr.length;\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\tif (ws.readyState === 1) {\r\n\t\t\t\t\t_this.ws.send(arr[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 发送成功, 清空消息组\r\n\t\t\t_this.arr_message.clear();\r\n\t\t\t// 重置重新连接次数\r\n\t\t\t_this.try_times = 0;\r\n\t\t}\r\n\t\t_this.ws = ws;\r\n\t};\r\n\r\n\t/**\r\n\t * 重新连接\r\n\t * @param {Object} _this ws对象\r\n\t */\r\n\tfunction reconnect(_this) {\r\n\t\t_this.try_times++;\r\n\t\tif (_this.try_times <= _this.try_max_times) {\r\n\t\t\t_this.try_connect = false;\r\n\t\t\t// 没连接上会一直重连，设置延迟避免请求过多\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tconnect(_this)\r\n\t\t\t}, _this.seconds);\r\n\t\t\t_this.noticy('reconnect', _this.try_times);\r\n\t\t} else {\r\n\t\t\t_this.noticy('error', '服务器连接失败!');\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * 构造通讯函数\r\n\t * @param {String} url\r\n\t * @param {Function} noticy 通知函数\r\n\t * @param {Function} receive 响应回调函数\r\n\t * @param {Function} noticy 信息捕捉函数\r\n\t * @param {String} name 名称\r\n\t * @param {Number} seconds 重新连接次数\r\n\t * @return {Object} 返回发信服务\r\n\t */\r\n\tfunction WS(url, receive, noticy, name, seconds) {\r\n\t\tif (noticy) {\r\n\t\t\tthis.noticy = noticy;\r\n\t\t} else {\r\n\t\t\t/**\r\n\t\t\t * 通知函数\r\n\t\t\t * @param {String} type 通知类型\r\n\t\t\t */\r\n\t\t\tthis.noticy = function(type, content) {\r\n\t\t\t\tconsole.log(type, content);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (!window.WebSocket) {\r\n\t\t\tconsole.error('错误: 浏览器不支持websocket');\r\n\t\t\tthis.noticy('error', '浏览器不支持websocket');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar u;\r\n\t\tif (url.indexOf('//') !== -1) {\r\n\t\t\tu = url.replace(\"https\", \"ws\").replace(\"http\", \"ws\");\r\n\t\t} else {\r\n\t\t\tu = \"ws://\" + url;\r\n\t\t}\r\n\t\t// 连接地址\r\n\t\tthis.url = u;\r\n\r\n\t\tif (name) {\r\n\t\t\tthis.name = name\r\n\t\t} else {\r\n\t\t\tthis.name = u;\r\n\t\t}\r\n\r\n\t\tthis.receive = receive;\r\n\r\n\t\t// 消息数组, 在等待连接的过程中, 如果有多条消息, 则保存至此, 等待连接成功后发送\r\n\t\tthis.arr_message = [];\r\n\r\n\t\tif (seconds) {\r\n\t\t\tthis.seconds = seconds;\r\n\t\t} else {\r\n\t\t\tthis.seconds = 6000;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 尝试重连次数\r\n\t\t */\r\n\t\tthis.try_times = 0;\r\n\r\n\t\t/**\r\n\t\t * 最大尝试次数, 如果每次重试间隔1分钟, 那么10分钟后就不再重连\r\n\t\t */\r\n\t\tthis.try_max_times = 10;\r\n\r\n\t\t/**\r\n\t\t * 是否正在尝试连接\r\n\t\t */\r\n\t\tthis.try_connect = false;\r\n\r\n\t\t// 连接 socket服务\r\n\t\tconnect(this);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * 打开服务\r\n\t */\r\n\tWS.prototype.open = function() {\r\n\t\tconnect(this);\r\n\t};\r\n\r\n\t/**\r\n\t * 关闭服务\r\n\t */\r\n\tWS.prototype.close = function() {\r\n\t\tthis.ws.onclose = function(event) {};\r\n\t\tthis.ws.close()\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * 释放\r\n\t */\r\n\tWS.prototype.clear = function() {\r\n\t\tthis.close();\r\n\t\tdelete $.ws[key];\r\n\t};\r\n\r\n\t/**\r\n\t * 收到消息\r\n\t */\r\n\tWS.prototype.message = function(event) {\r\n\t\tvar data = event.data;\r\n\t\tif (data && this.receive) {\r\n\t\t\tthis.receive(data);\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * 发送数据\r\n\t * @param {String} bodyStr 消息主体字符串\r\n\t */\r\n\tWS.prototype.send = function(bodyStr) {\r\n\t\tvar ws = this.ws;\r\n\t\tswitch (ws.readyState) {\r\n\t\t\tcase 0:\r\n\t\t\t\t// CONNECTING 正在连接\r\n\t\t\t\t// 先将消息加入队列等待连接成功再发送\r\n\t\t\t\tthis.arr_message.push(bodyStr);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\t// OPEN 连接成功，可以通信了\r\n\t\t\t\tws.send(bodyStr);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\t// CLOSING 连接正在关闭\r\n\t\t\t\t// 先将消息加入队列, 等待关闭 > 重新连接 > 连接成功 再发送消息\r\n\t\t\t\tthis.arr_message.push(bodyStr);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tif (this.try_times > 9) {\r\n\t\t\t\t\tthis.try_times = 0;\r\n\t\t\t\t\tthis.try_connect = false;\r\n\t\t\t\t}\r\n\t\t\t\t// CLOSED 连接已经关闭，或者打开连接失败\r\n\t\t\t\t// 先将消息加入队列, 重新连接 > 连接成功 再发送消息\r\n\t\t\t\tthis.arr_message.push(bodyStr);\r\n\t\t\t\tconnect(this);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * 主动关闭连接\r\n\t */\r\n\tWS.prototype.close = function() {\r\n\t\tthis.ws.close();\r\n\t};\r\n\r\n\t/**\r\n\t * 创建web socket通讯服务\r\n\t * @param {String} url URL地址\r\n\t * @param {Function} receive 响应回调函数\r\n\t * @param {Function} noticy 信息捕捉函数\r\n\t * @param {String} name 名称\r\n\t * @param {String} seconds 秒\r\n\t * @return {Object} 返回发信服务\r\n\t */\r\n\t$.socket = function(url, receive, noticy, name, seconds) {\r\n\t\t// 使用键方式去查询多个通讯\r\n\t\t// 需要多通讯的原因是: 像交易所可能需要即时通讯的同时还需要试试变化交易信息\r\n\t\tif (!name) {\r\n\t\t\tname = url;\r\n\t\t}\r\n\t\tif (!$.ws[name]) {\r\n\t\t\t$.ws[name] = new WS(url, receive, noticy, name, seconds);\r\n\t\t} else {\r\n\t\t\t$.ws[name].try_times = 0;\r\n\t\t}\r\n\t\treturn $.ws[name];\r\n\t};\r\n\r\n\t/**\r\n\t * 路由\r\n\t */\r\n\t$.route = {\r\n\t\t/**\r\n\t\t * 重定向地址\r\n\t\t */\r\n\t\tredirect_url: \"/\",\r\n\t\t/**\r\n\t\t * 路由历史记录\r\n\t\t */\r\n\t\thistory: {\r\n\t\t\tlist: [],\r\n\t\t\tpush: function(url) {\r\n\t\t\t\tif (this.list.length > 0) {\r\n\t\t\t\t\tvar end_url = this.list[this.list.length - 1];\r\n\t\t\t\t\tif (end_url !== url) {\r\n\t\t\t\t\t\tthis.list.push(url);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.list.push(url);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 添加路由\r\n\t\t * @param {String} url\r\n\t\t * @param {String} title\r\n\t\t */\r\n\t\tpush: function(url, title) {\r\n\t\t\thistory.pushState({\r\n\t\t\t\tstatus: 0\r\n\t\t\t}, title, url);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * 浏览器\r\n\t */\r\n\t$.os = function() {\r\n\t\tvar u = navigator.userAgent;\r\n\t\treturn {\r\n\t\t\tversion: navigator.appVersion,\r\n\t\t\tisApp: u.indexOf(\"Html5Plus\") !== -1,\r\n\t\t\tdevice: {\r\n\t\t\t\t// 是否为移动终端\r\n\t\t\t\tmobile: /AppleWebKit.*Mobile.*/.test(u),\r\n\t\t\t\t// ios终端\r\n\t\t\t\tios: /\\(i[^;]+;( U;)? CPU.+Mac OS X/.test(u),\r\n\t\t\t\t// android终端或Linux浏览器\r\n\t\t\t\tandroid: u.indexOf('Android') !== -1 || u.indexOf('Linux') !== -1,\r\n\t\t\t\t// 是否为iPhone或者QQHD浏览器\r\n\t\t\t\tiPhone: u.indexOf('iPhone') !== -1,\r\n\t\t\t\t// 是否iPad\r\n\t\t\t\tiPad: u.indexOf('iPad') !== -1,\r\n\t\t\t\t// 是否电脑\r\n\t\t\t\tpc: u.indexOf('Window') !== -1,\r\n\t\t\t},\r\n\t\t\tapp: {\r\n\t\t\t\t// 微信\r\n\t\t\t\twechat: /MicroMessenger/i.test(u),\r\n\t\t\t\t// 微博\r\n\t\t\t\tweibo: /WeiBo/i.test(u),\r\n\t\t\t\t// QQ\r\n\t\t\t\tqq: /QQ/i.test(u)\r\n\t\t\t},\r\n\t\t\tbrowser: {\r\n\t\t\t\t// 浏览器版本信息\r\n\t\t\t\t// IE内核\r\n\t\t\t\ttrident: u.indexOf('Trident') > -1,\r\n\t\t\t\t// opera内核\r\n\t\t\t\tpresto: u.indexOf('Presto') > -1,\r\n\t\t\t\t// 苹果、谷歌内核\r\n\t\t\t\twebKit: u.indexOf('AppleWebKit') > -1,\r\n\t\t\t\t// 火狐内核\r\n\t\t\t\tgecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1,\r\n\t\t\t\t// 苹果默认浏览器\r\n\t\t\t\tsafari: u.indexOf('Safari') === -1\r\n\t\t\t}\r\n\t\t}\r\n\t}();\r\n})();\r\n\r\n\r\n(function() {\r\n\t/**\r\n\t * @description 添加对象属性\r\n\t * @param {Object} obj 对象\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Object} value 添加值\r\n\t * @return {Object} 返回添加的局部对象\r\n\t */\r\n\tfunction add(obj, query, value) {\r\n\t\tif (query) {\r\n\t\t\tvar oj = get(obj, query);\r\n\t\t\tif (oj) {\r\n\t\t\t\t$.push(oj, value, true);\r\n\t\t\t}\r\n\t\t\treturn oj;\r\n\t\t} else {\r\n\t\t\t$.push(obj, value, true);\r\n\t\t\treturn obj;\r\n\t\t}\r\n\t};\r\n\t$.add = add;\r\n\r\n\t/**\r\n\t * @description 删除对象属性\r\n\t * @param {Object} obj 对象\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Object} item 查询条件\r\n\t * @return {Object} 返回删除结果\r\n\t */\r\n\tfunction del(obj, query, item) {\r\n\t\tvar o = {};\r\n\t\tif (query) {\r\n\t\t\to = get(obj, query);\r\n\t\t} else {\r\n\t\t\to = obj;\r\n\t\t}\r\n\t\tif (!item) {\r\n\t\t\titem = Object.assign(o);\r\n\t\t}\r\n\t\tif (Array.isArray(o)) {\r\n\t\t\to.clear();\r\n\t\t} else if (Array.isArray(item)) {\r\n\t\t\tfor (var i = 0; i < item.length; i++) {\r\n\t\t\t\tvar val = item[i];\r\n\t\t\t\tif (typeof(val) === \"object\") {\r\n\t\t\t\t\tdel(o, null, val);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdelete o[val];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (typeof(item) === \"object\") {\r\n\t\t\tfor (var k in item) {\r\n\t\t\t\tif (Array.isArray(o[k])) {\r\n\t\t\t\t\tdelete o[k];\r\n\t\t\t\t} else if (typeof(o[k]) === \"object\") {\r\n\t\t\t\t\tvar type = typeof(item[k]);\r\n\t\t\t\t\tif (type === \"object\") {\r\n\t\t\t\t\t\tdel(o[k], null, item[k]);\r\n\t\t\t\t\t} else if (type === \"string\" || type === \"number\") {\r\n\t\t\t\t\t\tdelete o[k][item[k]];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdelete o[k];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdelete o[k];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdelete o[item];\r\n\t\t}\r\n\t\tfor (var k in o) {\r\n\t\t\tif (Object.keys(o[k]).length === 0) {\r\n\t\t\t\tdelete o[k]\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn o;\r\n\t};\r\n\t$.del = del;\r\n\r\n\t/**\r\n\t * @description 修改对象属性\r\n\t * @param {Object} obj 对象\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Object} value 返回修改的局部对象\r\n\t */\r\n\tfunction set(obj, query, value) {\r\n\t\tif (query) {\r\n\t\t\tvar oj = get(obj, query);\r\n\t\t\tif (oj) {\r\n\t\t\t\t$.push(oj, value);\r\n\t\t\t}\r\n\t\t\treturn oj;\r\n\t\t} else {\r\n\t\t\t$.push(obj, value);\r\n\t\t\treturn obj;\r\n\t\t}\r\n\t};\r\n\t$.set = set;\r\n\r\n\tfunction arrToObj(arr) {\r\n\t\tvar obj = {};\r\n\t\tvar ret = obj;\r\n\t\tvar len = arr.length;\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tvar k = arr[i];\r\n\t\t\tif (typeof(k) == \"object\") {\r\n\t\t\t\tif (Array.isArray(k)) {\r\n\t\t\t\t\t$.push(obj, arrToObj(k), true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$.push(obj, k, true);\r\n\t\t\t\t}\r\n\t\t\t} else if (!obj[k]) {\r\n\t\t\t\tif (len - i > 1) {\r\n\t\t\t\t\tobj[k] = {};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj[k] = true;\r\n\t\t\t\t}\r\n\t\t\t\tobj = obj[k];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t/**\r\n\t * @description 查询对象属性\r\n\t * @param {Object} obj 对象\r\n\t * @param {Object} query\r\n\t * @return {Object} 返回查询结果\r\n\t */\r\n\tfunction get(obj, query) {\r\n\t\tvar ret;\r\n\t\tif (typeof(obj) === 'object' && !Array.isArray(obj)) {\r\n\t\t\t// 只有非数组的对象才进行操作\r\n\t\t\tif (Array.isArray(query)) {\r\n\t\t\t\tvar ret = obj;\r\n\t\t\t\t// 如果是数字则循环数组\r\n\t\t\t\tfor (var i = 0; i < query.length; i++) {\r\n\t\t\t\t\tvar o = query[i];\r\n\t\t\t\t\tif (Array.isArray(o)) {\r\n\t\t\t\t\t\tret = get(ret, o);\r\n\t\t\t\t\t} else if (typeof(o) === 'object') {\r\n\t\t\t\t\t\tvar oj = {};\r\n\t\t\t\t\t\tfor (var k in o) {\r\n\t\t\t\t\t\t\tif (o[k]) {\r\n\t\t\t\t\t\t\t\toj[k] = get(ret[k], o[k]);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\toj[k] = ret[k];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tret = oj;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tret = ret[o];\r\n\t\t\t\t\t\tif (typeof(ret) !== 'object') {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (typeof(query) === 'object') {\r\n\t\t\t\tvar ret = {};\r\n\t\t\t\t// 如果是对象则遍历对象\r\n\t\t\t\tfor (var k in query) {\r\n\t\t\t\t\tret[k] = get(obj[k], query[k]);\r\n\t\t\t\t}\r\n\t\t\t\tret = ret;\r\n\t\t\t} else if (query) {\r\n\t\t\t\tif (typeof(query) == \"string\" || typeof(query) == \"number\") {\r\n\t\t\t\t\tret = {};\r\n\t\t\t\t\tret[query] = obj[query];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tret = obj;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// 如果query为空则返回整个对象\r\n\t\t\t\tret = null;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// 否则直接返回值\r\n\t\t\tret = obj;\r\n\t\t}\r\n\t\treturn ret;\r\n\t};\r\n\t$.get = get;\r\n\r\n\t/**\r\n\t * 遍历读写对象\r\n\t * @param {Object} obj\r\n\t * @param {String} key 键 多级对象用.分隔\r\n\t * @param {Object} value 值，如果不传为查询，传为修改\r\n\t */\r\n\tfunction obj_for(obj, key, value) {\r\n\t\tif (!key) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tvar keys = key.split('.');\r\n\t\tvar len = keys.length;\r\n\t\tif (len == 0) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tvar k = keys[0];\r\n\t\tvar o = obj[k];\r\n\t\tif (len == 1 && value !== undefined) {\r\n\t\t\tobj[k] = value;\r\n\t\t\to = value;\r\n\t\t} else if (typeof(o) == 'object') {\r\n\t\t\tif (len > 1) {\r\n\t\t\t\treturn obj_for(o, keys.splice(1, len).join('.'), value);\r\n\t\t\t}\r\n\t\t} else if (len > 1) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\treturn o;\r\n\t}\r\n\r\n\t$.obj = obj_for;\r\n})();\r\n\r\n/**\r\n * 跨站校验\r\n */\r\nfunction ifame_check() {\r\n\tvar domain = document.domain;\r\n\tvar _self = Object.assign({}, window.self.location);\r\n\ttry {\r\n\t\tvar host = window.top.location.host;\r\n\t} catch (e) {\r\n\t\tconsole.log('跨域嵌套ifame');\r\n\t\twindow.location.href = \"/404.html\";\r\n\t}\r\n}\r\n\r\nifame_check();\r\n"]}]}