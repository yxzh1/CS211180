{"remainingRequest":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\views\\message_wall\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\views\\message_wall\\details.vue","mtime":1642669596000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkaXZfbWVzc2FnZV93YWxsIGZyb20gIkAvY29tcG9uZW50cy9kaXkvZGl2X21lc3NhZ2Vfd2FsbC52dWUiOwppbXBvcnQgbWl4aW4gZnJvbSAiQC9taXhpbnMvcGFnZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKCW1peGluczpbbWl4aW5dLAoJY29tcG9uZW50czp7CgkJZGl2X21lc3NhZ2Vfd2FsbAoJfSwKCWRhdGEoKXsKCQlyZXR1cm57CgkJCXVybF9nZXRfb2JqOiAifi9hcGkvbWVzc2FnZV93YWxsL2dldF9vYmo/IiwKCgkJCWZpZWxkOiAibWVzc2FnZV93YWxsX2lkIiwKCgkJCW9iajogewoJCQl9LAoKCQkJcXVlcnk6IHsKCQkJCSJtZXNzYWdlX3RpdGxlIjogIiIsCgkJCQkibWVzc2FnZV90aW1lIjogIiIsCgkJCQkibWVzc2FnZV9wZXJzb24iOiAwLAoJCQkJIm1lc3NhZ2VfY29udGVudCI6ICIiLAoJCQkJImNvdmVyIjogIiIsCgkJCQkibWVzc2FnZV93YWxsX2lkIjowLAoJCQl9LAoJCQkvLyDngrnotZ4KCQkJcHJhaXNlOiAwLAoJCQkvLyDngrnotZ7nirbmgIEKCQkJc3RhdGVfcHJhaXNlOiBmYWxzZSwKCQkJCgkJfQoJfSwKCW1ldGhvZHM6ewoJCS8qKgoJCSAqIOa3u+WKoOiuv+mXrumHjwoJCSAqLwoJCWFkZF9oaXRzKG9iaikgewoJCQlvYmpbImhpdHMiXSA9IG9ialsiaGl0cyJdICsgMTsKCQkJdmFyIGhpdHMgPSBvYmpbImhpdHMiXTsKCQkJdGhpcy4kcG9zdCgnfi9hcGkvbWVzc2FnZV93YWxsL3NldD9tZXNzYWdlX3dhbGxfaWQ9JyArIG9ialsibWVzc2FnZV93YWxsX2lkIl0sIHsKCQkJCWhpdHMKCQkJfSwgKHJlcykgPT4gewoJCQkJaWYocmVzLnJlc3VsdCl7CgkJCQkJY29uc29sZS5sb2coIua3u+WKoOiuv+mXrumHj+eKtuaAge+8miIgLHJlcy5yZXN1bHQpOwoJCQkJCXZhciBib2R5ID0gewoJCQkJCQlzb3VyY2VfdGFibGU6ICJtZXNzYWdlX3dhbGwiLAoJCQkJCQlzb3VyY2VfZmllbGQ6ICJtZXNzYWdlX3dhbGxfaWQiLAoJCQkJCQlzb3VyY2VfaWQ6IHRoaXMub2JqLm1lc3NhZ2Vfd2FsbF9pZCwKCQkJCQkJdXNlcl9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyX2lkLAoJCQkJCX07CgkJCQkJdGhpcy4kcG9zdCgifi9hcGkvaGl0cy9hZGQ/IiwgYm9keSwgKHJlcykgPT4gewoJCQkJCQljb25zb2xlLmxvZyhyZXMpOwoJCQkJCX0pOwoJCQkJfQoJCQkJZWxzZSBpZihyZXMuZXJyb3IpewoJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKCQkJCX0KCQkJfSk7CgkJfSwKCQlnZXRfb2JqX2FmdGVyKGpzb24pIHsKCQkJLy8g5Yik5pat5piv5ZCm6I635Y+W5Yiw5pWw5o2uCgkJCWlmIChqc29uICYmIGpzb24ucmVzdWx0ICYmIGpzb24ucmVzdWx0Lm9iaikgewoJCQkJY29uc29sZS5sb2coanNvbi5yZXN1bHQub2JqKQoJCQkJdmFyIG9iaiA9IGpzb24ucmVzdWx0Lm9iajsKCQkJCXRoaXMub2JqID0gb2JqCgkJCQkvLyDlop7liqDngrnlh7vmlbAKCQkJCXRoaXMuYWRkX2hpdHMob2JqKTsKCQkJCS8vIOiOt+WPlueCuei1nuaVsAoJCQkJdGhpcy5nZXRfcHJhaXNlKG9iaik7CgkJCQkvLyDliJ3lp4vljJbmlLbol4/nirbmgIEKCQkJCXRoaXMuZ2V0X2NvbGxlY3Qob2JqKTsKCQkJfQoJCX0sCgkJLyoqCgkJICog5Yid5aeL5YyW5pS26JeP54q25oCBCgkJICogQHBhcmFtIHtPYmplY3R9IG9iagoJCSAqLwoJCWdldF9jb2xsZWN0KG9iaikgewoJCQl2YXIgdXNlcl9pZCA9IHRoaXMudXNlci51c2VyX2lkOwoKCQkJdmFyIHF1ZXJ5ID0gewoJCQkJc291cmNlX3RhYmxlOiAibWVzc2FnZV93YWxsIiwKCQkJCXNvdXJjZV9maWVsZDogIm1lc3NhZ2Vfd2FsbF9pZCIsCgkJCQlzb3VyY2VfaWQ6IG9ialsibWVzc2FnZV93YWxsX2lkIl0sCgkJCQl1c2VyX2lkCgkJCX07CgoJCQl0aGlzLiRnZXQoJ34vYXBpL2NvbGxlY3QvY291bnQ/JywgcXVlcnksIChyZXMpID0+IHsKCQkJCWNvbnNvbGUubG9nKHJlcyk7CgkJCQlpZiAocmVzLnJlc3VsdCB8fCByZXMucmVzdWx0ID09PSAwKSB7CgkJCQkJdmFyIGJsID0gcmVzLnJlc3VsdCA/IHRydWUgOiBmYWxzZTsKCQkJCQl0aGlzLnN0YXRlX2NvbGxlY3QgPSBibDsKCQkJCQljb25zb2xlLmxvZygi5pS26JeP54q25oCB77yaIiArIGJsKTsKCQkJCX0KCQkJCWVsc2UgaWYocmVzLmVycm9yKSB7CgkJCQkJY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwoJCQkJfQoJCQl9KTsKCQl9LAoJIC8qKioqCgkJICog5YiG5Lqr54K55Ye7CgkJICogCgkJICogICovIAoJCXRvU2hhcmUoZSl7CgkJCXdpbmRvdy5vcGVuKGUpOwoJCX0sCgkJLyoqCgkJICog5pS55Y+Y5pS26JeP54q25oCBCgkJICovCgkJY2hhbmdlX2NvbGxlY3QoKSB7CgkJCXZhciB1c2VyX2lkID0gdGhpcy51c2VyLnVzZXJfaWQ7CgoJCQl2YXIgcXVlcnkgPSB7CgkJCQlzb3VyY2VfdGFibGU6ICJtZXNzYWdlX3dhbGwiLAoJCQkJc291cmNlX2ZpZWxkOiAibWVzc2FnZV93YWxsX2lkIiwKCQkJCXNvdXJjZV9pZDogdGhpcy5vYmpbIm1lc3NhZ2Vfd2FsbF9pZCJdLAoJCQkJdXNlcl9pZAoJCQl9OwoKCQkJLy8g5pS26JeP54q25oCBCgkJCWlmICh0aGlzLnN0YXRlX2NvbGxlY3QpIHsKCQkJCXRoaXMuc3RhdGVfY29sbGVjdCA9IGZhbHNlOwoJCQkJdGhpcy4kZ2V0KCd+L2FwaS9jb2xsZWN0L2RlbD8nLCBxdWVyeSwgKHJlcykgPT4gewoJCQkJCWlmKHJlcy5yZXN1bHQpewoJCQkJCQl0aGlzLiR0b2FzdCgi5Y+W5raI5pS26JePIik7CgkJCQkJfQoJCQkJCWVsc2UgaWYgKHJlcy5lcnJvcil7CgkJCQkJCXRoaXMuJHRvYXN0KHJlcy5lcnJvci5tZXNzYWdlKTsKCQkJCQkJY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwoJCQkJCX0KCQkJCX0pOwoJCQl9IGVsc2UgewoJCQkJdGhpcy5zdGF0ZV9jb2xsZWN0ID0gdHJ1ZTsKCQkJCXRoaXMuJHBvc3QoJ34vYXBpL2NvbGxlY3QvYWRkPycsIHF1ZXJ5LCAocmVzKSA9PiB7CgkJCQkJaWYgKHJlcy5yZXN1bHQpIHsKCQkJCQkJdGhpcy4kdG9hc3QoIuaUtuiXj+aIkOWKnyIpOwoJCQkJCX0KCQkJCQllbHNlIGlmIChyZXMuZXJyb3IpIHsKCQkJCQkJdGhpcy4kdG9hc3QocmVzLmVycm9yLm1lc3NhZ2UpOwoJCQkJCQljb25zb2xlLmVycm9yKHJlcy5lcnJvcik7CgkJCQkJfQoJCQkJfSk7CgkJCX07CgkJfSwKCQkvKioKCQkgKiDojrflj5bngrnotZ4KCQkgKiBAcGFyYW0ge09iamVjdH0gb2JqCgkJICovCgkJZ2V0X3ByYWlzZShvYmopIHsKCQkJdmFyIHVzZXJfaWQgPSB0aGlzLnVzZXIudXNlcl9pZDsKCgkJCXRoaXMuJGdldCgifi9hcGkvcHJhaXNlL2NvdW50PyIsIHsKCQkJCXNvdXJjZV90YWJsZTogIm1lc3NhZ2Vfd2FsbCIsCgkJCQlzb3VyY2VfZmllbGQ6ICJtZXNzYWdlX3dhbGxfaWQiLAoJCQkJc291cmNlX2lkOiBvYmpbIm1lc3NhZ2Vfd2FsbF9pZCJdCgkJCX0sIChyZXMpID0+IHsKCQkJCWlmIChyZXMucmVzdWx0IHx8IHJlcy5yZXN1bHQgPT09IDApIHsKCQkJCQl0aGlzLnByYWlzZSA9IHJlcy5yZXN1bHQ7CgkJCQkJY29uc29sZS5sb2coIueCuei1nuaVsO+8miIgLHJlcy5yZXN1bHQpOwoJCQkJfQoJCQkJZWxzZSBpZiAocmVzLmVycm9yKXsKCQkJCQl0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7CgkJCQkJY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwoJCQkJfQoJCQl9KTsKCgkJCXRoaXMuJGdldCgifi9hcGkvcHJhaXNlL2NvdW50PyIsIHsKCQkJCXNvdXJjZV90YWJsZTogIm1lc3NhZ2Vfd2FsbCIsCgkJCQlzb3VyY2VfZmllbGQ6ICJtZXNzYWdlX3dhbGxfaWQiLAoJCQkJc291cmNlX2lkOiBvYmpbIm1lc3NhZ2Vfd2FsbF9pZCJdLAoJCQkJdXNlcl9pZAoJCQl9LCAocmVzKSA9PiB7CgkJCQlpZiAocmVzLnJlc3VsdCB8fCByZXMucmVzdWx0ID09PSAwKSB7CgkJCQkJdGhpcy5zdGF0ZV9wcmFpc2UgPSByZXMucmVzdWx0ID8gdHJ1ZSA6IGZhbHNlOwoJCQkJCWNvbnNvbGUubG9nKCLngrnotZ7nirbmgIHvvJoiICxyZXMucmVzdWx0KTsKCQkJCX0KCQkJCWVsc2UgaWYgKHJlcy5lcnJvcil7CgkJCQkJdGhpcy4kdG9hc3QocmVzLmVycm9yLm1lc3NhZ2UpOwoJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKCQkJCX0KCQkJfSkKCQl9LAoKCQkvKioKCQkgKiDmlLnlj5jngrnotZ7mlbAKCQkgKi8KCQljaGFuZ2VfcHJhaXNlKG9iaikgewoJCQl2YXIgdXNlcl9pZCA9IHRoaXMudXNlci51c2VyX2lkOwoKCQkJdmFyIHF1ZXJ5ID0gewoJCQkJc291cmNlX3RhYmxlOiAibWVzc2FnZV93YWxsIiwKCQkJCXNvdXJjZV9maWVsZDogIm1lc3NhZ2Vfd2FsbF9pZCIsCgkJCQlzb3VyY2VfaWQ6IHRoaXMub2JqWyJtZXNzYWdlX3dhbGxfaWQiXSwKCQkJCXVzZXJfaWQKCQkJfTsKCgkJCXZhciBfdGhpcyA9IHRoaXM7CgoJCQkvLyDngrnotZ7nirbmgIEKCQkJaWYgKHRoaXMuc3RhdGVfcHJhaXNlKSB7CgkJCQl0aGlzLnN0YXRlX3ByYWlzZSA9IGZhbHNlOwoJCQkJdGhpcy4kZ2V0KCd+L2FwaS9wcmFpc2UvZGVsPycsIHF1ZXJ5LCAocmVzKSA9PiB7CgkJCQkJaWYocmVzLnJlc3VsdCl7CgkJCQkJCXZhciBwcmFpc2VfbGVuID0gX3RoaXMub2JqLnByYWlzZV9sZW4tMQoJCQkJCQl0aGlzLiRwb3N0KCd+L2FwaS9tZXNzYWdlX3dhbGwvc2V0P21lc3NhZ2Vfd2FsbF9pZD0nICsgX3RoaXMub2JqWyJtZXNzYWdlX3dhbGxfaWQiXSwgewoJCQkJCQkJcHJhaXNlX2xlbgoJCQkJCQl9LCAocmVzKSA9PiB7CgkJCQkJCQlpZihyZXMucmVzdWx0KXsKCQkJCQkJCQljb25zb2xlLmxvZygi5re75Yqg54K56LWe5pWw54q25oCB77yaIiAscmVzLnJlc3VsdCk7CgkJCQkJCQl9CgkJCQkJCQllbHNlIGlmKHJlcy5lcnJvcil7CgkJCQkJCQkJY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwoJCQkJCQkJfQoJCQkJCQl9KTsKCQkJCQkJdGhpcy4kdG9hc3QoIuWPlua2iOeCuei1niIpOwoJCQkJCX0KCQkJCQllbHNlIGlmIChyZXMuZXJyb3IpewoJCQkJCQl0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7CgkJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKCQkJCQl9CgkJCQl9KTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMuc3RhdGVfcHJhaXNlID0gdHJ1ZTsKCQkJCXRoaXMuJHBvc3QoJ34vYXBpL3ByYWlzZS9hZGQ/JywgcXVlcnksIChyZXMpID0+IHsKCQkJCQlpZiAocmVzLnJlc3VsdCkgewoJCQkJCQl2YXIgcHJhaXNlX2xlbiA9IF90aGlzLm9iai5wcmFpc2VfbGVuKzEKCQkJCQkJdGhpcy4kcG9zdCgnfi9hcGkvbWVzc2FnZV93YWxsL3NldD9tZXNzYWdlX3dhbGxfaWQ9JyArIF90aGlzLm9ialsibWVzc2FnZV93YWxsX2lkIl0sIHsKCQkJCQkJCXByYWlzZV9sZW4KCQkJCQkJfSwgKHJlcykgPT4gewoJCQkJCQkJaWYocmVzLnJlc3VsdCl7CgkJCQkJCQkJY29uc29sZS5sb2coIua3u+WKoOeCuei1nuaVsOeKtuaAge+8miIgLHJlcy5yZXN1bHQpOwoJCQkJCQkJfQoJCQkJCQkJZWxzZSBpZihyZXMuZXJyb3IpewoJCQkJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKCQkJCQkJCX0KCQkJCQkJfSk7CgkJCQkJCXRoaXMuJHRvYXN0KCLngrnotZ7miJDlip8iKTsKCQkJCQl9CgkJCQkJZWxzZSBpZiAocmVzLmVycm9yKSB7CgkJCQkJCXRoaXMuJHRvYXN0KHJlcy5lcnJvci5tZXNzYWdlKTsKCQkJCQkJY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwoJCQkJCX0KCQkJCX0pOwoJCQl9OwoJCX0sCgl9LAoJCgltb3VudGVkKCkgewoJCQoJfSwKCQp9Cg=="},{"version":3,"sources":["details.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA","file":"details.vue","sourceRoot":"src/views/message_wall","sourcesContent":["<template>\r\n\t<div class=\"diy_details page_message_wall\" id=\"message_wall_details\">\r\n\t\t<div class='warp'>\r\n\t\t\t<div class='container'>\r\n\t\t\t\t<div class='row'>\r\n\t\t\t\t\t<div class='col'>\r\n\t\t\t\t\t\t<div class='card_message_wall'>\r\n\t\t\t\t\t\t\t<div_message_wall :obj=\"obj\"></div_message_wall>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport div_message_wall from \"@/components/diy/div_message_wall.vue\";\r\n\timport mixin from \"@/mixins/page.js\";\r\n\texport default {\r\n\t\tmixins:[mixin],\r\n\t\tcomponents:{\r\n\t\t\tdiv_message_wall\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\turl_get_obj: \"~/api/message_wall/get_obj?\",\r\n\r\n\t\t\t\tfield: \"message_wall_id\",\r\n\r\n\t\t\t\tobj: {\r\n\t\t\t\t},\r\n\r\n\t\t\t\tquery: {\r\n\t\t\t\t\t\"message_title\": \"\",\r\n\t\t\t\t\t\"message_time\": \"\",\r\n\t\t\t\t\t\"message_person\": 0,\r\n\t\t\t\t\t\"message_content\": \"\",\r\n\t\t\t\t\t\"cover\": \"\",\r\n\t\t\t\t\t\"message_wall_id\":0,\r\n\t\t\t\t},\r\n\t\t\t\t// 点赞\r\n\t\t\t\tpraise: 0,\r\n\t\t\t\t// 点赞状态\r\n\t\t\t\tstate_praise: false,\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t/**\r\n\t\t\t * 添加访问量\r\n\t\t\t */\r\n\t\t\tadd_hits(obj) {\r\n\t\t\t\tobj[\"hits\"] = obj[\"hits\"] + 1;\r\n\t\t\t\tvar hits = obj[\"hits\"];\r\n\t\t\t\tthis.$post('~/api/message_wall/set?message_wall_id=' + obj[\"message_wall_id\"], {\r\n\t\t\t\t\thits\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\tconsole.log(\"添加访问量状态：\" ,res.result);\r\n\t\t\t\t\t\tvar body = {\r\n\t\t\t\t\t\t\tsource_table: \"message_wall\",\r\n\t\t\t\t\t\t\tsource_field: \"message_wall_id\",\r\n\t\t\t\t\t\t\tsource_id: this.obj.message_wall_id,\r\n\t\t\t\t\t\t\tuser_id: this.$store.state.user.user_id,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.$post(\"~/api/hits/add?\", body, (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tget_obj_after(json) {\r\n\t\t\t\t// 判断是否获取到数据\r\n\t\t\t\tif (json && json.result && json.result.obj) {\r\n\t\t\t\t\tconsole.log(json.result.obj)\r\n\t\t\t\t\tvar obj = json.result.obj;\r\n\t\t\t\t\tthis.obj = obj\r\n\t\t\t\t\t// 增加点击数\r\n\t\t\t\t\tthis.add_hits(obj);\r\n\t\t\t\t\t// 获取点赞数\r\n\t\t\t\t\tthis.get_praise(obj);\r\n\t\t\t\t\t// 初始化收藏状态\r\n\t\t\t\t\tthis.get_collect(obj);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 初始化收藏状态\r\n\t\t\t * @param {Object} obj\r\n\t\t\t */\r\n\t\t\tget_collect(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"message_wall\",\r\n\t\t\t\t\tsource_field: \"message_wall_id\",\r\n\t\t\t\t\tsource_id: obj[\"message_wall_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.$get('~/api/collect/count?', query, (res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tvar bl = res.result ? true : false;\r\n\t\t\t\t\t\tthis.state_collect = bl;\r\n\t\t\t\t\t\tconsole.log(\"收藏状态：\" + bl);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(res.error) {\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t /****\r\n\t\t\t * 分享点击\r\n\t\t\t * \r\n\t\t\t *  */ \r\n\t\t\ttoShare(e){\r\n\t\t\t\twindow.open(e);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 改变收藏状态\r\n\t\t\t */\r\n\t\t\tchange_collect() {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"message_wall\",\r\n\t\t\t\t\tsource_field: \"message_wall_id\",\r\n\t\t\t\t\tsource_id: this.obj[\"message_wall_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// 收藏状态\r\n\t\t\t\tif (this.state_collect) {\r\n\t\t\t\t\tthis.state_collect = false;\r\n\t\t\t\t\tthis.$get('~/api/collect/del?', query, (res) => {\r\n\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\tthis.$toast(\"取消收藏\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state_collect = true;\r\n\t\t\t\t\tthis.$post('~/api/collect/add?', query, (res) => {\r\n\t\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\t\tthis.$toast(\"收藏成功\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error) {\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取点赞\r\n\t\t\t * @param {Object} obj\r\n\t\t\t */\r\n\t\t\tget_praise(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tthis.$get(\"~/api/praise/count?\", {\r\n\t\t\t\t\tsource_table: \"message_wall\",\r\n\t\t\t\t\tsource_field: \"message_wall_id\",\r\n\t\t\t\t\tsource_id: obj[\"message_wall_id\"]\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tthis.praise = res.result;\r\n\t\t\t\t\t\tconsole.log(\"点赞数：\" ,res.result);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$get(\"~/api/praise/count?\", {\r\n\t\t\t\t\tsource_table: \"message_wall\",\r\n\t\t\t\t\tsource_field: \"message_wall_id\",\r\n\t\t\t\t\tsource_id: obj[\"message_wall_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tthis.state_praise = res.result ? true : false;\r\n\t\t\t\t\t\tconsole.log(\"点赞状态：\" ,res.result);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 改变点赞数\r\n\t\t\t */\r\n\t\t\tchange_praise(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"message_wall\",\r\n\t\t\t\t\tsource_field: \"message_wall_id\",\r\n\t\t\t\t\tsource_id: this.obj[\"message_wall_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar _this = this;\r\n\r\n\t\t\t\t// 点赞状态\r\n\t\t\t\tif (this.state_praise) {\r\n\t\t\t\t\tthis.state_praise = false;\r\n\t\t\t\t\tthis.$get('~/api/praise/del?', query, (res) => {\r\n\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\tvar praise_len = _this.obj.praise_len-1\r\n\t\t\t\t\t\t\tthis.$post('~/api/message_wall/set?message_wall_id=' + _this.obj[\"message_wall_id\"], {\r\n\t\t\t\t\t\t\t\tpraise_len\r\n\t\t\t\t\t\t\t}, (res) => {\r\n\t\t\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"添加点赞数状态：\" ,res.result);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$toast(\"取消点赞\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state_praise = true;\r\n\t\t\t\t\tthis.$post('~/api/praise/add?', query, (res) => {\r\n\t\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\t\tvar praise_len = _this.obj.praise_len+1\r\n\t\t\t\t\t\t\tthis.$post('~/api/message_wall/set?message_wall_id=' + _this.obj[\"message_wall_id\"], {\r\n\t\t\t\t\t\t\t\tpraise_len\r\n\t\t\t\t\t\t\t}, (res) => {\r\n\t\t\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"添加点赞数状态：\" ,res.result);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$toast(\"点赞成功\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error) {\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t},\r\n\t\t\r\n\t\tmounted() {\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t}\r\n</script>\r\n\r\n<style>\r\n.qecode {\r\n  display: flex;\r\n  align-content: center;\r\n  width: 270px;\r\n  background: white;\r\n  position: absolute;\r\n  left: 20%;\r\n  top: 20px;\r\n  z-index: 999;\r\n}\r\n.qecodeImg {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-content: center;\r\n  text-align: center;\r\n  padding-top: 10px;\r\n  margin: 0 auto;\r\n}\r\n.btn_share{\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttop: 15px;\r\n\tbackground: rgb(240, 238, 238);\r\n\tborder: 1px solid #ccc;\r\n\theight: 38px;\r\n\tmargin-left: 10px;\r\n\tpadding: 3px 10px;\r\n\tcursor: pointer;\r\n\toverflow: hidden;\r\n\tborder-radius: 5px;\r\n}\r\n.btn_share_icon{\r\n\twidth: 30px;\r\n\theight: 28px;\r\n\tfloat: left;\r\n\tmargin-right: 10px;\r\n}\r\n.share_box{\r\n\tdisplay: none;\r\n\tfloat: left;\r\n}\r\n.share_box img{\r\n\twidth: 30px;\r\n\theight: 28px;\r\n\tmargin-right: 10px;\r\n}\r\n.btn_share:hover .share_box{\r\n\tdisplay: block;\r\n}\r\n</style>\r\n"]}]}