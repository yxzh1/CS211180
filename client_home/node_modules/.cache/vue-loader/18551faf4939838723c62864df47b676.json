{"remainingRequest":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\views\\notice_announcement\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\views\\notice_announcement\\details.vue","mtime":1642669596000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkaXZfbm90aWNlX2Fubm91bmNlbWVudCBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2Rpdl9ub3RpY2VfYW5ub3VuY2VtZW50LnZ1ZSI7CmltcG9ydCBtaXhpbiBmcm9tICJAL21peGlucy9wYWdlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewoJbWl4aW5zOlttaXhpbl0sCgljb21wb25lbnRzOnsKCQlkaXZfbm90aWNlX2Fubm91bmNlbWVudAoJfSwKCWRhdGEoKXsKCQlyZXR1cm57CgkJCXVybF9nZXRfb2JqOiAifi9hcGkvbm90aWNlX2Fubm91bmNlbWVudC9nZXRfb2JqPyIsCgoJCQlmaWVsZDogIm5vdGljZV9hbm5vdW5jZW1lbnRfaWQiLAoKCQkJb2JqOiB7CgkJCX0sCgoJCQlxdWVyeTogewoJCQkJImFubm91bmNlbWVudF90aXRsZSI6ICIiLAoJCQkJImFubm91bmNlbWVudF9ubyI6ICIiLAoJCQkJInJlbGVhc2VfdGltZSI6ICIiLAoJCQkJImFubm91bmNlbWVudF9jb250ZW50IjogIiIsCgkJCQkibm90aWNlX2Fubm91bmNlbWVudF9pZCI6MCwKCQkJfSwKCQkJLy8g54K56LWeCgkJCXByYWlzZTogMCwKCQkJLy8g54K56LWe54q25oCBCgkJCXN0YXRlX3ByYWlzZTogZmFsc2UsCgkJCQoJCX0KCX0sCgltZXRob2RzOnsKCQkvKioKCQkgKiDmt7vliqDorr/pl67ph48KCQkgKi8KCQlhZGRfaGl0cyhvYmopIHsKCQkJb2JqWyJoaXRzIl0gPSBvYmpbImhpdHMiXSArIDE7CgkJCXZhciBoaXRzID0gb2JqWyJoaXRzIl07CgkJCXRoaXMuJHBvc3QoJ34vYXBpL25vdGljZV9hbm5vdW5jZW1lbnQvc2V0P25vdGljZV9hbm5vdW5jZW1lbnRfaWQ9JyArIG9ialsibm90aWNlX2Fubm91bmNlbWVudF9pZCJdLCB7CgkJCQloaXRzCgkJCX0sIChyZXMpID0+IHsKCQkJCWlmKHJlcy5yZXN1bHQpewoJCQkJCWNvbnNvbGUubG9nKCLmt7vliqDorr/pl67ph4/nirbmgIHvvJoiICxyZXMucmVzdWx0KTsKCQkJCQl2YXIgYm9keSA9IHsKCQkJCQkJc291cmNlX3RhYmxlOiAibm90aWNlX2Fubm91bmNlbWVudCIsCgkJCQkJCXNvdXJjZV9maWVsZDogIm5vdGljZV9hbm5vdW5jZW1lbnRfaWQiLAoJCQkJCQlzb3VyY2VfaWQ6IHRoaXMub2JqLm5vdGljZV9hbm5vdW5jZW1lbnRfaWQsCgkJCQkJCXVzZXJfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcl9pZCwKCQkJCQl9OwoJCQkJCXRoaXMuJHBvc3QoIn4vYXBpL2hpdHMvYWRkPyIsIGJvZHksIChyZXMpID0+IHsKCQkJCQkJY29uc29sZS5sb2cocmVzKTsKCQkJCQl9KTsKCQkJCX0KCQkJCWVsc2UgaWYocmVzLmVycm9yKXsKCQkJCQljb25zb2xlLmVycm9yKHJlcy5lcnJvcik7CgkJCQl9CgkJCX0pOwoJCX0sCgkJZ2V0X29ial9hZnRlcihqc29uKSB7CgkJCS8vIOWIpOaWreaYr+WQpuiOt+WPluWIsOaVsOaNrgoJCQlpZiAoanNvbiAmJiBqc29uLnJlc3VsdCAmJiBqc29uLnJlc3VsdC5vYmopIHsKCQkJCWNvbnNvbGUubG9nKGpzb24ucmVzdWx0Lm9iaikKCQkJCXZhciBvYmogPSBqc29uLnJlc3VsdC5vYmo7CgkJCQl0aGlzLm9iaiA9IG9iagoJCQkJLy8g5aKe5Yqg54K55Ye75pWwCgkJCQl0aGlzLmFkZF9oaXRzKG9iaik7CgkJCQkvLyDojrflj5bngrnotZ7mlbAKCQkJCXRoaXMuZ2V0X3ByYWlzZShvYmopOwoJCQkJLy8g5Yid5aeL5YyW5pS26JeP54q25oCBCgkJCQl0aGlzLmdldF9jb2xsZWN0KG9iaik7CgkJCX0KCQl9LAoJCS8qKgoJCSAqIOWIneWni+WMluaUtuiXj+eKtuaAgQoJCSAqIEBwYXJhbSB7T2JqZWN0fSBvYmoKCQkgKi8KCQlnZXRfY29sbGVjdChvYmopIHsKCQkJdmFyIHVzZXJfaWQgPSB0aGlzLnVzZXIudXNlcl9pZDsKCgkJCXZhciBxdWVyeSA9IHsKCQkJCXNvdXJjZV90YWJsZTogIm5vdGljZV9hbm5vdW5jZW1lbnQiLAoJCQkJc291cmNlX2ZpZWxkOiAibm90aWNlX2Fubm91bmNlbWVudF9pZCIsCgkJCQlzb3VyY2VfaWQ6IG9ialsibm90aWNlX2Fubm91bmNlbWVudF9pZCJdLAoJCQkJdXNlcl9pZAoJCQl9OwoKCQkJdGhpcy4kZ2V0KCd+L2FwaS9jb2xsZWN0L2NvdW50PycsIHF1ZXJ5LCAocmVzKSA9PiB7CgkJCQljb25zb2xlLmxvZyhyZXMpOwoJCQkJaWYgKHJlcy5yZXN1bHQgfHwgcmVzLnJlc3VsdCA9PT0gMCkgewoJCQkJCXZhciBibCA9IHJlcy5yZXN1bHQgPyB0cnVlIDogZmFsc2U7CgkJCQkJdGhpcy5zdGF0ZV9jb2xsZWN0ID0gYmw7CgkJCQkJY29uc29sZS5sb2coIuaUtuiXj+eKtuaAge+8miIgKyBibCk7CgkJCQl9CgkJCQllbHNlIGlmKHJlcy5lcnJvcikgewoJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKCQkJCX0KCQkJfSk7CgkJfSwKCSAvKioqKgoJCSAqIOWIhuS6q+eCueWHuwoJCSAqIAoJCSAqICAqLyAKCQl0b1NoYXJlKGUpewoJCQl3aW5kb3cub3BlbihlKTsKCQl9LAoJCS8qKgoJCSAqIOaUueWPmOaUtuiXj+eKtuaAgQoJCSAqLwoJCWNoYW5nZV9jb2xsZWN0KCkgewoJCQl2YXIgdXNlcl9pZCA9IHRoaXMudXNlci51c2VyX2lkOwoKCQkJdmFyIHF1ZXJ5ID0gewoJCQkJc291cmNlX3RhYmxlOiAibm90aWNlX2Fubm91bmNlbWVudCIsCgkJCQlzb3VyY2VfZmllbGQ6ICJub3RpY2VfYW5ub3VuY2VtZW50X2lkIiwKCQkJCXNvdXJjZV9pZDogdGhpcy5vYmpbIm5vdGljZV9hbm5vdW5jZW1lbnRfaWQiXSwKCQkJCXVzZXJfaWQKCQkJfTsKCgkJCS8vIOaUtuiXj+eKtuaAgQoJCQlpZiAodGhpcy5zdGF0ZV9jb2xsZWN0KSB7CgkJCQl0aGlzLnN0YXRlX2NvbGxlY3QgPSBmYWxzZTsKCQkJCXRoaXMuJGdldCgnfi9hcGkvY29sbGVjdC9kZWw/JywgcXVlcnksIChyZXMpID0+IHsKCQkJCQlpZihyZXMucmVzdWx0KXsKCQkJCQkJdGhpcy4kdG9hc3QoIuWPlua2iOaUtuiXjyIpOwoJCQkJCX0KCQkJCQllbHNlIGlmIChyZXMuZXJyb3IpewoJCQkJCQl0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7CgkJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKCQkJCQl9CgkJCQl9KTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMuc3RhdGVfY29sbGVjdCA9IHRydWU7CgkJCQl0aGlzLiRwb3N0KCd+L2FwaS9jb2xsZWN0L2FkZD8nLCBxdWVyeSwgKHJlcykgPT4gewoJCQkJCWlmIChyZXMucmVzdWx0KSB7CgkJCQkJCXRoaXMuJHRvYXN0KCLmlLbol4/miJDlip8iKTsKCQkJCQl9CgkJCQkJZWxzZSBpZiAocmVzLmVycm9yKSB7CgkJCQkJCXRoaXMuJHRvYXN0KHJlcy5lcnJvci5tZXNzYWdlKTsKCQkJCQkJY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwoJCQkJCX0KCQkJCX0pOwoJCQl9OwoJCX0sCgkJLyoqCgkJICog6I635Y+W54K56LWeCgkJICogQHBhcmFtIHtPYmplY3R9IG9iagoJCSAqLwoJCWdldF9wcmFpc2Uob2JqKSB7CgkJCXZhciB1c2VyX2lkID0gdGhpcy51c2VyLnVzZXJfaWQ7CgoJCQl0aGlzLiRnZXQoIn4vYXBpL3ByYWlzZS9jb3VudD8iLCB7CgkJCQlzb3VyY2VfdGFibGU6ICJub3RpY2VfYW5ub3VuY2VtZW50IiwKCQkJCXNvdXJjZV9maWVsZDogIm5vdGljZV9hbm5vdW5jZW1lbnRfaWQiLAoJCQkJc291cmNlX2lkOiBvYmpbIm5vdGljZV9hbm5vdW5jZW1lbnRfaWQiXQoJCQl9LCAocmVzKSA9PiB7CgkJCQlpZiAocmVzLnJlc3VsdCB8fCByZXMucmVzdWx0ID09PSAwKSB7CgkJCQkJdGhpcy5wcmFpc2UgPSByZXMucmVzdWx0OwoJCQkJCWNvbnNvbGUubG9nKCLngrnotZ7mlbDvvJoiICxyZXMucmVzdWx0KTsKCQkJCX0KCQkJCWVsc2UgaWYgKHJlcy5lcnJvcil7CgkJCQkJdGhpcy4kdG9hc3QocmVzLmVycm9yLm1lc3NhZ2UpOwoJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKCQkJCX0KCQkJfSk7CgoJCQl0aGlzLiRnZXQoIn4vYXBpL3ByYWlzZS9jb3VudD8iLCB7CgkJCQlzb3VyY2VfdGFibGU6ICJub3RpY2VfYW5ub3VuY2VtZW50IiwKCQkJCXNvdXJjZV9maWVsZDogIm5vdGljZV9hbm5vdW5jZW1lbnRfaWQiLAoJCQkJc291cmNlX2lkOiBvYmpbIm5vdGljZV9hbm5vdW5jZW1lbnRfaWQiXSwKCQkJCXVzZXJfaWQKCQkJfSwgKHJlcykgPT4gewoJCQkJaWYgKHJlcy5yZXN1bHQgfHwgcmVzLnJlc3VsdCA9PT0gMCkgewoJCQkJCXRoaXMuc3RhdGVfcHJhaXNlID0gcmVzLnJlc3VsdCA/IHRydWUgOiBmYWxzZTsKCQkJCQljb25zb2xlLmxvZygi54K56LWe54q25oCB77yaIiAscmVzLnJlc3VsdCk7CgkJCQl9CgkJCQllbHNlIGlmIChyZXMuZXJyb3IpewoJCQkJCXRoaXMuJHRvYXN0KHJlcy5lcnJvci5tZXNzYWdlKTsKCQkJCQljb25zb2xlLmVycm9yKHJlcy5lcnJvcik7CgkJCQl9CgkJCX0pCgkJfSwKCgkJLyoqCgkJICog5pS55Y+Y54K56LWe5pWwCgkJICovCgkJY2hhbmdlX3ByYWlzZShvYmopIHsKCQkJdmFyIHVzZXJfaWQgPSB0aGlzLnVzZXIudXNlcl9pZDsKCgkJCXZhciBxdWVyeSA9IHsKCQkJCXNvdXJjZV90YWJsZTogIm5vdGljZV9hbm5vdW5jZW1lbnQiLAoJCQkJc291cmNlX2ZpZWxkOiAibm90aWNlX2Fubm91bmNlbWVudF9pZCIsCgkJCQlzb3VyY2VfaWQ6IHRoaXMub2JqWyJub3RpY2VfYW5ub3VuY2VtZW50X2lkIl0sCgkJCQl1c2VyX2lkCgkJCX07CgoJCQl2YXIgX3RoaXMgPSB0aGlzOwoKCQkJLy8g54K56LWe54q25oCBCgkJCWlmICh0aGlzLnN0YXRlX3ByYWlzZSkgewoJCQkJdGhpcy5zdGF0ZV9wcmFpc2UgPSBmYWxzZTsKCQkJCXRoaXMuJGdldCgnfi9hcGkvcHJhaXNlL2RlbD8nLCBxdWVyeSwgKHJlcykgPT4gewoJCQkJCWlmKHJlcy5yZXN1bHQpewoJCQkJCQl2YXIgcHJhaXNlX2xlbiA9IF90aGlzLm9iai5wcmFpc2VfbGVuLTEKCQkJCQkJdGhpcy4kcG9zdCgnfi9hcGkvbm90aWNlX2Fubm91bmNlbWVudC9zZXQ/bm90aWNlX2Fubm91bmNlbWVudF9pZD0nICsgX3RoaXMub2JqWyJub3RpY2VfYW5ub3VuY2VtZW50X2lkIl0sIHsKCQkJCQkJCXByYWlzZV9sZW4KCQkJCQkJfSwgKHJlcykgPT4gewoJCQkJCQkJaWYocmVzLnJlc3VsdCl7CgkJCQkJCQkJY29uc29sZS5sb2coIua3u+WKoOeCuei1nuaVsOeKtuaAge+8miIgLHJlcy5yZXN1bHQpOwoJCQkJCQkJfQoJCQkJCQkJZWxzZSBpZihyZXMuZXJyb3IpewoJCQkJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKCQkJCQkJCX0KCQkJCQkJfSk7CgkJCQkJCXRoaXMuJHRvYXN0KCLlj5bmtojngrnotZ4iKTsKCQkJCQl9CgkJCQkJZWxzZSBpZiAocmVzLmVycm9yKXsKCQkJCQkJdGhpcy4kdG9hc3QocmVzLmVycm9yLm1lc3NhZ2UpOwoJCQkJCQljb25zb2xlLmVycm9yKHJlcy5lcnJvcik7CgkJCQkJfQoJCQkJfSk7CgkJCX0gZWxzZSB7CgkJCQl0aGlzLnN0YXRlX3ByYWlzZSA9IHRydWU7CgkJCQl0aGlzLiRwb3N0KCd+L2FwaS9wcmFpc2UvYWRkPycsIHF1ZXJ5LCAocmVzKSA9PiB7CgkJCQkJaWYgKHJlcy5yZXN1bHQpIHsKCQkJCQkJdmFyIHByYWlzZV9sZW4gPSBfdGhpcy5vYmoucHJhaXNlX2xlbisxCgkJCQkJCXRoaXMuJHBvc3QoJ34vYXBpL25vdGljZV9hbm5vdW5jZW1lbnQvc2V0P25vdGljZV9hbm5vdW5jZW1lbnRfaWQ9JyArIF90aGlzLm9ialsibm90aWNlX2Fubm91bmNlbWVudF9pZCJdLCB7CgkJCQkJCQlwcmFpc2VfbGVuCgkJCQkJCX0sIChyZXMpID0+IHsKCQkJCQkJCWlmKHJlcy5yZXN1bHQpewoJCQkJCQkJCWNvbnNvbGUubG9nKCLmt7vliqDngrnotZ7mlbDnirbmgIHvvJoiICxyZXMucmVzdWx0KTsKCQkJCQkJCX0KCQkJCQkJCWVsc2UgaWYocmVzLmVycm9yKXsKCQkJCQkJCQljb25zb2xlLmVycm9yKHJlcy5lcnJvcik7CgkJCQkJCQl9CgkJCQkJCX0pOwoJCQkJCQl0aGlzLiR0b2FzdCgi54K56LWe5oiQ5YqfIik7CgkJCQkJfQoJCQkJCWVsc2UgaWYgKHJlcy5lcnJvcikgewoJCQkJCQl0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7CgkJCQkJCWNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKCQkJCQl9CgkJCQl9KTsKCQkJfTsKCQl9LAoJfSwKCQoJbW91bnRlZCgpIHsKCQkKCX0sCgkKfQo="},{"version":3,"sources":["details.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA","file":"details.vue","sourceRoot":"src/views/notice_announcement","sourcesContent":["<template>\r\n\t<div class=\"diy_details page_notice_announcement\" id=\"notice_announcement_details\">\r\n\t\t<div class='warp'>\r\n\t\t\t<div class='container'>\r\n\t\t\t\t<div class='row'>\r\n\t\t\t\t\t<div class='col'>\r\n\t\t\t\t\t\t<div class='card_notice_announcement'>\r\n\t\t\t\t\t\t\t<div_notice_announcement :obj=\"obj\"></div_notice_announcement>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport div_notice_announcement from \"@/components/diy/div_notice_announcement.vue\";\r\n\timport mixin from \"@/mixins/page.js\";\r\n\texport default {\r\n\t\tmixins:[mixin],\r\n\t\tcomponents:{\r\n\t\t\tdiv_notice_announcement\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\turl_get_obj: \"~/api/notice_announcement/get_obj?\",\r\n\r\n\t\t\t\tfield: \"notice_announcement_id\",\r\n\r\n\t\t\t\tobj: {\r\n\t\t\t\t},\r\n\r\n\t\t\t\tquery: {\r\n\t\t\t\t\t\"announcement_title\": \"\",\r\n\t\t\t\t\t\"announcement_no\": \"\",\r\n\t\t\t\t\t\"release_time\": \"\",\r\n\t\t\t\t\t\"announcement_content\": \"\",\r\n\t\t\t\t\t\"notice_announcement_id\":0,\r\n\t\t\t\t},\r\n\t\t\t\t// 点赞\r\n\t\t\t\tpraise: 0,\r\n\t\t\t\t// 点赞状态\r\n\t\t\t\tstate_praise: false,\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t/**\r\n\t\t\t * 添加访问量\r\n\t\t\t */\r\n\t\t\tadd_hits(obj) {\r\n\t\t\t\tobj[\"hits\"] = obj[\"hits\"] + 1;\r\n\t\t\t\tvar hits = obj[\"hits\"];\r\n\t\t\t\tthis.$post('~/api/notice_announcement/set?notice_announcement_id=' + obj[\"notice_announcement_id\"], {\r\n\t\t\t\t\thits\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\tconsole.log(\"添加访问量状态：\" ,res.result);\r\n\t\t\t\t\t\tvar body = {\r\n\t\t\t\t\t\t\tsource_table: \"notice_announcement\",\r\n\t\t\t\t\t\t\tsource_field: \"notice_announcement_id\",\r\n\t\t\t\t\t\t\tsource_id: this.obj.notice_announcement_id,\r\n\t\t\t\t\t\t\tuser_id: this.$store.state.user.user_id,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.$post(\"~/api/hits/add?\", body, (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tget_obj_after(json) {\r\n\t\t\t\t// 判断是否获取到数据\r\n\t\t\t\tif (json && json.result && json.result.obj) {\r\n\t\t\t\t\tconsole.log(json.result.obj)\r\n\t\t\t\t\tvar obj = json.result.obj;\r\n\t\t\t\t\tthis.obj = obj\r\n\t\t\t\t\t// 增加点击数\r\n\t\t\t\t\tthis.add_hits(obj);\r\n\t\t\t\t\t// 获取点赞数\r\n\t\t\t\t\tthis.get_praise(obj);\r\n\t\t\t\t\t// 初始化收藏状态\r\n\t\t\t\t\tthis.get_collect(obj);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 初始化收藏状态\r\n\t\t\t * @param {Object} obj\r\n\t\t\t */\r\n\t\t\tget_collect(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"notice_announcement\",\r\n\t\t\t\t\tsource_field: \"notice_announcement_id\",\r\n\t\t\t\t\tsource_id: obj[\"notice_announcement_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.$get('~/api/collect/count?', query, (res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tvar bl = res.result ? true : false;\r\n\t\t\t\t\t\tthis.state_collect = bl;\r\n\t\t\t\t\t\tconsole.log(\"收藏状态：\" + bl);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(res.error) {\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t /****\r\n\t\t\t * 分享点击\r\n\t\t\t * \r\n\t\t\t *  */ \r\n\t\t\ttoShare(e){\r\n\t\t\t\twindow.open(e);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 改变收藏状态\r\n\t\t\t */\r\n\t\t\tchange_collect() {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"notice_announcement\",\r\n\t\t\t\t\tsource_field: \"notice_announcement_id\",\r\n\t\t\t\t\tsource_id: this.obj[\"notice_announcement_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// 收藏状态\r\n\t\t\t\tif (this.state_collect) {\r\n\t\t\t\t\tthis.state_collect = false;\r\n\t\t\t\t\tthis.$get('~/api/collect/del?', query, (res) => {\r\n\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\tthis.$toast(\"取消收藏\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state_collect = true;\r\n\t\t\t\t\tthis.$post('~/api/collect/add?', query, (res) => {\r\n\t\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\t\tthis.$toast(\"收藏成功\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error) {\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取点赞\r\n\t\t\t * @param {Object} obj\r\n\t\t\t */\r\n\t\t\tget_praise(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tthis.$get(\"~/api/praise/count?\", {\r\n\t\t\t\t\tsource_table: \"notice_announcement\",\r\n\t\t\t\t\tsource_field: \"notice_announcement_id\",\r\n\t\t\t\t\tsource_id: obj[\"notice_announcement_id\"]\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tthis.praise = res.result;\r\n\t\t\t\t\t\tconsole.log(\"点赞数：\" ,res.result);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$get(\"~/api/praise/count?\", {\r\n\t\t\t\t\tsource_table: \"notice_announcement\",\r\n\t\t\t\t\tsource_field: \"notice_announcement_id\",\r\n\t\t\t\t\tsource_id: obj[\"notice_announcement_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tthis.state_praise = res.result ? true : false;\r\n\t\t\t\t\t\tconsole.log(\"点赞状态：\" ,res.result);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 改变点赞数\r\n\t\t\t */\r\n\t\t\tchange_praise(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"notice_announcement\",\r\n\t\t\t\t\tsource_field: \"notice_announcement_id\",\r\n\t\t\t\t\tsource_id: this.obj[\"notice_announcement_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar _this = this;\r\n\r\n\t\t\t\t// 点赞状态\r\n\t\t\t\tif (this.state_praise) {\r\n\t\t\t\t\tthis.state_praise = false;\r\n\t\t\t\t\tthis.$get('~/api/praise/del?', query, (res) => {\r\n\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\tvar praise_len = _this.obj.praise_len-1\r\n\t\t\t\t\t\t\tthis.$post('~/api/notice_announcement/set?notice_announcement_id=' + _this.obj[\"notice_announcement_id\"], {\r\n\t\t\t\t\t\t\t\tpraise_len\r\n\t\t\t\t\t\t\t}, (res) => {\r\n\t\t\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"添加点赞数状态：\" ,res.result);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$toast(\"取消点赞\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state_praise = true;\r\n\t\t\t\t\tthis.$post('~/api/praise/add?', query, (res) => {\r\n\t\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\t\tvar praise_len = _this.obj.praise_len+1\r\n\t\t\t\t\t\t\tthis.$post('~/api/notice_announcement/set?notice_announcement_id=' + _this.obj[\"notice_announcement_id\"], {\r\n\t\t\t\t\t\t\t\tpraise_len\r\n\t\t\t\t\t\t\t}, (res) => {\r\n\t\t\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"添加点赞数状态：\" ,res.result);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$toast(\"点赞成功\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error) {\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t},\r\n\t\t\r\n\t\tmounted() {\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t}\r\n</script>\r\n\r\n<style>\r\n.qecode {\r\n  display: flex;\r\n  align-content: center;\r\n  width: 270px;\r\n  background: white;\r\n  position: absolute;\r\n  left: 20%;\r\n  top: 20px;\r\n  z-index: 999;\r\n}\r\n.qecodeImg {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-content: center;\r\n  text-align: center;\r\n  padding-top: 10px;\r\n  margin: 0 auto;\r\n}\r\n.btn_share{\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttop: 15px;\r\n\tbackground: rgb(240, 238, 238);\r\n\tborder: 1px solid #ccc;\r\n\theight: 38px;\r\n\tmargin-left: 10px;\r\n\tpadding: 3px 10px;\r\n\tcursor: pointer;\r\n\toverflow: hidden;\r\n\tborder-radius: 5px;\r\n}\r\n.btn_share_icon{\r\n\twidth: 30px;\r\n\theight: 28px;\r\n\tfloat: left;\r\n\tmargin-right: 10px;\r\n}\r\n.share_box{\r\n\tdisplay: none;\r\n\tfloat: left;\r\n}\r\n.share_box img{\r\n\twidth: 30px;\r\n\theight: 28px;\r\n\tmargin-right: 10px;\r\n}\r\n.btn_share:hover .share_box{\r\n\tdisplay: block;\r\n}\r\n</style>\r\n"]}]}