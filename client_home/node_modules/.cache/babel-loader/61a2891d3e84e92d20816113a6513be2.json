{"remainingRequest":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\mixins\\page.js","dependencies":[{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\mixins\\page.js","mtime":1710326153515},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1dvcmtTcGFjZS9sb2NhbENvZGUvQ1MyMTExODAvY2xpZW50X2hvbWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgb3BlbnMgPSAkLmRiLmdldCgnb3BlbnMnKSB8fCBbMF07IC8vIHZhciBvcGVuc19zdHIgPSA7CiAgICAvLyBpZihvcGVuc19zdHIpewogICAgLy8gCW9wZW5zID0gb3BlbnNfc3RyOwogICAgLy8gfQoKICAgIHJldHVybiB7CiAgICAgIC8vIOagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIC8vIOWcsOWdgAogICAgICB1cmw6ICIiLAogICAgICAvLyDmt7vliqDlnLDlnYAKICAgICAgdXJsX2FkZDogIiIsCiAgICAgIC8vIOWIoOmZpOWcsOWdgAogICAgICB1cmxfZGVsOiAiIiwKICAgICAgLy8g5L+u5pS55Zyw5Z2ACiAgICAgIHVybF9zZXQ6ICIiLAogICAgICAvLyDmn6Xor6Llr7nosaHlnLDlnYAKICAgICAgdXJsX2dldF9vYmo6ICIiLAogICAgICAvLyDmn6Xor6LliJfooajlnLDlnYAKICAgICAgdXJsX2dldF9saXN0OiAiIiwKICAgICAgLy8g6KGo5Y2V5o+Q5Lqk5Zyw5Z2ACiAgICAgIHVybF9zdWJtaXQ6ICIiLAogICAgICAvLyDkuIrkvKDmj5DkuqTlnLDlnYAKICAgICAgdXJsX3VwbG9hZDogIiIsCiAgICAgIC8vIOWvvOWFpeaVsOaNruWcsOWdgAogICAgICB1cmxfaW1wb3J0OiAiIiwKICAgICAgLy8g5a+85Ye65pWw5o2u5Zyw5Z2ACiAgICAgIHVybF9leHBvcnQ6ICIiLAogICAgICAvLyDojrflj5bnmoTliJfooagKICAgICAgbGlzdDogW10sCiAgICAgIC8vIOinhuWbvibpqozor4HmqKHlnosKICAgICAgdm06IHt9LAogICAgICAvLyDmj5DkuqTooajljZUKICAgICAgZm9ybToge30sCiAgICAgIC8vIOe6v+S4iuWvueixoQogICAgICBvYmo6IHt9LAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnk6IHsvLyDlvZPliY3pobXpnaIKICAgICAgICAvLyBwYWdlOiAxLAogICAgICAgIC8vIOmhtemdouWkp+WwjwogICAgICAgIC8vIHNpemU6IDEwCiAgICAgIH0sCiAgICAgIC8vIOmFjee9rgogICAgICBjb25maWc6IHsKICAgICAgICAvLyDpu5jorqTlvZPliY3pobXpnaIKICAgICAgICBwYWdlOiAxLAogICAgICAgIC8vIOm7mOiupOmhtemdouWkp+WwjwogICAgICAgIHNpemU6IDEwCiAgICAgIH0sCiAgICAgIC8vIOWKoOi9vei/m+W6pgogICAgICBsb2FkaW5nOiAwLAogICAgICAvLyDmmL7npLrov5vluqYKICAgICAgc2hvd2luZzogMCwKICAgICAgLy8g5o+Q5Lqk6L+b5bqmCiAgICAgIHBvc3Rpbmc6IDAsCiAgICAgIC8vIOmAieS4remhuQogICAgICBzZWxlY3Q6ICQuZGIuZ2V0KCdzZWxlY3QnKSwKICAgICAgLy8g5p+l6K+i57uT5p6c5Yy56YWN5pWw57uf6K6hCiAgICAgIGNvdW50OiAwLAogICAgICAvLyDmmL7npLrpmpDol4/vvIx0cnVl5pi+56S677yMZmFsc2XpmpDol48KICAgICAgc2hvdzogZmFsc2UsCiAgICAgIC8vIOWTjeW6lOaIkOWKn+aIluWksei0pQogICAgICBibDogZmFsc2UsCiAgICAgIC8vIOaYvuekuuaWueW8jwogICAgICBkaXNwbGF5OiAiIiwKICAgICAgLy8g5YWz6ZSu5a2X5q61CiAgICAgIGZpZWxkOiAiIiwKICAgICAgLy8g5ZON5bqU5o+Q56S6CiAgICAgIHRpcDogIiIsCiAgICAgIC8vIOm7mOiupOivt+axguaWueW8jwogICAgICBtb2RlOiAibGlzdCIsCiAgICAgIC8vIOa4hemZpOWIl+ihqAogICAgICBjbGVhcl9saXN0OiB0cnVlLAogICAgICAvLyDlk43lupTplJnor6/mtojmga8KICAgICAgbWVzc2FnZTogIiIsCiAgICAgIC8vIOmAieS4rembhgogICAgICBzZWxlY3RzOiAiIiwKICAgICAgLy8g5b2T5YmN6aG1LCDnlKjkuo7ot7PovazpobXpnaIKICAgICAgcGFnZV9ub3c6IDEsCiAgICAgIC8vIOmAieaLqemhueeKtuaAgQogICAgICBzZWxlY3Rfc3RhdGU6IGZhbHNlLAogICAgICAvLyDmjpLluo/plK7vvIznlKjkuo7mi5bmi73kv67mlLnmjpLluo8KICAgICAgc29ydF9rZXk6ICJkaXNwbGF5IiwKICAgICAgLy8g5L+u5pS55p2h5Lu2CiAgICAgIHF1ZXJ5X3NldDoge30sCiAgICAgIC8vIOWxleW8gOeahOS4iue6p2lkCiAgICAgIG9wZW5zOiBvcGVucywKICAgICAgLy8g5LiK57qnSUQ6IGZhdGhlcl9pZAogICAgICBmYXRoZXJfaWQ6ICJmYXRoZXJfaWQiLAogICAgICAvLyDpgInkuK3pm4blkIgKICAgICAgc2VsZWN0aW9uOiBbXSwKICAgICAgLy8g55m75b2V5p2D6ZmQCiAgICAgIG9hdXRoOiB7CiAgICAgICAgInNpZ25JbiI6IGZhbHNlLAogICAgICAgICJnbSI6IDAsCiAgICAgICAgInVzZXJfYWRtaW4iOiBbXQogICAgICB9LAogICAgICAvLyDnmbvlvZXnlKjmiLcKICAgICAgdXNlcjoge30sCiAgICAgIC8vIOS/ruaUueaPkOekugogICAgICB0aXBfc2hvdzogdHJ1ZSwKICAgICAgLy8g5omA5Zyo55So5oi357uECiAgICAgIHVzZXJfZ3JvdXA6ICIiLAogICAgICAvLyDpppbmrKHov5vmnaXkuI3orr7nva7lnLDlnYDmoI/lvIDlhbPlj5jph48KICAgICAgdHVybk9mZjogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5LqL5Lu2566h55CGLCDnlKjkuo7nrqHnkIblh73mlbANCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSDkuovku7blkI0NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0xIOWPguaVsDENCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0yIOWPguaVsDINCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0zIOWPguaVsDMNCiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IOi/lOWbnuS6i+S7tueJueWumuWAvA0KICAgICAqLwogICAgZXZlbnRzOiBmdW5jdGlvbiBldmVudHMobmFtZSwgcGFyYW0xLCBwYXJhbTIsIHBhcmFtMykgewogICAgICBpZiAodGhpc1tuYW1lXSkgewogICAgICAgIGlmIChwYXJhbTMpIHsKICAgICAgICAgIHJldHVybiB0aGlzW25hbWVdKHBhcmFtMSwgcGFyYW0yLCBwYXJhbTMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdGhpc1tuYW1lXShwYXJhbTEsIHBhcmFtMik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWbnuiwg+WHveaVsCjkuK3mjqcpDQogICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUg5Ye95pWw5ZCNDQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtMQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbTINCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0zDQogICAgICogQHJldHVybiB7T2JqZWN0fSDku7vmhI/lgLwNCiAgICAgKi8KICAgIGZ1bmM6IGZ1bmN0aW9uIGZ1bmMobmFtZSwgcGFyYW0xLCBwYXJhbTIsIHBhcmFtMykgewogICAgICB2YXIgZiA9IHRoaXNbbmFtZV07CgogICAgICBpZiAoZikgewogICAgICAgIGlmIChwYXJhbTEgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmV0dXJuIGYoKTsKICAgICAgICB9IGVsc2UgaWYgKHBhcmFtMiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICByZXR1cm4gZihwYXJhbTEpOwogICAgICAgIH0gZWxzZSBpZiAocGFyYW0zID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJldHVybiBmKHBhcmFtMSwgcGFyYW0yKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGYocGFyYW0xLCBwYXJhbTIsIHBhcmFtMyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDmt7vliqDmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g6KaB5re75Yqg55qE5pWw5o2uDQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIGFkZDogZnVuY3Rpb24gYWRkKHBhcmFtLCBmdW5jKSB7CiAgICAgIGlmICghcGFyYW0pIHsKICAgICAgICBwYXJhbSA9IHRoaXMub2JqOwogICAgICB9CgogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygiYWRkX2JlZm9yZSIsIE9iamVjdC5hc3NpZ24oe30sIHBhcmFtKSkgfHwgcGFyYW07CiAgICAgIHZhciBtc2cgPSB0aGlzLmV2ZW50cygiYWRkX2NoZWNrIiwgcG0pOwogICAgICB2YXIgcmV0OwoKICAgICAgaWYgKCFtc2cpIHsKICAgICAgICByZXQgPSB0aGlzLmV2ZW50cygiYWRkX21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXQ7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDliKDpmaTmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g5p+l6K+i5p2h5Lu2DQogICAgICovCiAgICBkZWw6IGZ1bmN0aW9uIGRlbChwYXJhbSwgZnVuYykgewogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLnF1ZXJ5OwogICAgICB9CgogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygiZGVsX2JlZm9yZSIsIE9iamVjdC5hc3NpZ24oe30sIHBhcmFtKSkgfHwgcGFyYW07CiAgICAgIHZhciBtc2cgPSB0aGlzLmV2ZW50cygiZGVsX2NoZWNrIiwgcG0pOwogICAgICB2YXIgcmV0OwoKICAgICAgaWYgKCFtc2cpIHsKICAgICAgICByZXQgPSB0aGlzLmV2ZW50cygiZGVsX21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXQ7CiAgICB9LAogICAgZGVsX3Nob3c6IGZ1bmN0aW9uIGRlbF9zaG93KG8sIGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAkLmNvbmZpcm0oJ+WIoOmZpOWQjuWwhuaXoOazleWbnuWkjSE8YnIvPuaYr+WQpuehruWumuimgeWIoOmZpD8nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ+ehruWumuWIoOmZpCEnKTsKICAgICAgICB2YXIgcXVlcnkgPSB7fTsKICAgICAgICBxdWVyeVtpZF0gPSBvW2lkXTsKCiAgICAgICAgX3RoaXMuZGVsKHF1ZXJ5LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5saXN0LmRlbChxdWVyeSk7CgogICAgICAgICAgX3RoaXMuY291bnQgLT0gMTsKICAgICAgICB9KTsKICAgICAgfSwgZnVuY3Rpb24gKCkgey8vIGNvbnNvbGUubG9nKCflj5bmtojliKDpmaQhJykKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDkv67mlLnmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g5L+u5pS56aG5DQogICAgICogQHBhcmFtIHtTdHJpbmd9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5jbHVkZVplcm8g5piv5ZCm5YyF5ousMA0KICAgICAqLwogICAgc2V0OiBmdW5jdGlvbiBzZXQocGFyYW0sIHF1ZXJ5LCBmdW5jLCBpbmNsdWRlWmVybykgewogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLm9iajsKICAgICAgfQoKICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgdGhpcy5xdWVyeV9zZXQgPSBxdWVyeTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnF1ZXJ5X3NldCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucXVlcnkpOwogICAgICB9CgogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygic2V0X2JlZm9yZSIsIE9iamVjdC5hc3NpZ24oe30sIHBhcmFtKSwgaW5jbHVkZVplcm8pIHx8IHBhcmFtOwogICAgICB2YXIgbXNnID0gdGhpcy5ldmVudHMoInNldF9jaGVjayIsIHBtKTsKICAgICAgdmFyIHJldDsKCiAgICAgIGlmICghbXNnKSB7CiAgICAgICAgcmV0ID0gdGhpcy5ldmVudHMoInNldF9tYWluIiwgcG0sIGZ1bmMpOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfSwKCiAgICAvKioNCiAgICAgKiDkv67mlLnliY3kuovku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0NCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGluY2x1ZGVaZXJvIOaYr+WQpuWIoOmZpDDlgLzpobkNCiAgICAgKiBAcGFyYW0ge09iamVjdH0g6L+U5Zue5paw55qE5Y+C5pWwDQogICAgICovCiAgICBzZXRfYmVmb3JlOiBmdW5jdGlvbiBzZXRfYmVmb3JlKHBhcmFtLCBpbmNsdWRlWmVybykgewogICAgICB2YXIgcG0gPSAkLmRlbGV0ZShwYXJhbSwgaW5jbHVkZVplcm8pOwoKICAgICAgZm9yICh2YXIgayBpbiBwbSkgewogICAgICAgIGlmIChrLnRvTG9jYWxlTG93ZXJDYXNlKCkuaW5kZXhPZigndGltZScpICE9PSAtMSAmJiBwbVtrXS5pbmRleE9mKCdUJykgIT09IC0xKSB7CiAgICAgICAgICBwbVtrXSA9IG5ldyBEYXRlKHBtW2tdKS50b1N0cigneXl5eS1NTS1kZCAwMDowMDowMCcpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHBtOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmibnph4/kv67mlLkNCiAgICAgKi8KICAgIGJhdGNoU2V0OiBmdW5jdGlvbiBiYXRjaFNldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICQuY29uZmlybSgn5om56YeP5L+u5pS55pWw5o2u5peg5rOV5oy95ZuePGJyLz7noa7lrpropoHmk43kvZzlkJc/JywgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBxID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMucXVlcnksIF90aGlzLnF1ZXJ5X3NldCk7CiAgICAgICAgcVtfdGhpcy5maWVsZF0gPSBfdGhpcy5zZWxlY3RzOwogICAgICAgIGRlbGV0ZSBxLnBhZ2U7CiAgICAgICAgZGVsZXRlIHEuc2l6ZTsKICAgICAgICBkZWxldGUgcS5vcmRlcmJ5OwoKICAgICAgICBfdGhpcy5zZXQoX3RoaXMuZm9ybSwgcSwgZnVuY3Rpb24gKGpzb24pIHsKICAgICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgICBfdGhpcy5zaG93ID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpcy5nZXQoKTsKICAgICAgICAgIH0KICAgICAgICB9LCB0cnVlKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDmn6Xor6LlpJrmnaHmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIGdldF9saXN0OiBmdW5jdGlvbiBnZXRfbGlzdChwYXJhbSwgZnVuYykgewogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLnF1ZXJ5OwogICAgICB9CgogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygiZ2V0X2xpc3RfYmVmb3JlIiwgT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0pKSB8fCBwYXJhbTsKICAgICAgdmFyIG1zZyA9IHRoaXMuZXZlbnRzKCJnZXRfbGlzdF9jaGVjayIsIHBtKTsKICAgICAgdmFyIHJldDsKCiAgICAgIGlmICghbXNnKSB7CiAgICAgICAgcmV0ID0gdGhpcy5ldmVudHMoImdldF9saXN0X21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXQ7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDmn6Xor6LkuIDmnaHmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAgICogQGZ1bmMge0Z1bmN0aW9ufSDlm57osIPlh73mlbANCiAgICAgKi8KICAgIGdldF9vYmo6IGZ1bmN0aW9uIGdldF9vYmoocGFyYW0sIGZ1bmMpIHsKICAgICAgLy8gY29uc29sZS5sb2coIuiOt+WPluWvueixoSIsIHBhcmFtKQogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLnF1ZXJ5OwogICAgICB9CgogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygiZ2V0X29ial9iZWZvcmUiLCBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSkpIHx8IHBhcmFtOwogICAgICB2YXIgbXNnID0gdGhpcy5ldmVudHMoImdldF9vYmpfY2hlY2siLCBwbSk7CiAgICAgIHZhciByZXQ7CgogICAgICBpZiAoIW1zZykgewogICAgICAgIHJldCA9IHRoaXMuZXZlbnRzKCJnZXRfb2JqX21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0gZWxzZSBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZyhtc2cpOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmnaHku7bmjpLluo8NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gZnVuYw0KICAgICAqLwogICAgc29ydDogZnVuY3Rpb24gc29ydChwYXJhbSwgZnVuYykgewogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygic29ydF9iZWZvcmUiLCBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSkpIHx8IHBhcmFtOwogICAgICB2YXIgbXNnID0gdGhpcy5ldmVudHMoInNvcnRfY2hlY2siLCBwbSk7CiAgICAgIHZhciByZXQ7CgogICAgICBpZiAoIW1zZykgewogICAgICAgIHJldCA9IHRoaXMuZXZlbnRzKCJzb3J0X21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXQ7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOajgOa1i+aOiOadgyDojrflj5bmjojmnYPvvIzmnInmnYPpmZDlkI7lm57osIPlh73mlbANCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgY2hlY2tfYXV0aDogZnVuY3Rpb24gY2hlY2tfYXV0aChmdW5jKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB0b2tlbiA9IHRoaXMudXNlci50b2tlbjsKCiAgICAgIGlmICghdG9rZW4pIHsKICAgICAgICB0b2tlbiA9ICQuZGIuZ2V0KCJ0b2tlbiIpOwogICAgICB9CgogICAgICBpZiAodG9rZW4pIHsKICAgICAgICBjb25zb2xlLmxvZygi6ZyA6KaB55m75b2V77yM5bm25pyJ55m75b2V5Yet6K+BIik7CiAgICAgICAgdGhpcy4kZ2V0X3VzZXIoZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgIF90aGlzMi51c2VyID0gdXNlcjsKICAgICAgICAgIF90aGlzMi51c2VyX2dyb3VwID0gdXNlci51c2VyX2dyb3VwOwogICAgICAgICAgdmFyIHVzZXJfZ3JvdXAgPSAi5ri45a6iIjsKCiAgICAgICAgICBpZiAodXNlci51c2VyX2dyb3VwKSB7CiAgICAgICAgICAgIHVzZXJfZ3JvdXAgPSB1c2VyLnVzZXJfZ3JvdXA7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLiRnZXRfYXV0aCh1c2VyX2dyb3VwKTsKCiAgICAgICAgICBjb25zb2xlLmxvZygidG9rZW4iLCB0b2tlbiwgInVzZXJfZ3JvdXAiLCB1c2VyX2dyb3VwKTsKICAgICAgICAgIF90aGlzMi51c2VyLnRva2VuID0gdG9rZW47CgogICAgICAgICAgaWYgKF90aGlzMi5vYXV0aC5zaWduSW4pIHsKICAgICAgICAgICAgaWYgKF90aGlzMi51c2VyLnRva2VuKSB7CiAgICAgICAgICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICAgICAgICAgIGZ1bmMoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBwYXRoOiAiL2FjY291bnQvbG9naW4iCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChmdW5jKSB7CiAgICAgICAgICAgICAgZnVuYygpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5vYXV0aC5zaWduSW4pIHsKICAgICAgICBjb25zb2xlLmxvZygi6ZyA6KaB55m75b2V77yM5bm25pyq55m75b2VIik7CiAgICAgICAgdGhpcy4kZ2V0X2F1dGgoIua4uOWuoiIpOwoKICAgICAgICBpZiAodGhpcy51c2VyLnRva2VuKSB7CiAgICAgICAgICBpZiAoZnVuYykgewogICAgICAgICAgICBmdW5jKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogIi9hY2NvdW50L2xvZ2luIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCLkuI3pnIDopoHnmbvlvZUiKTsKICAgICAgICB0aGlzLiRnZXRfYXV0aCgi5ri45a6iIik7CgogICAgICAgIGlmIChmdW5jKSB7CiAgICAgICAgICBmdW5jKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIneWni+WMlg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSDlj4LmlbANCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgaW5pdDogZnVuY3Rpb24gaW5pdChwYXJhbSwgZnVuYykgewogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygiaW5pdF9iZWZvcmUiLCBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSkpIHx8IHBhcmFtOwogICAgICB2YXIgbXNnID0gdGhpcy5ldmVudHMoImluaXRfY2hlY2siLCBwbSk7CiAgICAgIHZhciByZXQ7CgogICAgICBpZiAoIW1zZykgewogICAgICAgIHJldCA9IHRoaXMuZXZlbnRzKCJpbml0X21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0gZWxzZSBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCgogICAgLyoqDQogICAgICog5Yid5aeL5YyW5YmN5Ye95pWwDQogICAgICovCiAgICBpbml0X2JlZm9yZTogZnVuY3Rpb24gaW5pdF9iZWZvcmUocXVlcnkpIHsKICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgIHF1ZXJ5ID0gdGhpcy5jb25maWc7CiAgICAgIH0KCiAgICAgIHJldHVybiBxdWVyeTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Yid5aeL5YyWDQogICAgICovCiAgICBpbml0X21haW46IGZ1bmN0aW9uIGluaXRfbWFpbihxdWVyeSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgJC5wdXNoKHRoaXMucXVlcnksIHF1ZXJ5KTsKCiAgICAgIF90aGlzLmluaXRfYWZ0ZXIoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmdldChfdGhpcy5xdWVyeSk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliJ3lp4vljJblkI7lh73mlbANCiAgICAgKi8KICAgIGluaXRfYWZ0ZXI6IGZ1bmN0aW9uIGluaXRfYWZ0ZXIoZnVuYykgewogICAgICBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDkuIrkvKDkuovku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g5o+Q5Lqk5Y+C5pWwDQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDov5Tlm57lh73mlbANCiAgICAgKi8KICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKHBhcmFtLCBmdW5jKSB7CiAgICAgIHZhciBwbSA9IHRoaXMuZXZlbnRzKCJ1cGxvYWRfYmVmb3JlIiwgT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0pKSB8fCBwYXJhbTsKICAgICAgdmFyIG1zZyA9IHRoaXMuZXZlbnRzKCJ1cGxvYWRfY2hlY2siLCBwbSk7CiAgICAgIHZhciByZXQ7CgogICAgICBpZiAobXNnKSB7CiAgICAgICAgdGhpcy4kdG9hc3QobXNnLCAnZGFuZ2VyJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0ID0gdGhpcy5ldmVudHMoInVwbG9hZF9tYWluIiwgcG0sIGZ1bmMpOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5re75Yqg5pWw5o2uDQogICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIOimgea3u+WKoOeahOaVsOaNrg0KICAgICAqLwogICAgYWRkX21haW46IGZ1bmN0aW9uIGFkZF9tYWluKHZhbHVlLCBmdW5jKSB7CiAgICAgIHZhciB1cmwgPSB0aGlzLnVybCA/IHRoaXMudXJsICsgIm1ldGhvZD1hZGQiIDogdGhpcy51cmxfYWRkOwoKICAgICAgaWYgKCF1cmwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRwb3N0KHVybCwgdmFsdWUsIGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgX3RoaXMuZXZlbnRzKCJhZGRfYWZ0ZXIiLCBqc29uLCBmdW5jKTsKCiAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoanNvbi5yZXN1bHQudGlwLCBqc29uLnJlc3VsdC5ibCA/ICdzdWNjZXNzJyA6ICdkYW5nZXInKTsKICAgICAgICB9IGVsc2UgaWYgKGpzb24uZXJyb3IpIHsKICAgICAgICAgIF90aGlzLiR0b2FzdChqc29uLmVycm9yLm1lc3NhZ2UsICdkYW5nZXInKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHRvYXN0KCfmt7vliqDlpLHotKUhIOWOn+WboDrmmK/mnI3liqHlmajov57mjqXlpLHotKUhJywgImRhbmdlciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDliKDpmaTmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDliKDpmaTlm57osIPlh73mlbDlh73mlbANCiAgICAgKi8KICAgIGRlbF9tYWluOiBmdW5jdGlvbiBkZWxfbWFpbihxdWVyeSwgZnVuYykgewogICAgICB2YXIgdXJsID0gdGhpcy51cmwgPyB0aGlzLnVybCArICJtZXRob2Q9ZGVsIiA6IHRoaXMudXJsX2RlbDsKCiAgICAgIGlmICghdXJsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kZ2V0KHVybCwgcXVlcnksIGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgX3RoaXMuZXZlbnRzKCJkZWxfYWZ0ZXIiLCBqc29uLCBmdW5jKTsKCiAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoanNvbi5yZXN1bHQudGlwLCBqc29uLnJlc3VsdC5ibCA/ICdzdWNjZXNzJyA6ICdkYW5nZXInKTsKICAgICAgICB9IGVsc2UgaWYgKGpzb24uZXJyb3IpIHsKICAgICAgICAgIF90aGlzLiR0b2FzdChqc29uLmVycm9yLm1lc3NhZ2UsICdkYW5nZXInKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHRvYXN0KCfliKDpmaTlpLHotKUhIOWOn+WboDrmmK/mnI3liqHlmajov57mjqXlpLHotKUhJywgImRhbmdlciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIoOmZpOS5i+WQjuS6i+S7tg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIOi/lOWbnueahOe7k+aenA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgZGVsX2FmdGVyOiBmdW5jdGlvbiBkZWxfYWZ0ZXIoanNvbiwgZnVuYykgewogICAgICBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5L+u5pS55pWw5o2uDQogICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIOimgeS/ruaUueeahOaVsOaNrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSDkv67mlLnpobkNCiAgICAgKi8KICAgIHNldF9tYWluOiBmdW5jdGlvbiBzZXRfbWFpbih2YWx1ZSwgZnVuYykgewogICAgICB2YXIgdXJsID0gdGhpcy51cmwgPyB0aGlzLnVybCArICJtZXRob2Q9c2V0IiA6IHRoaXMudXJsX3NldDsKCiAgICAgIGlmICghdXJsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnF1ZXJ5X3NldCB8fCBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5X3NldCkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5xdWVyeV9zZXQgPSB0aGlzLnF1ZXJ5OwogICAgICB9CgogICAgICB0aGlzLiRwb3N0KHRoaXMudG9VcmwodGhpcy5xdWVyeV9zZXQsIHVybCksIHZhbHVlLCBmdW5jdGlvbiAoanNvbiwgc3RhdHVzKSB7CiAgICAgICAgX3RoaXMuZXZlbnRzKCJzZXRfYWZ0ZXIiLCBqc29uLCBmdW5jKTsKCiAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoJ+abtOaWsOaIkOWKn++8gScsICdzdWNjZXNzJyk7CiAgICAgICAgfSBlbHNlIGlmIChqc29uLmVycm9yKSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoanNvbi5lcnJvci5tZXNzYWdlLCAnZGFuZ2VyJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiR0b2FzdCgi5pyN5Yqh5Zmo6L+e5o6l5aSx6LSl77yBIiwgImRhbmdlciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOS/ruaUueaIkOWKn+aXtuaJp+ihjA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIOe7k+aenA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgc2V0X2FmdGVyOiBmdW5jdGlvbiBzZXRfYWZ0ZXIoanNvbiwgZnVuYykgewogICAgICBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoanNvbik7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouaVsOaNrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6Llj4LmlbANCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgZ2V0OiBmdW5jdGlvbiBnZXQocXVlcnksIGZ1bmMpIHsKICAgICAgdGhpcy5nZXRfbWFpbihxdWVyeSwgZnVuYyk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDmn6Xor6LmlbDmja4o5Li756iL5bqPKQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6Llj4LmlbANCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgZ2V0X21haW46IGZ1bmN0aW9uIGdldF9tYWluKHF1ZXJ5LCBmdW5jKSB7CiAgICAgIHZhciB1cmwgPSB0aGlzLnVybF9nZXRfb2JqID8gdGhpcy51cmxfZ2V0X29iaiA6IHRoaXMudXJsOwoKICAgICAgaWYgKHVybCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHRoaXMuZ2V0X29iaihxdWVyeSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuZ2V0X2NyZWF0ZShxdWVyeSwgZnVuYyk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZXRfY3JlYXRlKHF1ZXJ5LCBmdW5jKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDpqozor4Hor7fmsYINCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g6K+35rGC5Y+C5pWwDQogICAgICovCiAgICBnZXRfb2JqX2NoZWNrOiBmdW5jdGlvbiBnZXRfb2JqX2NoZWNrKHBhcmFtKSB7CiAgICAgIHZhciBibCA9IGZhbHNlOwoKICAgICAgZm9yICh2YXIgayBpbiBwYXJhbSkgewogICAgICAgIGlmIChwYXJhbVtrXSkgewogICAgICAgICAgYmwgPSB0cnVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICA7CiAgICAgIH0KCiAgICAgIGlmIChibCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAi57y65bCR5p+l6K+i5p2h5Lu2IjsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5p+l6K+i5LiA5p2h5pWw5o2uKOS4u+eoi+W6jykNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIGdldF9vYmpfbWFpbjogZnVuY3Rpb24gZ2V0X29ial9tYWluKHF1ZXJ5LCBmdW5jKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJnZXRfb2JqX21haW4iKTsKICAgICAgdmFyIHVybCA9IHRoaXMudXJsX2dldF9vYmogPyB0aGlzLnVybF9nZXRfb2JqIDogdGhpcy51cmwgKyAibWV0aG9kPWdldF9vYmoiOwoKICAgICAgaWYgKCF1cmwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRnZXQodGhpcy50b1VybChxdWVyeSwgdXJsKSwgbnVsbCwgZnVuY3Rpb24gKGpzb24sIHN0YXR1cykgewogICAgICAgIF90aGlzLmV2ZW50cygiZ2V0X29ial9hZnRlciIsIGpzb24sIGZ1bmMpOwoKICAgICAgICB2YXIgcmVzID0ganNvbi5yZXN1bHQ7CgogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIHZhciBvYmo7CgogICAgICAgICAgaWYgKHJlcy5vYmopIHsKICAgICAgICAgICAgb2JqID0gcmVzLm9iajsKICAgICAgICAgICAgZGVsZXRlIHJlcy5vYmo7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgbGlzdCA9IHJlcy5saXN0OwoKICAgICAgICAgICAgaWYgKGxpc3QgJiYgbGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgb2JqID0gbGlzdFswXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBvYmogPSByZXM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAob2JqKSB7CiAgICAgICAgICAgIGlmICghX3RoaXMub2JqIHx8IE9iamVjdC5rZXlzKF90aGlzLm9iaikubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgX3RoaXMub2JqID0gb2JqOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICQucHVzaChfdGhpcy5vYmosIG9iaik7CiAgICAgICAgICAgIH0gLy8KICAgICAgICAgICAgLy8gX3RoaXMuJGNoYW5nZVRpbWUoX3RoaXMub2JqKTsKCgogICAgICAgICAgICBpZiAoIV90aGlzLmZvcm0gfHwgT2JqZWN0LmtleXMoX3RoaXMuZm9ybSkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgX3RoaXMuZm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzLm9iaik7CiAgICAgICAgICAgICAgdmFyIGZvcm0gPSAkLmRiLmdldCgiZm9ybSIpOwoKICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoX3RoaXMuZm9ybSkubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgJC5wdXNoKF90aGlzLmZvcm0sIGZvcm0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAkLnB1c2goX3RoaXMuZm9ybSwgT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMub2JqKSk7CiAgICAgICAgICAgICAgdmFyIGZvcm0gPSAkLmRiLmdldCgiZm9ybSIpOwoKICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoX3RoaXMuZm9ybSkubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgJC5wdXNoKF90aGlzLmZvcm0sIGZvcm0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoanNvbi5lcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coanNvbi5lcnJvci5tZXNzYWdlKTsKICAgICAgICB9IGVsc2Ugey8vIF90aGlzLiR0b2FzdCgi5pyN5Yqh5Zmo6L+e5o6l5aSx6LSl77yBIiwgImRhbmdlciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDojrflj5bliLDlr7nosaHlkI7kuovku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiDlk43lupTnu5PmnpwNCiAgICAgKi8KICAgIGdldF9vYmpfYWZ0ZXI6IGZ1bmN0aW9uIGdldF9vYmpfYWZ0ZXIoanNvbiwgZnVuYykgewogICAgICBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoanNvbik7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouWkmuadoeaVsOaNrijkuLvnqIvluo8pDQogICAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBnZXRfbGlzdF9tYWluOiBmdW5jdGlvbiBnZXRfbGlzdF9tYWluKHF1ZXJ5LCBmdW5jKSB7CiAgICAgIHZhciB1cmwgPSB0aGlzLnVybF9nZXRfbGlzdCA/IHRoaXMudXJsX2dldF9saXN0IDogdGhpcy51cmw7CgogICAgICBpZiAoIXVybCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IDA7CiAgICAgIF90aGlzLnR1cm5PZmYgJiYgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgIiIsICI/IiArIHRoaXMudG9VcmwodGhpcy5xdWVyeSkpOwogICAgICB0aGlzLiRnZXQodGhpcy50b1VybChxdWVyeSwgdXJsKSwgbnVsbCwgZnVuY3Rpb24gKGpzb24sIHN0YXR1cykgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSAxMDA7CgogICAgICAgIGlmIChfdGhpcy5jbGVhcl9saXN0KSB7CiAgICAgICAgICBfdGhpcy5saXN0LmNsZWFyKCk7CiAgICAgICAgfQoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciByZXMgPSBqc29uLnJlc3VsdDsKCiAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzLnBhZ2Vfbm93ID0gX3RoaXMucXVlcnkucGFnZTsKCiAgICAgICAgICAgIF90aGlzLmxpc3QuYWRkTGlzdChyZXMubGlzdCk7CgogICAgICAgICAgICBpZiAocmVzLmNvdW50ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBfdGhpcy5jb3VudCA9IHJlcy5jb3VudDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMudHVybk9mZiA9IHRydWU7CgogICAgICAgICAgICBfdGhpcy5ldmVudHMoImdldF9saXN0X2FmdGVyIiwganNvbiwgZnVuYywgdXJsKTsKICAgICAgICAgIH0gZWxzZSBpZiAoanNvbi5lcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhqc29uLmVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuJHRvYXN0KCLmnI3liqHlmajov57mjqXlpLHotKXvvIEiLCAiZGFuZ2VyIik7CiAgICAgICAgICB9CiAgICAgICAgfSwgMCk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g6I635Y+W5Yiw5YiX6KGo5LqL5Lu2DQogICAgICogQHBhcmFtIHtPYmplY3R9IHJlcyDlk43lupTnu5PmnpwNCiAgICAgKi8KICAgIGdldF9saXN0X2FmdGVyOiBmdW5jdGlvbiBnZXRfbGlzdF9hZnRlcihyZXMsIGZ1bmMsIHVybCkgewogICAgICBpZiAoZnVuYykgewogICAgICAgIGZ1bmMocmVzLCB1cmwpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOaQnOe0og0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGJsIOaYr+WQpumHjee9ruWGjeaQnOe0og0KICAgICAqLwogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2gocXVlcnksIGZ1bmMpIHsKICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgJC5wdXNoKHRoaXMucXVlcnksIHF1ZXJ5KTsKICAgICAgfQoKICAgICAgdmFyIHVybCA9IHRoaXMudXJsX2dldF9saXN0ID8gdGhpcy51cmxfZ2V0X2xpc3QgOiB0aGlzLnVybDsKCiAgICAgIGlmICh1cmwpIHsKICAgICAgICB0aGlzLnF1ZXJ5LnBhZ2UgPSAxOwogICAgICAgIHRoaXMuY291bnQgPSAwOwogICAgICAgIHRoaXMuZmlyc3QocXVlcnksIGZ1bmMpOwogICAgICB9CiAgICB9LAogICAgZ2V0X2NyZWF0ZTogZnVuY3Rpb24gZ2V0X2NyZWF0ZShxdWVyeSwgZnVuYykgewogICAgICBpZiAocXVlcnkpIHsKICAgICAgICAkLnB1c2godGhpcy5xdWVyeSwgcXVlcnkpOwogICAgICB9CgogICAgICB2YXIgdXJsID0gdGhpcy51cmxfZ2V0X2xpc3QgPyB0aGlzLnVybF9nZXRfbGlzdCA6IHRoaXMudXJsOwoKICAgICAgaWYgKHVybCkgewogICAgICAgIHRoaXMuY291bnQgPSAwOwogICAgICAgIHRoaXMuZmlyc3QocXVlcnksIGZ1bmMpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDmn6Xor6LlpJrmnaHmlbDmja4gKOmmluasoSkNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIGZpcnN0OiBmdW5jdGlvbiBmaXJzdChxdWVyeSwgZnVuYykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmNvdW50KSB7CiAgICAgICAgdmFyIHF5ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5xdWVyeSk7CiAgICAgICAgdGhpcy5nZXRfbGlzdChxeSwgZnVuYyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZXRfbGlzdChxdWVyeSwgZnVuYyk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouS4i+S4gOmhteaVsOaNrg0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KHF1ZXJ5LCBmdW5jKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJuZXh0Iik7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfdGhpcy5nZXRfbGlzdChxdWVyeSwgZnVuY3Rpb24gKGpzb24sIHVybCkgewogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgdmFyIGxpc3QgPSBqc29uLnJlc3VsdC5saXN0OwoKICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIHF5ID0gT2JqZWN0LmFzc2lnbih7fSwgcXVlcnksIHsKICAgICAgICAgICAgICBwYWdlOiBxdWVyeS5wYWdlICsgMQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChxeS5wYWdlIDw9IF90aGlzLnBhZ2VfY291bnQpIHsKICAgICAgICAgICAgICBfdGhpcy4kZ2V0KF90aGlzLnRvVXJsKHF5LCB1cmwpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICAgIGZ1bmMoanNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouS4iuS4gOmhteaVsOaNrg0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KHF1ZXJ5LCBmdW5jKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJwcmV2Iik7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmdldF9saXN0KHF1ZXJ5LCBmdW5jdGlvbiAoanNvbiwgdXJsKSB7CiAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICB2YXIgbGlzdCA9IGpzb24ucmVzdWx0Lmxpc3Q7CgogICAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgcXkgPSBPYmplY3QuYXNzaWduKHt9LCBxdWVyeSwgewogICAgICAgICAgICAgIHBhZ2U6IHF1ZXJ5LnBhZ2UgLSAxCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKHF5LnBhZ2UgPj0gMSkgewogICAgICAgICAgICAgIF90aGlzLiRnZXQoX3RoaXMudG9VcmwocXksIHVybCkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoZnVuYykgewogICAgICAgICAgZnVuYyhyZXMpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOa4hemZpOaVsOaNrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeQ0KICAgICAqLwogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKHF1ZXJ5KSB7CiAgICAgICQuY2xlYXIocXVlcnkpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDph43nva4NCiAgICAgKi8KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgJC5jbGVhcih0aGlzLnF1ZXJ5KTsKICAgICAgJC5wdXNoKHRoaXMucXVlcnksIHRoaXMuY29uZmlnKTsKICAgICAgdGhpcy5nZXRfbGlzdCgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmj5DkuqTliJvlu7rnlKjmiLcNCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlcl9ncm91cCDnlKjmiLfnu4QNCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlcm5hbWUg55So5oi35ZCNDQogICAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkIOWvhueggQ0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyaWQg55So5oi3SUTlkI0NCiAgICAgKi8KICAgIHN1Ym1pdFVzZXI6IGZ1bmN0aW9uIHN1Ym1pdFVzZXIodXNlcl9ncm91cCwgdXNlcktleSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciB1c2VyaWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICJ1c2VyX2lkIjsKICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbGlkKSB7CiAgICAgICAgICB2YXIgZm9ybSwgdXNlcm5hbWUsIHBhc3N3b3JkOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBmb3JtID0gX3RoaXMzLmZvcm07CgogICAgICAgICAgICAgICAgICBpZiAoIWZvcm1bdXNlcktleV0pIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gZm9ybVt1c2VyS2V5XTsKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQgPSBmb3JtW3VzZXJLZXldLm1kNSgpOwoKICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczMuZm9ybVt1c2VyaWRdKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMy5zdWJtaXQoKTsKCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHBvc3QoIn4vYXBpL3VzZXIvYWRkPyIsIHsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICAgICAgICAgICAgICAgIHVzZXJfZ3JvdXA6IHVzZXJfZ3JvdXAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRnZXQoIn4vYXBpL3VzZXIvZ2V0X29iaj8iLCB7CiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgIHVzZXJfZ3JvdXA6IHVzZXJfZ3JvdXAKICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGpzb24pIHsKICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5yZXN1bHQgJiYganNvbi5yZXN1bHQub2JqKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZm9ybVt1c2VyaWRdID0ganNvbi5yZXN1bHQub2JqLnVzZXJfaWQ7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnN1Ym1pdCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdlcnJvciDlhbPplK7mnaHku7bnvLrlpLEhIScpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZXJyb3Ig5o+Q5Lqk5aSx6LSlISEnKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmj5DkuqTkuovku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g6KGo5Y2VDQogICAgICogQHBhcmFtIHtPYmplY3R9IGZ1bmMg6L+U5Zue5Ye95pWwDQogICAgICovCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdChwYXJhbSwgZnVuYykgewogICAgICAvLyBjb25zb2xlLmxvZygn5o+Q5Lqk5LqL5Lu2JywgcGFyYW0pOwogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLmZvcm07CiAgICAgIH0gLy8g5o+Q5Lqk5YmN5LqL5Lu2CgoKICAgICAgdmFyIHBtID0gdGhpcy5ldmVudHMoInN1Ym1pdF9iZWZvcmUiLCBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSkpIHx8IHBhcmFtOyAvLyDmj5DkuqTliY3pqozor4Hkuovku7YKCiAgICAgIHZhciBtc2cgPSB0aGlzLmV2ZW50cygic3VibWl0X2NoZWNrIiwgcG0pOwogICAgICB2YXIgcmV0OyAvLyDliKTmlq3plJnor68KCiAgICAgIGlmIChtc2cpIHsKICAgICAgICB0aGlzLiR0b2FzdChtc2csICdkYW5nZXInKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDmj5DkuqTooajljZUKICAgICAgICByZXQgPSB0aGlzLmV2ZW50cygic3VibWl0X21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0gLy8g6L+U5Zue57uT5p6cCgoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCgogICAgLyoqDQogICAgICog5o+Q5Lqk5YmN5LqL5Lu2DQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIOaPkOS6pOWPguaVsA0KICAgICAqLwogICAgc3VibWl0X2JlZm9yZTogZnVuY3Rpb24gc3VibWl0X2JlZm9yZShwYXJhbSkgewogICAgICAvLyBjb25zb2xlLmxvZygn5o+Q5Lqk5YmN5LqL5Lu2JywgcGFyYW0pOwogICAgICByZXR1cm4gcGFyYW07CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOaPkOS6pOWJjemqjOivgeS6i+S7tg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSDor7fmsYLlj4LmlbANCiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IOmqjOivgeaIkOWKn+i/lOWbnm51bGwsIOWksei0pei/lOWbnumUmeivr+aPkOekug0KICAgICAqLwogICAgc3VibWl0X2NoZWNrOiBmdW5jdGlvbiBzdWJtaXRfY2hlY2socGFyYW0pIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOaPkOS6pOihqOWNlQ0KICAgICAqLwogICAgc3VibWl0X21haW46IGZ1bmN0aW9uIHN1Ym1pdF9tYWluKHBhcmFtLCBmdW5jKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCfmj5DkuqTkuLvopoHkuovku7YnLCBwYXJhbSk7CiAgICAgIHZhciB1cmwgPSB0aGlzLnVybDsKICAgICAgY29uc29sZS5sb2coInN1Ym1pdF9tYWluX3BhcmFtLS0tLSIsIHBhcmFtKTsKICAgICAgY29uc29sZS5sb2coInN1Ym1pdF9tYWluX3VybC0tLS0iLCB1cmwpOwogICAgICBjb25zb2xlLmxvZygic3VibWl0X21haW5fZmllbGQtLS0tIiwgdGhpcy5maWVsZCk7CgogICAgICBpZiAodXJsKSB7CiAgICAgICAgaWYgKHRoaXMuZmllbGQpIHsKICAgICAgICAgIHZhciBpZCA9IHBhcmFtW3RoaXMuZmllbGRdOwoKICAgICAgICAgIGlmIChpZCkgewogICAgICAgICAgICB2YXIgcSA9IHsKICAgICAgICAgICAgICBtZXRob2Q6ICdzZXQnCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHFbdGhpcy5maWVsZF0gPSBpZDsKICAgICAgICAgICAgY29uc29sZS5sb2coInEtLS0tLT4iLCBxKTsKICAgICAgICAgICAgdXJsID0gdGhpcy50b1VybChxLCB1cmwpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdXJsICs9ICJtZXRob2Q9YWRkIjsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdXJsICs9ICJtZXRob2Q9c3VibWl0IjsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhpcy51cmxfc3VibWl0KSB7CiAgICAgICAgdXJsID0gdGhpcy51cmxfc3VibWl0OwogICAgICB9IGVsc2UgaWYgKHRoaXMuZmllbGQpIHsKICAgICAgICB2YXIgaWQgPSBwYXJhbVt0aGlzLmZpZWxkXTsgLy8gY29uc29sZS5sb2codGhpcy5maWVsZCxpZCk7CgogICAgICAgIGlmIChpZCkgewogICAgICAgICAgdXJsID0gdGhpcy51cmxfc2V0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB1cmwgPSB0aGlzLnVybF9hZGQ7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zb2xlLmxvZygn5Y+R6YCB6K+35rGC5YmNJywgdXJsKTsKCiAgICAgIGlmICh1cmwpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvLyBjb25zb2xlLmxvZygn5Y+R6YCB5L+h5oGvJywgdXJsLCBwYXJhbSk7CgoKICAgICAgICB1cmwgPSB0aGlzLiR0b1VybCh0aGlzLnF1ZXJ5LCB1cmwpOwogICAgICAgIHRoaXMuJHBvc3QodXJsLCBwYXJhbSwgZnVuY3Rpb24gKGpzb24sIHN0YXR1cykgewogICAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICAgIF90aGlzLmV2ZW50cygic3VibWl0X2FmdGVyIiwganNvbiwgZnVuYyk7CiAgICAgICAgICB9IGVsc2UgaWYgKGpzb24uZXJyb3IpIHsKICAgICAgICAgICAgX3RoaXMuJHRvYXN0KGpzb24uZXJyb3IubWVzc2FnZSwgJ2RhbmdlcicpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuJHRvYXN0KCLmnI3liqHlmajov57mjqXlpLHotKXvvIEiLCAiZGFuZ2VyIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOiOt+WPluWIsOWvueixoeWQjuS6i+S7tg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIOWTjeW6lOe7k+aenA0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBzdWJtaXRfYWZ0ZXI6IGZ1bmN0aW9uIHN1Ym1pdF9hZnRlcihqc29uLCBmdW5jKSB7CiAgICAgIHRoaXMuJHRvYXN0KCfmj5DkuqTmiJDlip/vvIEnLCAnc3VjY2VzcycpOwoKICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICBmdW5jKGpzb24pOwogICAgICB9CgogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDkuIrkuIvnv7vpobUNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gbiDliqDlh4/pobXnoIENCiAgICAgKi8KICAgIGdvOiBmdW5jdGlvbiBnbyhuKSB7CiAgICAgIHZhciBwYWdlID0gdGhpcy5xdWVyeS5wYWdlICsgbjsKICAgICAgdGhpcy5nb1RvKHBhZ2UpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDot7PovazmjIflrprpobUNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFnZSDpobXnoIENCiAgICAgKi8KICAgIGdvVG86IGZ1bmN0aW9uIGdvVG8ocGFnZSkgewogICAgICBpZiAocGFnZSA8IDEpIHsKICAgICAgICBwYWdlID0gMTsKICAgICAgfSBlbHNlIGlmIChwYWdlID4gdGhpcy5wYWdlX2NvdW50KSB7CiAgICAgICAgcGFnZSA9IHRoaXMucGFnZV9jb3VudDsKICAgICAgfQoKICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyeTsKICAgICAgdmFyIHAgPSBxdWVyeS5wYWdlOwogICAgICBxdWVyeS5wYWdlID0gcGFnZTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIj8iICsgdGhpcy50b1VybChxdWVyeSkpOwoKICAgICAgaWYgKHRoaXMucGFnZV9jb3VudCAhPT0gMCkgewogICAgICAgIGlmIChwICsgMSA9PSBwYWdlKSB7CiAgICAgICAgICB0aGlzLm5leHQocXVlcnkpOwogICAgICAgIH0gZWxzZSBpZiAocCAtIDEgPT0gcGFnZSkgewogICAgICAgICAgdGhpcy5wcmV2KHF1ZXJ5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5maXJzdChxdWVyeSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlyc3QocXVlcnkpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDovazmn6Xor6Llj4LmlbANCiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIOiiq+i9rOaNoueahOWvueixoQ0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwg6K+35rGC5Zyw5Z2ADQogICAgICogQHJldHVybiB7U3RyaW5nfSB1cmzlrZfnrKbkuLINCiAgICAgKi8KICAgIHRvVXJsOiBmdW5jdGlvbiB0b1VybChvYmosIHVybCkgewogICAgICByZXR1cm4gJC50b1VybChvYmosIHVybCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDkuIrkvKDmlofku7YNCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgdXBsb2FkX21haW46IGZ1bmN0aW9uIHVwbG9hZF9tYWluKGZ1bmMpIHsKICAgICAgdmFyIHVybCA9ICIiOwoKICAgICAgaWYgKHRoaXMudXJsKSB7CiAgICAgICAgdXJsID0gdGhpcy51cmwgKyAibWV0aG9kPXVwbG9hZCI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXJsID0gdGhpcy51cmxfdXBsb2FkOwogICAgICB9CgogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLmZvcm07CiAgICAgIH0KCiAgICAgIGlmIChtc2cpIHsKICAgICAgICB0aGlzLiR0b2FzdChtc2csICdkYW5nZXInKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVwbG9hZGluZyA9IDA7CgogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHRoaXMuJHVwbG9hZCh1cmwsIHBhcmFtLCBmdW5jdGlvbiAoanNvbiwgc3RhdHVzKSB7CiAgICAgICAgICBfdGhpcy51cGxvYWRpbmcgPSAxMDA7CgogICAgICAgICAgX3RoaXMuZXZlbnRzKCJ1cGxvYWRfYWZ0ZXIiLCBqc29uLCBmdW5jKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5LiK5Lyg5a6M5oiQ5pe2DQogICAgICogQHBhcmFtIHtPYmplY3R9IGpzb24g5ZON5bqU57uT5p6cDQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYw0KICAgICAqLwogICAgdXBsb2FkX2FmdGVyOiBmdW5jdGlvbiB1cGxvYWRfYWZ0ZXIoanNvbiwgZnVuYykgewogICAgICBpZiAoanNvbi5yZXN1bHQpIHsKICAgICAgICB0aGlzLiR0b2FzdChqc29uLnJlc3VsdC50aXAsIGpzb24ucmVzdWx0LmJsID8gJ3N1Y2Nlc3MnIDogJ2RhbmdlcicpOwogICAgICB9IGVsc2UgaWYgKGpzb24uZXJyb3IpIHsKICAgICAgICB0aGlzLiR0b2FzdChqc29uLmVycm9yLm1lc3NhZ2UsICdkYW5nZXInKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdCgi5pyN5Yqh5Zmo6L+e5o6l5aSx6LSl77yBIiwgImRhbmdlciIpOwogICAgICB9CgogICAgICBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDnu5PmnZ/liY0NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g5Y+C5pWwDQogICAgICovCiAgICBlbmRfYmVmb3JlOiBmdW5jdGlvbiBlbmRfYmVmb3JlKHBhcmFtKSB7Ly8gdGhpcy5yZXNldCgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDpgInmi6npobnlhajmlLkNCiAgICAgKi8KICAgIHNlbGVjdF9hbGw6IGZ1bmN0aW9uIHNlbGVjdF9hbGwoKSB7CiAgICAgIHZhciBibCA9ICF0aGlzLnNlbGVjdF9zdGF0ZTsKCiAgICAgIGlmICghYmwpIHsKICAgICAgICB0aGlzLnNlbGVjdHMgPSAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcyA9ICcnOwogICAgICAgIHZhciBsaXN0ID0gdGhpcy5saXN0OwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHMgKz0gJ3wnICsgbGlzdFtpXVt0aGlzLmZpZWxkXTsKICAgICAgICB9CgogICAgICAgIHRoaXMuc2VsZWN0cyA9IHMucmVwbGFjZSgnfCcsICcnKTsKICAgICAgfQoKICAgICAgdGhpcy5zZWxlY3Rfc3RhdGUgPSBibDsKICAgIH0sCgogICAgLyoqDQogICAgICog6YCJ5oup6aG55pS55Y+YDQogICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBpZCDpgInmi6nnmoRJRA0KICAgICAqLwogICAgc2VsZWN0X2NoYW5nZTogZnVuY3Rpb24gc2VsZWN0X2NoYW5nZShpZCkgewogICAgICB2YXIgaGFzID0gZmFsc2U7CiAgICAgIHZhciBhcnIgPSB0aGlzLnNlbGVjdHMuc3BsaXQoJ3wnKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG8gPSBhcnJbaV07CgogICAgICAgIGlmIChpZCA9PSBvKSB7CiAgICAgICAgICBhcnIuc3BsaWNlKGksIDEpOwogICAgICAgICAgaGFzID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKCFoYXMpIHsKICAgICAgICBhcnIucHVzaChpZCk7CiAgICAgIH0KCiAgICAgIHZhciBzID0gYXJyLmpvaW4oJ3wnKTsKCiAgICAgIGlmIChzLmluZGV4T2YoJ3wnKSA9PSAwKSB7CiAgICAgICAgdGhpcy5zZWxlY3RzID0gcy5zdWJzdHJpbmcoMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RzID0gczsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDpgInmi6npobnlkKvmnIkNCiAgICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGlkIOmAieaLqeeahElEDQogICAgICovCiAgICBzZWxlY3RfaGFzOiBmdW5jdGlvbiBzZWxlY3RfaGFzKGlkKSB7CiAgICAgIHZhciBpZHMgPSAnfCcgKyB0aGlzLnNlbGVjdHMgKyAnfCc7CiAgICAgIHJldHVybiBpZHMuaW5kZXhPZignfCcgKyBpZCArICd8JykgIT09IC0xOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDpgInkuK0NCiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXgg6aG555uu57Si5byVDQogICAgICovCiAgICBzZWxlY3RlZDogZnVuY3Rpb24gc2VsZWN0ZWQoaW5kZXgpIHsKICAgICAgdGhpcy5zZWxlY3QgPSBpbmRleDsKICAgICAgJC5kYi5zZXQoJ3NlbGVjdCcsIGluZGV4LCAxMjApOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDpobXpnaLmlLnlj5jml7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gZSDkuovku7YNCiAgICAgKi8KICAgIHBhZ2VfY2hhbmdlOiBmdW5jdGlvbiBwYWdlX2NoYW5nZShlKSB7CiAgICAgIHZhciBuID0gTnVtYmVyKGUudGFyZ2V0LnZhbHVlKTsKCiAgICAgIGlmIChpc05hTihuKSkgewogICAgICAgIG4gPSAxOwogICAgICB9CgogICAgICBpZiAobiA8IDEpIHsKICAgICAgICBuID0gMTsKICAgICAgfSBlbHNlIGlmIChuID4gdGhpcy5wYWdlX2NvdW50KSB7CiAgICAgICAgbiA9IHRoaXMucGFnZV9jb3VudDsKICAgICAgfQoKICAgICAgdGhpcy5wYWdlX25vdyA9IG47CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOiOt+WPluWQjeensA0KICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3Qg55So5p2l5Y+W5ZCN55qE5YiX6KGoDQogICAgICogQHBhcmFtIHtTdHJpbmd9IGFycl9zdHIgaWTpm4blkIgNCiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IOmUrg0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIOWQjQ0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzcGFuIOWIhumalOespg0KICAgICAqLwogICAgZ2V0X25hbWU6IGZ1bmN0aW9uIGdldF9uYW1lKGxpc3QsIGFycl9zdHIsIGtleSwgbmFtZSwgc3BhbikgewogICAgICBpZiAoIW5hbWUpIHsKICAgICAgICBuYW1lID0gIm5hbWUiOwogICAgICB9CgogICAgICB2YXIgdmFsdWUgPSAiIjsKCiAgICAgIGlmIChhcnJfc3RyKSB7CiAgICAgICAgaWYgKHR5cGVvZiBhcnJfc3RyID09ICdzdHJpbmcnKSB7CiAgICAgICAgICBpZiAoIXNwYW4pIHsKICAgICAgICAgICAgc3BhbiA9ICcsJzsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgYXJyID0gYXJyX3N0ci5zcGxpdChzcGFuKTsKICAgICAgICAgIHZhciBpZCA9IE51bWJlcihhcnJbMF0pOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgbyA9IGxpc3RbaV07CgogICAgICAgICAgICBpZiAob1trZXldID09IGlkKSB7CiAgICAgICAgICAgICAgdmFsdWUgKz0gJ3wnICsgb1tuYW1lXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgaWQgPSBhcnJfc3RyOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgbyA9IGxpc3RbaV07CgogICAgICAgICAgICBpZiAob1trZXldID09IGlkKSB7CiAgICAgICAgICAgICAgdmFsdWUgPSBvW25hbWVdOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgnfCcsICcnKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Y+W5raI5bm26L+U5ZueDQogICAgICovCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5a+85YWl5pWw5o2uDQogICAgICogQHBhcmFtIHtPYmplY3R9IGZpbGUg5paH5Lu2DQogICAgICovCiAgICBpbXBvcnRfZGI6IGZ1bmN0aW9uIGltcG9ydF9kYihmaWxlKSB7CiAgICAgIGlmIChmaWxlKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgJC5jb25maXJtKCLmmK/lkKblr7zlhaUgIiArIGZpbGUubmFtZSwgIuWvvOWFpeaVsOaNriIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQuaHR0cC51cGxvYWQoX3RoaXMudXJsX2ltcG9ydCwgZmlsZSwgZnVuY3Rpb24gKGpzb24pIHsKICAgICAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICAgICAgJC5jb25maXJtKGpzb24ucmVzdWx0LnRpcCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMuZ2V0KCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoanNvbi5lcnJvcikgewogICAgICAgICAgICAgICQuY29uZmlybShqc29uLmVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiR0b2FzdCgi5pyN5Yqh5Zmo6L+e5o6l5aSx6LSl77yBIiwgImRhbmdlciIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDlr7zlh7rmlbDmja4NCiAgICAgKi8KICAgIGV4cG9ydF9kYjogZnVuY3Rpb24gZXhwb3J0X2RiKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0cykgewogICAgICAgIHZhciBxdWVyeSA9IHt9OwogICAgICAgIHF1ZXJ5W3RoaXMuZmllbGRdID0gdGhpcy5zZWxlY3RzOwogICAgICAgIHRoaXMuJGdldChfdGhpcy51cmxfZXhwb3J0LCBxdWVyeSwgZnVuY3Rpb24gKGpzb24pIHsKICAgICAgICAgIHZhciByZXMgPSBqc29uLnJlc3VsdDsKCiAgICAgICAgICBpZiAocmVzICYmIHJlcy5ibCkgewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlcy51cmw7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZ2V0KF90aGlzLnVybF9leHBvcnQsIHRoaXMucXVlcnksIGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgICB2YXIgcmVzID0ganNvbi5yZXN1bHQ7CgogICAgICAgICAgaWYgKHJlcyAmJiByZXMuYmwpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXMudXJsOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIpOaWreaYr+WQpuacieS4i+e6pw0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpZCDlrZfmrrVJRA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsaXN0IOaVsOaNruWIl+ihqA0KICAgICAqIEByZXR1cm4ge051bWJlcn0g6L+U5Zue57qn5YirDQogICAgICovCiAgICBvcGVuc19oYXNfc3ViOiBmdW5jdGlvbiBvcGVuc19oYXNfc3ViKGlkLCBsaXN0KSB7CiAgICAgIGlmICghbGlzdCkgewogICAgICAgIGxpc3QgPSB0aGlzLmxpc3Q7CiAgICAgIH0KCiAgICAgIHZhciBibCA9IGZhbHNlOwogICAgICB2YXIgZmF0aGVyX2lkID0gdGhpcy5mYXRoZXJfaWQ7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbyA9IGxpc3RbaV07CgogICAgICAgIGlmIChvW2ZhdGhlcl9pZF0gPT09IGlkKSB7CiAgICAgICAgICBibCA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBibDsKICAgIH0sCgogICAgLyoqDQogICAgICog5pS55Y+Y5bGV5byA6aG5DQogICAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIOWUr+S4gOS4u+mUrg0KICAgICAqLwogICAgb3BlbnNfY2hhbmdlOiBmdW5jdGlvbiBvcGVuc19jaGFuZ2UoaWQpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5vcGVucy5pbmRleE9mKGlkKTsKCiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICB0aGlzLm9wZW5zLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGJsID0gdGhpcy5vcGVuc19oYXNfc3ViKGlkKTsKCiAgICAgICAgaWYgKGJsKSB7CiAgICAgICAgICB0aGlzLm9wZW5zLnB1c2goaWQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgJC5kYi5zZXQoJ29wZW5zJywgdGhpcy5vcGVucyk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIpOaWreaYr+WQpuWtmOWcqA0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpZCDllK/kuIDkuLvplK4NCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSDlrZjlnKjov5Tlm550cnVlLCDlkKbliJnov5Tlm55mYWxzZQ0KICAgICAqLwogICAgb3BlbnNfaGFzOiBmdW5jdGlvbiBvcGVuc19oYXMoaWQpIHsKICAgICAgcmV0dXJuIHRoaXMub3BlbnMuaW5kZXhPZihpZCkgIT09IC0xOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliKTmlq3lrZDlrZnnuqfliKssIOacgOWkp+aUr+aMgTXmrKHliIblj4kNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gZmlkIOellui+iElEDQogICAgICogQHBhcmFtIHtPYmplY3R9IGxpc3Qg5pWw5o2u5YiX6KGoDQogICAgICogQHJldHVybiB7TnVtYmVyfSDov5Tlm57nuqfliKsNCiAgICAgKi8KICAgIG9wZW5zX2x2OiBmdW5jdGlvbiBvcGVuc19sdihmaWQsIGxpc3QpIHsKICAgICAgaWYgKCFsaXN0KSB7CiAgICAgICAgbGlzdCA9IHRoaXMubGlzdDsKICAgICAgfQoKICAgICAgdmFyIGx2ID0gMDsKICAgICAgdmFyIGZhdGhlcl9pZCA9IHRoaXMuZmF0aGVyX2lkOwogICAgICB2YXIgaWQgPSB0aGlzLmZpZWxkOwogICAgICB2YXIgbnVtID0gZmlkOwoKICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCA1OyBuKyspIHsKICAgICAgICBpZiAobnVtID09PSAwKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIG8gPSBsaXN0W2ldOwoKICAgICAgICAgIGlmIChvW2lkXSA9PT0gbnVtKSB7CiAgICAgICAgICAgIGx2Kys7CiAgICAgICAgICAgIG51bSA9IG9bZmF0aGVyX2lkXTsKCiAgICAgICAgICAgIGlmIChudW0gPT09IDApIHsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGx2OwogICAgfSwKCiAgICAvKioNCiAgICAgKiDnrZvpgInlhoXlrrkNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcm93DQogICAgICovCiAgICBmaWx0ZXJTdGF0ZTogZnVuY3Rpb24gZmlsdGVyU3RhdGUodmFsdWUsIHJvdykgewogICAgICByZXR1cm4gcm93LnN0YXRlID09PSB2YWx1ZTsKICAgIH0sCiAgICAvLyDliKDpmaTmtojmga8KICAgIGRlbEluZm86IGZ1bmN0aW9uIGRlbEluZm8oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGxpc3QgPSB0aGlzLnNlbGVjdGlvbjsKCiAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+mAieaLqeWvueixoeS4jeiDveS4uuepuiEnCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6Xmlofku7YsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuZGVsQWxsKGxpc3QpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOaJuemHj+WIoOmZpA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsaXN0IOWIoOmZpOWvueixoembhg0KICAgICAqLwogICAgZGVsQWxsOiBmdW5jdGlvbiBkZWxBbGwobGlzdCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBibCwgcXVlcnksIGksIG9iaiwgZmllbGQsIG87CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGJsID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHF1ZXJ5ID0ge307CiAgICAgICAgICAgICAgICBpID0gMDsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCEoaSA8IGxpc3QubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBvYmogPSBsaXN0W2ldOwogICAgICAgICAgICAgICAgZmllbGQgPSBfdGhpczUuZmllbGQ7IC8vIOiOt+WPluWIoOmZpElECgogICAgICAgICAgICAgICAgcXVlcnlbZmllbGRdID0gb2JqW2ZpZWxkXTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuJGdldChfdGhpczUudXJsX2RlbCwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBvID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFvLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZS5lcnJvcign5Yig6Zmk5aSx6LSlJyArIG8uZXJyb3IubWVzc2FnZSk7CgogICAgICAgICAgICAgICAgYmwgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJicmVhayIsIDE3KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgaWYgKGJsKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5nZXRfbGlzdCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOS4iuS8oOaWh+S7tg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmaWxlIOaWh+S7tuWvueixoQ0KICAgICAqIEBwYXJhbSB7a2V5fSDkv53lrZjplK7lkI0NCiAgICAgKi8KICAgIHVwbG9hZEZpbGU6IGZ1bmN0aW9uIHVwbG9hZEZpbGUoZmlsZSkgewogICAgICB2YXIga2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAiaW1nIjsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOyAvLyBGb3JtRGF0YSDlr7nosaEKCiAgICAgIGZvcm0uYXBwZW5kKCdmaWxlJywgZmlsZSk7IC8vIOaWh+S7tuWvueixoQoKICAgICAgdGhpcy4kdXBsb2FkKHRoaXMudXJsX3VwbG9hZCwgZm9ybSwgZnVuY3Rpb24gKGpzb24pIHsKICAgICAgICBpZiAoanNvbi5yZXN1bHQpIHsKICAgICAgICAgIF90aGlzLmZvcm1ba2V5XSA9IF90aGlzLiRmdWxsVXJsKCJ+IiArIGpzb24ucmVzdWx0LnVybCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiR0b2FzdCgn5LiK5Lyg5aSx6LSl77yBJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog6YCJ5oup5pu05pS5DQogICAgICogQHBhcmFtIHtPYmplY3R9IHZhbA0KICAgICAqLwogICAgc2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuc2VsZWN0aW9uID0gdmFsOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmnaHmlbDlj5jmm7QNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2l6ZQ0KICAgICAqLwogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShzaXplKSB7CiAgICAgIHRoaXMucXVlcnkuc2l6ZSA9IHNpemU7CiAgICAgIHRoaXMuZ2V0X2xpc3QoKTsKICAgIH0sCgogICAgLyoqDQogICAgICog6aG15pWw5Y+Y5pu0DQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhZ2UNCiAgICAgKi8KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZSkgewogICAgICB0aGlzLnF1ZXJ5LnBhZ2UgPSBwYWdlOwogICAgICB0aGlzLmdldF9saXN0KCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqDQogICAgICogQHBhcmFtIHtPYmplY3R9IHVybA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBrZXkNCiAgICAgKi8KICAgIHRvX2Zvcm06IGZ1bmN0aW9uIHRvX2Zvcm0odXJsLCBrZXkpIHsKICAgICAgJC5kYi5zZXQoImZvcm0iLCB0aGlzLm9iaik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHVybCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLyoqDQogICAgICog5YiG6aG15pWw6YePDQogICAgICovCiAgICBwYWdlX2NvdW50OiBmdW5jdGlvbiBwYWdlX2NvdW50KCkgewogICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuY291bnQgLyB0aGlzLnF1ZXJ5LnNpemUpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgIGNvbnNvbGUubG9nKCJwYWdl5Yib5bu65a6M5oiQ5pe2Iik7CiAgICB0aGlzLnNob3dpbmcgPSAwOwogICAgdGhpcy5jaGVja19hdXRoKGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2coIuiOt+WPluS/oeaBryIpOwoKICAgICAgX3RoaXM2LmluaXQoX3RoaXM2LiRyb3V0ZS5xdWVyeSk7CiAgICB9KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNob3dpbmcgPSAxMDA7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5ldmVudHMoJ2VuZF9iZWZvcmUnKTsKICB9LAogIGZpbHRlcnM6IHsKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDml6XmnJ/ml7bpl7TovazmjaINCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0ZSDml7bpl7TmiLMNCiAgICAgKi8KICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRhdGUpOwogICAgICB2YXIgWVkgPSBkYXRlLmdldEZ1bGxZZWFyKCkgKyAnLSc7CiAgICAgIHZhciBNTSA9IChkYXRlLmdldE1vbnRoKCkgKyAxIDwgMTAgPyAnMCcgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgOiBkYXRlLmdldE1vbnRoKCkgKyAxKSArICctJzsKICAgICAgdmFyIEREID0gZGF0ZS5nZXREYXRlKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0RGF0ZSgpIDogZGF0ZS5nZXREYXRlKCk7CiAgICAgIHZhciBoaCA9IChkYXRlLmdldEhvdXJzKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0SG91cnMoKSA6IGRhdGUuZ2V0SG91cnMoKSkgKyAnOic7CiAgICAgIHZhciBtbSA9IChkYXRlLmdldE1pbnV0ZXMoKSA8IDEwID8gJzAnICsgZGF0ZS5nZXRNaW51dGVzKCkgOiBkYXRlLmdldE1pbnV0ZXMoKSkgKyAnOic7CiAgICAgIHZhciBzcyA9IGRhdGUuZ2V0U2Vjb25kcygpIDwgMTAgPyAnMCcgKyBkYXRlLmdldFNlY29uZHMoKSA6IGRhdGUuZ2V0U2Vjb25kcygpOwogICAgICByZXR1cm4gWVkgKyBNTSArIEREICsgIiAiICsgaGggKyBtbSArIHNzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:/WorkSpace/localCode/CS211180/client_home/src/mixins/page.js"],"names":["data","opens","$","db","get","title","url","url_add","url_del","url_set","url_get_obj","url_get_list","url_submit","url_upload","url_import","url_export","list","vm","form","obj","query","config","page","size","loading","showing","posting","select","count","show","bl","display","field","tip","mode","clear_list","message","selects","page_now","select_state","sort_key","query_set","father_id","selection","oauth","user","tip_show","user_group","turnOff","methods","events","name","param1","param2","param3","func","f","undefined","add","param","pm","Object","assign","msg","ret","del","del_show","o","id","_this","confirm","set","includeZero","set_before","delete","k","toLocaleLowerCase","indexOf","Date","toStr","batchSet","q","orderby","json","result","get_list","get_obj","console","log","sort","check_auth","token","$get_user","$get_auth","signIn","$router","push","path","init","init_before","init_main","init_after","upload","$toast","add_main","value","$post","error","del_main","$get","del_after","set_main","keys","length","toUrl","status","set_after","get_main","get_create","get_obj_check","get_obj_main","res","get_obj_after","get_list_main","history","pushState","clear","setTimeout","addList","get_list_after","search","first","qy","next","page_count","prev","reset","submitUser","userKey","userid","$refs","validate","valid","username","password","md5","submit","user_id","submit_before","submit_check","submit_main","method","$toUrl","submit_after","go","n","goTo","p","upload_main","uploading","$upload","upload_after","end_before","select_all","s","i","replace","select_change","has","arr","split","splice","join","substring","select_has","ids","selected","index","page_change","e","Number","target","isNaN","get_name","arr_str","key","span","cancel","import_db","file","http","export_db","window","location","href","opens_has_sub","opens_change","opens_has","opens_lv","fid","lv","num","filterState","row","state","delInfo","$message","type","$confirm","confirmButtonText","cancelButtonText","then","delAll","catch","uploadFile","FormData","append","$fullUrl","selectionChange","val","handleSizeChange","handleCurrentChange","to_form","computed","Math","ceil","created","$route","mounted","beforeDestroy","filters","formatDate","date","YY","getFullYear","MM","getMonth","DD","getDate","hh","getHours","mm","getMinutes","ss","getSeconds"],"mappings":"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","sourcesContent":["export default {\r\n\tdata: function data() {\r\n\t\tvar opens = $.db.get('opens') || [0];\r\n\t\t// var opens_str = ;\r\n\t\t// if(opens_str){\r\n\t\t// \topens = opens_str;\r\n\t\t// }\r\n\t\treturn {\r\n\t\t\t// \r\n\t\t\ttitle: \"\",\r\n\r\n\t\t\t// \r\n\t\t\turl: \"\",\r\n\r\n\t\t\t// \r\n\t\t\turl_add: \"\",\r\n\r\n\t\t\t// \r\n\t\t\turl_del: \"\",\r\n\r\n\t\t\t// \r\n\t\t\turl_set: \"\",\r\n\r\n\t\t\t// \r\n\t\t\turl_get_obj: \"\",\r\n\r\n\t\t\t// \r\n\t\t\turl_get_list: \"\",\r\n\r\n\t\t\t// \r\n\t\t\turl_submit: \"\",\r\n\r\n\t\t\t// \r\n\t\t\turl_upload: \"\",\r\n\r\n\t\t\t// \r\n\t\t\turl_import: \"\",\r\n\r\n\t\t\t// \r\n\t\t\turl_export: \"\",\r\n\r\n\t\t\t// \r\n\t\t\tlist: [],\r\n\r\n\t\t\t// &\r\n\t\t\tvm: {},\r\n\r\n\t\t\t// \r\n\t\t\tform: {},\r\n\r\n\t\t\t// \r\n\t\t\tobj: {},\r\n\r\n\t\t\t// \r\n\t\t\tquery: {\r\n\t\t\t\t// \r\n\t\t\t\t// page: 1,\r\n\t\t\t\t// \r\n\t\t\t\t// size: 10\r\n\t\t\t},\r\n\r\n\t\t\t// \r\n\t\t\tconfig: {\r\n\t\t\t\t// \r\n\t\t\t\tpage: 1,\r\n\t\t\t\t// \r\n\t\t\t\tsize: 10\r\n\t\t\t},\r\n\r\n\t\t\t// \r\n\t\t\tloading: 0,\r\n\r\n\t\t\t// \r\n\t\t\tshowing: 0,\r\n\r\n\t\t\t// \r\n\t\t\tposting: 0,\r\n\r\n\t\t\t// \r\n\t\t\tselect: $.db.get('select'),\r\n\r\n\t\t\t// \r\n\t\t\tcount: 0,\r\n\r\n\t\t\t// truefalse\r\n\t\t\tshow: false,\r\n\r\n\t\t\t// \r\n\t\t\tbl: false,\r\n\r\n\t\t\t// \r\n\t\t\tdisplay: \"\",\r\n\r\n\t\t\t// \r\n\t\t\tfield: \"\",\r\n\r\n\t\t\t// \r\n\t\t\ttip: \"\",\r\n\r\n\t\t\t// \r\n\t\t\tmode: \"list\",\r\n\r\n\t\t\t// \r\n\t\t\tclear_list: true,\r\n\r\n\t\t\t// \r\n\t\t\tmessage: \"\",\r\n\r\n\t\t\t// \r\n\t\t\tselects: \"\",\r\n\r\n\t\t\t// , \r\n\t\t\tpage_now: 1,\r\n\r\n\t\t\t// \r\n\t\t\tselect_state: false,\r\n\r\n\t\t\t// \r\n\t\t\tsort_key: \"display\",\r\n\r\n\t\t\t// \r\n\t\t\tquery_set: {},\r\n\r\n\t\t\t// id\r\n\t\t\topens: opens,\r\n\r\n\t\t\t// ID: father_id\r\n\t\t\tfather_id: \"father_id\",\r\n\r\n\t\t\t// \r\n\t\t\tselection: [],\r\n\r\n\t\t\t// \r\n\t\t\toauth: {\r\n\t\t\t\t\"signIn\": false,\r\n\t\t\t\t\"gm\": 0,\r\n\t\t\t\t\"user_admin\": []\r\n\t\t\t},\r\n\r\n\t\t\t// \r\n\t\t\tuser: {},\r\n\r\n\t\t\t// \r\n\t\t\ttip_show: true,\r\n\r\n\t\t\t// \r\n\t\t\tuser_group: \"\",\r\n\r\n\t\t\t// \r\n\t\t\tturnOff: false\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\r\n\t\t/**\r\n\t\t * @description , \r\n\t\t * @param {String} name \r\n\t\t * @param {Object} param1 1\r\n\t\t * @param {Object} param2 2\r\n\t\t * @param {Object} param3 3\r\n\t\t * @return {Object} \r\n\t\t */\r\n\t\tevents: function events(name, param1, param2, param3) {\r\n\t\t\tif (this[name]) {\r\n\t\t\t\tif (param3) {\r\n\t\t\t\t\treturn this[name](param1, param2, param3);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this[name](param1, param2);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * ()\r\n\t\t * @param {String} name \r\n\t\t * @param {Object} param1\r\n\t\t * @param {Object} param2\r\n\t\t * @param {Object} param3\r\n\t\t * @return {Object} \r\n\t\t */\r\n\t\tfunc: function func(name, param1, param2, param3) {\r\n\t\t\tvar f = this[name];\r\n\t\t\tif (f) {\r\n\t\t\t\tif (param1 === undefined) {\r\n\t\t\t\t\treturn f();\r\n\t\t\t\t} else if (param2 === undefined) {\r\n\t\t\t\t\treturn f(param1);\r\n\t\t\t\t} else if (param3 === undefined) {\r\n\t\t\t\t\treturn f(param1, param2);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn f(param1, param2, param3);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} param \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tadd: function add(param, func) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.obj;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"add_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"add_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"add_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} param \r\n\t\t */\r\n\t\tdel: function del(param, func) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.query;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"del_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"del_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"del_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\tdel_show: function(o, id) {\r\n\t\t\tvar _this = this;\r\n\t\t\t$.confirm('!<br/>?', function() {\r\n\t\t\t\t// console.log('!');\r\n\t\t\t\tvar query = {};\r\n\t\t\t\tquery[id] = o[id];\r\n\t\t\t\t_this.del(query, function() {\r\n\t\t\t\t\t_this.list.del(query);\r\n\t\t\t\t\t_this.count -= 1;\r\n\t\t\t\t});\r\n\t\t\t}, function() {\r\n\t\t\t\t// console.log('!')\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} param \r\n\t\t * @param {String} query \r\n\t\t * @param {Boolean} includeZero 0\r\n\t\t */\r\n\t\tset: function set(param, query, func, includeZero) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.obj;\r\n\t\t\t}\r\n\t\t\tif (query) {\r\n\t\t\t\tthis.query_set = query;\r\n\t\t\t} else {\r\n\t\t\t\tthis.query_set = Object.assign({}, this.query);\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"set_before\", Object.assign({}, param), includeZero) || param;\r\n\t\t\tvar msg = this.events(\"set_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"set_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} param\r\n\t\t * @param {Boolean} includeZero 0\r\n\t\t * @param {Object} \r\n\t\t */\r\n\t\tset_before: function set_before(param, includeZero) {\r\n\t\t\tvar pm = $.delete(param, includeZero);\r\n\t\t\tfor (var k in pm) {\r\n\t\t\t\tif (k.toLocaleLowerCase().indexOf('time') !== -1 && pm[k].indexOf('T') !== -1) {\r\n\t\t\t\t\tpm[k] = new Date(pm[k]).toStr('yyyy-MM-dd 00:00:00');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn pm;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\tbatchSet: function batchSet() {\r\n\t\t\tvar _this = this;\r\n\t\t\t$.confirm('<br/>?', function() {\r\n\t\t\t\tvar q = Object.assign({}, _this.query, _this.query_set);\r\n\t\t\t\tq[_this.field] = _this.selects;\r\n\t\t\t\tdelete q.page;\r\n\t\t\t\tdelete q.size;\r\n\t\t\t\tdelete q.orderby;\r\n\t\t\t\t_this.set(_this.form, q, function(json) {\r\n\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t_this.show = false;\r\n\t\t\t\t\t\t_this.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} query \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tget_list: function get_list(param, func) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.query;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"get_list_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"get_list_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"get_list_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} query \r\n\t\t * @func {Function} \r\n\t\t */\r\n\t\tget_obj: function get_obj(param, func) {\r\n\t\t\t// console.log(\"\", param)\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.query;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"get_obj_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"get_obj_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"get_obj_main\", pm, func);\r\n\t\t\t} else if (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(msg);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} param\r\n\t\t * @param {Object} func\r\n\t\t */\r\n\t\tsort: function sort(param, func) {\r\n\t\t\tvar pm = this.events(\"sort_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"sort_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"sort_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t *  \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tcheck_auth: function check_auth(func) {\r\n\t\t\tvar _this = this;\r\n\t\t\tvar token = this.user.token;\r\n\t\t\tif (!token){\r\n\t\t\t\ttoken = $.db.get(\"token\");\r\n\t\t\t}\r\n\r\n\t\t\tif (token) {\r\n\t\t\t\tconsole.log(\"\");\r\n\t\t\t\tthis.$get_user((user) => {\r\n\t\t\t\t\tthis.user = user;\r\n\t\t\t\t\tthis.user_group = user.user_group;\r\n\r\n\t\t\t\t\tvar user_group = \"\";\r\n\t\t\t\t\tif(user.user_group){\r\n\t\t\t\t\t\tuser_group = user.user_group;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.$get_auth(user_group);\r\n\t\t\t\t\tconsole.log(\"token\" ,token ,\"user_group\" ,user_group);\r\n\t\t\t\t\tthis.user.token = token;\r\n\t\t\t\t\tif (this.oauth.signIn) {\r\n\t\t\t\t\t\tif (this.user.token) {\r\n\t\t\t\t\t\t\tif(func){\r\n\t\t\t\t\t\t\t\tfunc();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\tpath: \"/account/login\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif(func){\r\n\t\t\t\t\t\t\tfunc();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else if (this.oauth.signIn) {\r\n\t\t\t\tconsole.log(\"\");\r\n\t\t\t\tthis.$get_auth(\"\");\r\n\t\t\t\tif (this.user.token) {\r\n\t\t\t\t\tif(func){\r\n\t\t\t\t\t\tfunc();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tpath: \"/account/login\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"\");\r\n\t\t\t\tthis.$get_auth(\"\");\r\n\t\t\t\tif(func){\r\n\t\t\t\t\tfunc();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} param \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tinit: function init(param, func) {\r\n\t\t\tvar pm = this.events(\"init_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"init_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"init_main\", pm, func);\r\n\t\t\t} else if (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\tinit_before: function init_before(query) {\r\n\t\t\tif (!query) {\r\n\t\t\t\tquery = this.config;\r\n\t\t\t}\r\n\t\t\treturn query;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\tinit_main: function init_main(query) {\r\n\t\t\tvar _this = this;\r\n\t\t\t$.push(this.query, query);\r\n\t\t\t_this.init_after(function() {\r\n\t\t\t\t_this.get(_this.query);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\tinit_after: function init_after(func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} param \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tupload: function upload(param, func) {\r\n\t\t\tvar pm = this.events(\"upload_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"upload_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (msg) {\r\n\t\t\t\tthis.$toast(msg, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\tret = this.events(\"upload_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} value \r\n\t\t */\r\n\t\tadd_main: function add_main(value, func) {\r\n\t\t\tvar url = this.url ? this.url + \"method=add\" : this.url_add;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$post(url, value, function(json) {\r\n\t\t\t\t_this.events(\"add_after\", json, func);\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\t_this.$toast(json.result.tip, json.result.bl ? 'success' : 'danger');\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t_this.$toast(json.error.message, 'danger');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast('! :!', \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} query \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tdel_main: function del_main(query, func) {\r\n\t\t\tvar url = this.url ? this.url + \"method=del\" : this.url_del;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$get(url, query, function(json) {\r\n\t\t\t\t_this.events(\"del_after\", json, func);\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\t_this.$toast(json.result.tip, json.result.bl ? 'success' : 'danger');\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t_this.$toast(json.error.message, 'danger');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast('! :!', \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} json \r\n\t\t * @param {Object} func \r\n\t\t */\r\n\t\tdel_after: function del_after(json, func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} value \r\n\t\t * @param {Object} value \r\n\t\t */\r\n\t\tset_main: function set_main(value, func) {\r\n\t\t\tvar url = this.url ? this.url + \"method=set\" : this.url_set;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tif (!this.query_set || Object.keys(this.query_set).length === 0) {\r\n\t\t\t\tthis.query_set = this.query;\r\n\t\t\t}\r\n\t\t\tthis.$post(this.toUrl(this.query_set, url), value, function(json, status) {\r\n\t\t\t\t_this.events(\"set_after\", json, func);\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\t_this.$toast('', 'success');\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t_this.$toast(json.error.message, 'danger');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast(\"\", \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} json \r\n\t\t * @param {Object} func \r\n\t\t */\r\n\t\tset_after: function set_after(json, func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(json);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} query \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tget: function get(query, func) {\r\n\t\t\tthis.get_main(query, func);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description ()\r\n\t\t * @param {Object} query \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tget_main: function get_main(query, func) {\r\n\t\t\tvar url = this.url_get_obj ? this.url_get_obj : this.url;\r\n\t\t\tif (url) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.get_obj(query, function() {\r\n\t\t\t\t\t_this.get_create(query, func);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.get_create(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} param \r\n\t\t */\r\n\t\tget_obj_check: function get_obj_check(param) {\r\n\t\t\tvar bl = false;\r\n\t\t\tfor (var k in param) {\r\n\t\t\t\tif (param[k]) {\r\n\t\t\t\t\tbl = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (bl) {\r\n\t\t\t\treturn null;\r\n\t\t\t} else {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description ()\r\n\t\t * @param {Object} query \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tget_obj_main: function get_obj_main(query, func) {\r\n\t\t\t// console.log(\"get_obj_main\");\r\n\t\t\tvar url = this.url_get_obj ? this.url_get_obj : this.url + \"method=get_obj\";\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$get(this.toUrl(query, url), null, function(json, status) {\r\n\t\t\t\t_this.events(\"get_obj_after\", json, func);\r\n\t\t\t\tvar res = json.result;\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tvar obj;\r\n\t\t\t\t\tif (res.obj) {\r\n\t\t\t\t\t\tobj = res.obj;\r\n\t\t\t\t\t\tdelete res.obj;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar list = res.list;\r\n\t\t\t\t\t\tif (list && list.length > 0) {\r\n\t\t\t\t\t\t\tobj = list[0];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobj = res;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (obj) {\r\n\t\t\t\t\t\tif (!_this.obj || Object.keys(_this.obj).length === 0) {\r\n\t\t\t\t\t\t    _this.obj = obj;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t    $.push(_this.obj, obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// _this.$changeTime(_this.obj);\r\n\t\t\t\t\t\tif (!_this.form || Object.keys(_this.form).length === 0) {\r\n\t\t\t\t\t\t    _this.form = Object.assign({}, _this.obj)\r\n\t\t\t\t\t\t\tvar form = $.db.get(\"form\");\r\n\t\t\t\t\t\t\tif(Object.keys(_this.form).length > 0){\r\n\t\t\t\t\t\t\t\t$.push(_this.form, form);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t    $.push(_this.form, Object.assign({}, _this.obj));\r\n\t\t\t\t\t\t\tvar form = $.db.get(\"form\");\r\n\t\t\t\t\t\t\tif(Object.keys(_this.form).length > 0){\r\n\t\t\t\t\t\t\t\t$.push(_this.form, form);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\tconsole.log(json.error.message);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// _this.$toast(\"\", \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} json \r\n\t\t */\r\n\t\tget_obj_after: function get_obj_after(json, func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(json);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description ()\r\n\t\t * @param {Object} query \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tget_list_main: function get_list_main(query, func) {\r\n\t\t\tvar url = this.url_get_list ? this.url_get_list : this.url;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.loading = 0;\r\n\r\n\t\t\t_this.turnOff && history.pushState(null, \"\", \"?\" + this.toUrl(this.query));\r\n\t\t\tthis.$get(this.toUrl(query, url), null, function(json, status) {\r\n\t\t\t\t_this.loading = 100;\r\n\t\t\t\tif (_this.clear_list) {\r\n\t\t\t\t\t_this.list.clear();\r\n\t\t\t\t}\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tvar res = json.result;\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\t_this.page_now = _this.query.page;\r\n\t\t\t\t\t_this.list.addList(res.list);\r\n\t\t\t\t\tif (res.count !== undefined) {\r\n\t\t\t\t\t\t_this.count = res.count;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_this.turnOff = true;\r\n\t\t\t\t\t_this.events(\"get_list_after\", json, func, url);\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\tconsole.log(json.error.message);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast(\"\", \"danger\");\r\n\t\t\t\t}\r\n\t\t\t\t},0)\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} res \r\n\t\t */\r\n\t\tget_list_after: function get_list_after(res, func, url) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(res, url);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} query \r\n\t\t * @param {Boolean} bl \r\n\t\t */\r\n\t\tsearch: function search(query, func) {\r\n\t\t\tif (query) {\r\n\t\t\t\t$.push(this.query, query);\r\n\t\t\t}\r\n\t\t\tvar url = this.url_get_list ? this.url_get_list : this.url;\r\n\t\t\tif (url) {\r\n\t\t\t\tthis.query.page = 1;\r\n\t\t\t\tthis.count = 0;\r\n\t\t\t\tthis.first(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tget_create: function get_create(query, func) {\r\n\t\t\tif (query) {\r\n\t\t\t\t$.push(this.query, query);\r\n\t\t\t}\r\n\t\t\tvar url = this.url_get_list ? this.url_get_list : this.url;\r\n\t\t\tif (url) {\r\n\t\t\t\tthis.count = 0;\r\n\t\t\t\tthis.first(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description  ()\r\n\t\t * @param {Object} query \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tfirst: function first(query, func) {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (!this.count) {\r\n\t\t\t\tvar qy = Object.assign({}, this.query);\r\n\t\t\t\tthis.get_list(qy, func);\r\n\t\t\t} else {\r\n\t\t\t\tthis.get_list(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tnext: function next(query, func) {\r\n\t\t\t// console.log(\"next\");\r\n\t\t\tvar _this = this;\r\n\t\t\t_this.get_list(query, function(json, url) {\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\tvar list = json.result.list;\r\n\t\t\t\t\tif (list.length > 0) {\r\n\t\t\t\t\t\tvar qy = Object.assign({}, query, {\r\n\t\t\t\t\t\t\tpage: query.page + 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (qy.page <= _this.page_count) {\r\n\t\t\t\t\t\t\t_this.$get(_this.toUrl(qy, url));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (func) {\r\n\t\t\t\t\tfunc(json);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tprev: function prev(query, func) {\r\n\t\t\t// console.log(\"prev\");\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.get_list(query, function(json, url) {\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\tvar list = json.result.list;\r\n\t\t\t\t\tif (list.length > 0) {\r\n\t\t\t\t\t\tvar qy = Object.assign({}, query, {\r\n\t\t\t\t\t\t\tpage: query.page - 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (qy.page >= 1) {\r\n\t\t\t\t\t\t\t_this.$get(_this.toUrl(qy, url));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (func) {\r\n\t\t\t\t\tfunc(res);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} query\r\n\t\t */\r\n\t\tclear: function clear(query) {\r\n\t\t\t$.clear(query);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\treset: function reset() {\r\n\t\t\t$.clear(this.query);\r\n\t\t\t$.push(this.query, this.config);\r\n\t\t\tthis.get_list();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} user_group \r\n\t\t * @param {String} username \r\n\t\t * @param {String} password \r\n\t\t * @param {String} userid ID\r\n\t\t */\r\n\t\tsubmitUser(user_group, userKey, userid = \"user_id\") {\r\n\t\t\tthis.$refs[\"form\"].validate(async (valid) => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tvar form = this.form;\r\n\t\t\t\t\tif (form[userKey]) {\r\n\t\t\t\t\t\tvar username = form[userKey];\r\n\t\t\t\t\t\tvar password = form[userKey].md5();\r\n\t\t\t\t\t\tif (this.form[userid]) {\r\n\t\t\t\t\t\t\tthis.submit();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tawait this.$post(\"~/api/user/add?\", {\r\n\t\t\t\t\t\t\t\tusername,\r\n\t\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\t\tuser_group\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$get(\"~/api/user/get_obj?\", {\r\n\t\t\t\t\t\t\t\t\tusername,\r\n\t\t\t\t\t\t\t\t\tuser_group\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t(json) => {\r\n\t\t\t\t\t\t\t\t\tif (json.result && json.result.obj) {\r\n\t\t\t\t\t\t\t\t\t\tthis.form[userid] = json.result.obj.user_id;\r\n\t\t\t\t\t\t\t\t\t\tthis.submit();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('error !!');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error('error !!');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} param \r\n\t\t * @param {Object} func \r\n\t\t */\r\n\t\tsubmit: function submit(param, func) {\r\n\t\t\t// console.log('', param);\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.form;\r\n\t\t\t}\r\n\t\t\t// \r\n\t\t\tvar pm = this.events(\"submit_before\", Object.assign({}, param)) || param;\r\n\t\t\t// \r\n\t\t\tvar msg = this.events(\"submit_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\t// \r\n\t\t\tif (msg) {\r\n\t\t\t\tthis.$toast(msg, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\t// \r\n\t\t\t\tret = this.events(\"submit_main\", pm, func);\r\n\t\t\t}\r\n\t\t\t// \r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} param \r\n\t\t */\r\n\t\tsubmit_before: function(param) {\r\n\t\t\t// console.log('', param);\r\n\t\t\treturn param;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} \r\n\t\t * @return {String} null, \r\n\t\t */\r\n\t\tsubmit_check: function submit_check(param) {\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\tsubmit_main: function submit_main(param, func) {\r\n\t\t\t// console.log('', param);\r\n\t\t\tvar url = this.url;\r\n\t\t\tconsole.log(\"submit_main_param----\",param)\r\n\t\t\tconsole.log(\"submit_main_url----\",url)\r\n\t\t\tconsole.log(\"submit_main_field----\",this.field)\r\n\t\t\tif (url) {\r\n\t\t\t\tif (this.field) {\r\n\t\t\t\t\tvar id = param[this.field];\r\n\t\t\t\t\tif (id) {\r\n\t\t\t\t\t\tvar q = {\r\n\t\t\t\t\t\t\tmethod: 'set'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tq[this.field] = id;\r\n\t\t\t\t\t\tconsole.log(\"q----->\",q)\r\n\t\t\t\t\t\turl = this.toUrl(q, url);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\turl += \"method=add\"\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\turl += \"method=submit\"\r\n\t\t\t\t}\r\n\t\t\t} else if (this.url_submit) {\r\n\t\t\t\turl = this.url_submit;\r\n\t\t\t} else if (this.field) {\r\n\t\t\t\tvar id = param[this.field];\r\n\t\t\t\t// console.log(this.field,id);\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\turl = this.url_set;\r\n\t\t\t\t} else {\r\n\t\t\t\t\turl = this.url_add;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('', url);\r\n\t\t\tif (url) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\t// console.log('', url, param);\r\n\t\t\t\turl = this.$toUrl(this.query, url);\r\n\t\t\t\tthis.$post(url, param, function(json, status) {\r\n\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t_this.events(\"submit_after\", json, func);\r\n\t\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t\t_this.$toast(json.error.message, 'danger');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.$toast(\"\", \"danger\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} json \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tsubmit_after: function submit_after(json, func) {\r\n\t\t\tthis.$toast('', 'success');\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(json);\r\n\t\t\t}\r\n\t\t\tthis.$router.go(-1);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} n \r\n\t\t */\r\n\t\tgo: function go(n) {\r\n\t\t\tvar page = this.query.page + n;\r\n\t\t\tthis.goTo(page);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} page \r\n\t\t */\r\n\t\tgoTo: function goTo(page) {\r\n\t\t\tif (page < 1) {\r\n\t\t\t\tpage = 1;\r\n\t\t\t} else if (page > this.page_count) {\r\n\t\t\t\tpage = this.page_count;\r\n\t\t\t}\r\n\t\t\tvar query = this.query;\r\n\t\t\tvar p = query.page;\r\n\t\t\tquery.page = page;\r\n\t\t\tthis.$router.push(\"?\" + this.toUrl(query));\r\n\t\t\tif (this.page_count !== 0) {\r\n\t\t\t\tif (p + 1 == page) {\r\n\t\t\t\t\tthis.next(query);\r\n\t\t\t\t} else if (p - 1 == page) {\r\n\t\t\t\t\tthis.prev(query);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.first(query);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.first(query);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} obj \r\n\t\t * @param {String} url \r\n\t\t * @return {String} url\r\n\t\t */\r\n\t\ttoUrl: function toUrl(obj, url) {\r\n\t\t\treturn $.toUrl(obj, url);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Function} func \r\n\t\t */\r\n\t\tupload_main: function upload_main(func) {\r\n\t\t\tvar url = \"\";\r\n\t\t\tif (this.url) {\r\n\t\t\t\turl = this.url + \"method=upload\";\r\n\t\t\t} else {\r\n\t\t\t\turl = this.url_upload;\r\n\t\t\t}\r\n\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.form;\r\n\t\t\t}\r\n\t\t\tif (msg) {\r\n\t\t\t\tthis.$toast(msg, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\tthis.uploading = 0;\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.$upload(url, param, function(json, status) {\r\n\t\t\t\t\t_this.uploading = 100;\r\n\t\t\t\t\t_this.events(\"upload_after\", json, func);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {Object} json \r\n\t\t * @param {Function} func\r\n\t\t */\r\n\t\tupload_after: function upload_after(json, func) {\r\n\t\t\tif (json.result) {\r\n\t\t\t\tthis.$toast(json.result.tip, json.result.bl ? 'success' : 'danger');\r\n\t\t\t} else if (json.error) {\r\n\t\t\t\tthis.$toast(json.error.message, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\tthis.$toast(\"\", \"danger\");\r\n\t\t\t}\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} param \r\n\t\t */\r\n\t\tend_before: function end_before(param) {\r\n\t\t\t// this.reset();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\tselect_all: function select_all() {\r\n\t\t\tvar bl = !this.select_state;\r\n\t\t\tif (!bl) {\r\n\t\t\t\tthis.selects = '';\r\n\t\t\t} else {\r\n\t\t\t\tvar s = '';\r\n\t\t\t\tvar list = this.list;\r\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\ts += '|' + list[i][this.field];\r\n\t\t\t\t}\r\n\t\t\t\tthis.selects = s.replace('|', '');\r\n\t\t\t}\r\n\t\t\tthis.select_state = bl;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String|Number} id ID\r\n\t\t */\r\n\t\tselect_change: function select_change(id) {\r\n\t\t\tvar has = false\r\n\t\t\tvar arr = this.selects.split('|');\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (id == o) {\r\n\t\t\t\t\tarr.splice(i, 1);\r\n\t\t\t\t\thas = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!has) {\r\n\t\t\t\tarr.push(id)\r\n\t\t\t}\r\n\t\t\tvar s = arr.join('|');\r\n\t\t\tif (s.indexOf('|') == 0) {\r\n\t\t\t\tthis.selects = s.substring(1)\r\n\t\t\t} else {\r\n\t\t\t\tthis.selects = s;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String|Number} id ID\r\n\t\t */\r\n\t\tselect_has: function select_has(id) {\r\n\t\t\tvar ids = '|' + this.selects + '|';\r\n\t\t\treturn ids.indexOf('|' + id + '|') !== -1;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} index \r\n\t\t */\r\n\t\tselected: function selected(index) {\r\n\t\t\tthis.select = index;\r\n\t\t\t$.db.set('select', index, 120);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} e \r\n\t\t */\r\n\t\tpage_change: function page_change(e) {\r\n\t\t\tvar n = Number(e.target.value);\r\n\t\t\tif (isNaN(n)) {\r\n\t\t\t\tn = 1;\r\n\t\t\t}\r\n\t\t\tif (n < 1) {\r\n\t\t\t\tn = 1;\r\n\t\t\t} else if (n > this.page_count) {\r\n\t\t\t\tn = this.page_count\r\n\t\t\t}\r\n\t\t\tthis.page_now = n;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Array} list \r\n\t\t * @param {String} arr_str id\r\n\t\t * @param {String} key \r\n\t\t * @param {String} name \r\n\t\t * @param {String} span \r\n\t\t */\r\n\t\tget_name(list, arr_str, key, name, span) {\r\n\t\t\tif (!name) {\r\n\t\t\t\tname = \"name\";\r\n\t\t\t}\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (arr_str) {\r\n\t\t\t\tif (typeof(arr_str) == 'string') {\r\n\t\t\t\t\tif (!span) {\r\n\t\t\t\t\t\tspan = ',';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar arr = arr_str.split(span);\r\n\t\t\t\t\tvar id = Number(arr[0]);\r\n\r\n\t\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t\tvar o = list[i];\r\n\t\t\t\t\t\tif (o[key] == id) {\r\n\t\t\t\t\t\t\tvalue += '|' + o[name];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar id = arr_str;\r\n\t\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t\tvar o = list[i];\r\n\t\t\t\t\t\tif (o[key] == id) {\r\n\t\t\t\t\t\t\tvalue = o[name];\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn value.replace('|', '');\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\tcancel: function cancel() {\r\n\t\t\tthis.$router.go(-1);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} file \r\n\t\t */\r\n\t\timport_db: function import_db(file) {\r\n\t\t\tif (file) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\t$.confirm(\" \" + file.name, \"\", function() {\r\n\t\t\t\t\t$.http.upload(_this.url_import, file, function(json) {\r\n\t\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t\t$.confirm(json.result.tip, function() {\r\n\t\t\t\t\t\t\t\t_this.get();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t\t\t$.confirm(json.error.message);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.$toast(\"\", \"danger\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\texport_db: function export_db() {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (this.selects) {\r\n\t\t\t\tvar query = {};\r\n\t\t\t\tquery[this.field] = this.selects;\r\n\t\t\t\tthis.$get(_this.url_export, query, function(json) {\r\n\t\t\t\t\tvar res = json.result;\r\n\t\t\t\t\tif (res && res.bl) {\r\n\t\t\t\t\t\twindow.location.href = res.url;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.$get(_this.url_export, this.query, function(json) {\r\n\t\t\t\t\tvar res = json.result;\r\n\t\t\t\t\tif (res && res.bl) {\r\n\t\t\t\t\t\twindow.location.href = res.url;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} id ID\r\n\t\t * @param {Object} list \r\n\t\t * @return {Number} \r\n\t\t */\r\n\t\topens_has_sub: function(id, list) {\r\n\t\t\tif (!list) {\r\n\t\t\t\tlist = this.list;\r\n\t\t\t}\r\n\t\t\tvar bl = false;\r\n\t\t\tvar father_id = this.father_id;\r\n\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\tvar o = list[i];\r\n\t\t\t\tif (o[father_id] === id) {\r\n\t\t\t\t\tbl = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bl;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} id \r\n\t\t */\r\n\t\topens_change: function opens_change(id) {\r\n\t\t\tvar index = this.opens.indexOf(id);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.opens.splice(index, 1);\r\n\t\t\t} else {\r\n\t\t\t\tvar bl = this.opens_has_sub(id);\r\n\t\t\t\tif (bl) {\r\n\t\t\t\t\tthis.opens.push(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$.db.set('opens', this.opens);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} id \r\n\t\t * @return {Boolean} true, false\r\n\t\t */\r\n\t\topens_has: function opens_has(id) {\r\n\t\t\treturn this.opens.indexOf(id) !== -1;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * , 5\r\n\t\t * @param {Number} fid ID\r\n\t\t * @param {Object} list \r\n\t\t * @return {Number} \r\n\t\t */\r\n\t\topens_lv: function opens_lv(fid, list) {\r\n\t\t\tif (!list) {\r\n\t\t\t\tlist = this.list;\r\n\t\t\t}\r\n\t\t\tvar lv = 0;\r\n\t\t\tvar father_id = this.father_id;\r\n\t\t\tvar id = this.field;\r\n\t\t\tvar num = fid;\r\n\t\t\tfor (var n = 0; n < 5; n++) {\r\n\t\t\t\tif (num === 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\tvar o = list[i];\r\n\t\t\t\t\tif (o[id] === num) {\r\n\t\t\t\t\t\tlv++;\r\n\t\t\t\t\t\tnum = o[father_id];\r\n\t\t\t\t\t\tif (num === 0) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn lv;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} value\r\n\t\t * @param {Object} row\r\n\t\t */\r\n\t\tfilterState(value, row) {\r\n\t\t\treturn row.state === value;\r\n\t\t},\r\n\r\n\r\n\t\t// \r\n\t\tdelInfo() {\r\n\t\t\tvar list = this.selection;\r\n\t\t\tif (list.length === 0) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\tmessage: '!'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.$confirm(', ?', '', {\r\n\t\t\t\tconfirmButtonText: '',\r\n\t\t\t\tcancelButtonText: '',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t}).then(async () => {\r\n\t\t\t\tawait this.delAll(list);\r\n\t\t\t}).catch(() => {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\tmessage: ''\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} list \r\n\t\t */\r\n\t\tasync delAll(list) {\r\n\t\t\tvar bl = true;\r\n\t\t\tvar query = {};\r\n\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\tvar obj = list[i];\r\n\t\t\t\tvar field = this.field;\r\n\t\t\t\t// ID\r\n\t\t\t\tquery[field] = obj[field];\r\n\t\t\t\tvar o = await this.$get(this.url_del, query);\r\n\t\t\t\tif (o.error) {\r\n\t\t\t\t\tthis.$message.error('' + o.error.message);\r\n\t\t\t\t\tbl = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (bl) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '!'\r\n\t\t\t\t});\r\n\t\t\t\tthis.get_list()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} file \r\n\t\t * @param {key} \r\n\t\t */\r\n\t\tuploadFile(file, key = \"img\") {\r\n\t\t\tvar _this = this;\r\n\t\t\tvar form = new FormData() // FormData \r\n\t\t\tform.append('file', file) // \r\n\t\t\tthis.$upload(this.url_upload, form, function(json) {\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\t_this.form[key] = _this.$fullUrl(\"~\" + json.result.url);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast('');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} val\r\n\t\t */\r\n\t\tselectionChange(val) {\r\n\t\t\tthis.selection = val;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} size\r\n\t\t */\r\n\t\thandleSizeChange(size) {\r\n\t\t\tthis.query.size = size;\r\n\t\t\tthis.get_list();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Object} page\r\n\t\t */\r\n\t\thandleCurrentChange(page) {\r\n\t\t\tthis.query.page = page;\r\n\t\t\tthis.get_list();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param {Object} url\r\n\t\t * @param {Object} key\r\n\t\t */\r\n\t\tto_form(url,key){\r\n\t\t\t$.db.set(\"form\",this.obj);\r\n\t\t\tthis.$router.push(url);\r\n\t\t},\r\n\r\n\t},\r\n\tcomputed: {\r\n\t\t/**\r\n\t\t * \r\n\t\t */\r\n\t\tpage_count: function page_count() {\r\n\t\t\treturn Math.ceil(this.count / this.query.size);\r\n\t\t}\r\n\t},\r\n\tcreated: function created() {\r\n\t\tconsole.log(\"page\");\r\n\t\tthis.showing = 0;\r\n\t\tthis.check_auth(() => {\r\n\t\t\tconsole.log(\"\");\r\n\t\t\tthis.init(this.$route.query);\r\n\t\t})\r\n\t},\r\n\tmounted: function mounted() {\r\n\t\tthis.showing = 100;\r\n\t},\r\n\tbeforeDestroy: function beforeDestroy() {\r\n\t\tthis.events('end_before');\r\n\t},\r\n  filters: {\r\n\t\t/**\r\n\t\t * @description \r\n\t\t * @param {String} date \r\n\t\t */\r\n\t formatDate(date) {\r\n\t\t\t\tvar date = new Date(date);\r\n\t\t\t\tvar YY = date.getFullYear() + '-';\r\n\t\t\t\tvar MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\r\n\t\t\t\tvar DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate());\r\n\t\t\t\tvar hh = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\r\n\t\t\t\tvar mm = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';\r\n\t\t\t\tvar ss = (date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds());\r\n\t\t\t\treturn YY + MM + DD +\" \"+hh + mm + ss;\r\n\t\t\t}\r\n\t}\r\n};\r\n"]}]}