{"remainingRequest":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\views\\user\\password.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\views\\user\\password.vue","mtime":1642669596000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1peGluIGZyb20gIkAvbWl4aW5zL3BhZ2UuanMiOwppbXBvcnQgbGlzdF9tZW51X3VzZXIgZnJvbSAiQC9jb21wb25lbnRzL2RpeS9saXN0X21lbnVfdXNlci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbbWl4aW5dLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgb19wYXNzd29yZDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIGNvbmZpcm1fcGFzc3dvcmQ6ICIiLAogICAgICBsaXN0X2luZm86IFt7CiAgICAgICAgdGl0bGU6ICLkuKrkurrotYTmlpkiLAogICAgICAgIHVybDogIi91c2VyL2luZm8iLAogICAgICAgIGljb246ICJob3VzZS1maWxsIiwKICAgICAgICBzZWxlY3RlZDogZmFsc2UKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5a+G56CB5L+u5pS5IiwKICAgICAgICB1cmw6ICIvdXNlci9wYXNzd29yZCIsCiAgICAgICAgaWNvbjogInBlcnNvbi1maWxsIiwKICAgICAgICBzZWxlY3RlZDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLmlLbol48iLAogICAgICAgIHVybDogIi91c2VyL2NvbGxlY3QiLAogICAgICAgIGljb246ICJoZWFydC1maWxsIiwKICAgICAgICBzZWxlY3RlZDogZmFsc2UKICAgICAgfV0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLyoqCiAgICAgKiDpqozor4Hljp/lp4vlr4bnoIEKICAgICAqLwogICAgdmFsaWRhdGlvbl9vX3Bhc3N3b3JkOiBmdW5jdGlvbiB2YWxpZGF0aW9uX29fcGFzc3dvcmQoKSB7CiAgICAgIHZhciBsZW5ndGggPSB0aGlzLmZvcm0ucGFzc3dvcmQubGVuZ3RoOwoKICAgICAgaWYgKCFsZW5ndGgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgcmV0dXJuIGxlbmd0aCA+IDQgJiYgbGVuZ3RoIDwgMTc7CiAgICB9LAoKICAgIC8qKgogICAgICog6aqM6K+B5a+G56CBCiAgICAgKi8KICAgIHZhbGlkYXRpb25fcGFzc3dvcmQ6IGZ1bmN0aW9uIHZhbGlkYXRpb25fcGFzc3dvcmQoKSB7CiAgICAgIHZhciBsZW5ndGggPSB0aGlzLmZvcm0ucGFzc3dvcmQubGVuZ3RoOwoKICAgICAgaWYgKCFsZW5ndGgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgcmV0dXJuIGxlbmd0aCA+IDQgJiYgbGVuZ3RoIDwgMTc7CiAgICB9LAoKICAgIC8qKgogICAgICog5YaN5qyh6aqM6K+B5a+G56CBCiAgICAgKi8KICAgIHZhbGlkYXRpb25fY29uZmlybV9wYXNzd29yZDogZnVuY3Rpb24gdmFsaWRhdGlvbl9jb25maXJtX3Bhc3N3b3JkKCkgewogICAgICByZXR1cm4gdGhpcy5jb25maXJtX3Bhc3N3b3JkID09PSB0aGlzLmZvcm0ucGFzc3dvcmQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIOS/ruaUueWvhueggQogICAgICovCiAgICBjaGFuZ2VfcGFzc3dvcmQ6IGZ1bmN0aW9uIGNoYW5nZV9wYXNzd29yZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBmb3JtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5mb3JtKTsKCiAgICAgIGlmICh0aGlzLmZvcm0ucGFzc3dvcmQgPT09IHRoaXMuY29uZmlybV9wYXNzd29yZCAmJiB0aGlzLmZvcm0ub19wYXNzd29yZCkgewogICAgICAgIHRoaXMuJHBvc3QoIn4vYXBpL3VzZXIvY2hhbmdlX3Bhc3N3b3JkPyIsIGZvcm0sIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAgIC8v5by55Ye65pu05pS55oiQ5Yqf77yMM+enkuWQjuiwg+WIsOS4u+mhte+8jOmAgOWHuui0puaItwogICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJzaWduX291dCIpOwoKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvYWNjb3VudC9sb2dpbiIpOwogICAgICAgICAgfSBlbHNlIGlmIChyZXMuZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmVycm9yKTsKICAgICAgICAgICAgYWxlcnQocmVzLmVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBsaXN0X21lbnVfdXNlcjogbGlzdF9tZW51X3VzZXIKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7Ly8gY29uc29sZS5sb2codGhpcy51c2VyKTsKICB9Cn07"},{"version":3,"sources":["password.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,OAAA,KAAA,MAAA,kBAAA;AACA,OAAA,cAAA,MAAA,qCAAA;AAEA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,KAAA,CADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,UAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAMA,MAAA,gBAAA,EAAA,EANA;AAQA,MAAA,SAAA,EAAA,CAAA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,YAFA;AAGA,QAAA,IAAA,EAAA,YAHA;AAIA,QAAA,QAAA,EAAA;AAJA,OAAA,EAMA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,gBAFA;AAGA,QAAA,IAAA,EAAA,aAHA;AAIA,QAAA,QAAA,EAAA;AAJA,OANA,EAYA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,GAAA,EAAA,eAFA;AAGA,QAAA,IAAA,EAAA,YAHA;AAIA,QAAA,QAAA,EAAA;AAJA,OAZA;AARA,KAAA;AA4BA,GAhCA;AAiCA,EAAA,QAAA,EAAA;AACA;AACA;AACA;AACA,IAAA,qBAJA,mCAIA;AACA,UAAA,MAAA,GAAA,KAAA,IAAA,CAAA,QAAA,CAAA,MAAA;;AACA,UAAA,CAAA,MAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,aAAA,MAAA,GAAA,CAAA,IAAA,MAAA,GAAA,EAAA;AACA,KAVA;;AAWA;AACA;AACA;AACA,IAAA,mBAdA,iCAcA;AACA,UAAA,MAAA,GAAA,KAAA,IAAA,CAAA,QAAA,CAAA,MAAA;;AACA,UAAA,CAAA,MAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,aAAA,MAAA,GAAA,CAAA,IAAA,MAAA,GAAA,EAAA;AACA,KApBA;;AAqBA;AACA;AACA;AACA,IAAA,2BAxBA,yCAwBA;AACA,aAAA,KAAA,gBAAA,KAAA,KAAA,IAAA,CAAA,QAAA;AACA;AA1BA,GAjCA;AA6DA,EAAA,OAAA,EAAA;AACA;AACA;AACA;AACA,IAAA,eAJA,6BAIA;AAAA;;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,IAAA,CAAA;;AAEA,UAAA,KAAA,IAAA,CAAA,QAAA,KAAA,KAAA,gBAAA,IAAA,KAAA,IAAA,CAAA,UAAA,EAAA;AACA,aAAA,KAAA,CAAA,6BAAA,EAAA,IAAA,EAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,MAAA,EAAA;AACA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,UAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,gBAAA;AACA,WAJA,MAIA,IAAA,GAAA,CAAA,KAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,KAAA;AACA,YAAA,KAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA,CAAA;AACA;AACA,SATA;AAUA;AACA;AAnBA,GA7DA;AAkFA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA;AADA,GAlFA;AAqFA,EAAA,OArFA,qBAqFA,CACA;AACA;AAvFA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"page_user\" id=\"user_password\">\r\n\t\t<div class=\"warp\">\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<div class=\"row justify-content-between\">\r\n\t\t\t\t\t<div class=\"col-12 col-md-3\">\r\n\t\t\t\t\t\t<div class=\"card_menu\">\r\n\t\t\t\t\t\t\t<!-- 左侧边栏 -->\r\n\t\t\t\t\t\t\t<list_menu_user :list_info=\"list_info\"></list_menu_user>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col-12 col-md-9\">\r\n\t\t\t\t\t\t<div class=\"card_password pl-2\">\r\n\t\t\t\t\t\t\t<div>密码修改</div>\r\n\t\t\t\t\t\t\t<!-- 密码修改 -->\r\n\t\t\t\t\t\t\t<b-form>\r\n\t\t\t\t\t\t\t\t<b-form-group id=\"input-group-2\" label=\"输入原始密码:\" label-for=\"input-2\"\r\n\t\t\t\t\t\t\t\t\t:state=\"validation_o_password\" invalid-feedback=\"密码长度为在5-16个字符\"\r\n\t\t\t\t\t\t\t\t\tvalid-feedback=\"校验通过\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input id=\"input-2\" v-model=\"form.o_password\" type=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"原始密码\" trim></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group id=\"input-group-2\" label=\"设置新密码:\" label-for=\"input-2\"\r\n\t\t\t\t\t\t\t\t\t:state=\"validation_password\" invalid-feedback=\"密码长度为在5-16个字符\" valid-feedback=\"校验通过\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input id=\"input-2\" v-model=\"form.password\" type=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"设置新密码\" trim></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t\t<b-form-group id=\"input-group-2\" label=\"确认密码:\" label-for=\"input-2\"\r\n\t\t\t\t\t\t\t\t\t:state=\"validation_confirm_password\" invalid-feedback=\"密码不一致\" valid-feedback=\"\">\r\n\t\t\t\t\t\t\t\t\t<b-form-input id=\"input-2\" v-model=\"confirm_password\" type=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"确认密码\" trim></b-form-input>\r\n\t\t\t\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t\t\t</b-form>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\"btn_item\" @click=\"change_password()\">确认修改</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport mixin from \"@/mixins/page.js\";\r\n\timport list_menu_user from \"@/components/diy/list_menu_user.vue\";\r\n\r\n\texport default {\r\n\t\tmixins: [mixin],\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\to_password: \"\",\r\n\t\t\t\t\tpassword: \"\",\r\n\t\t\t\t},\r\n\r\n\t\t\t\tconfirm_password: \"\",\r\n\r\n\t\t\t\tlist_info: [{\r\n\t\t\t\t\t\ttitle: \"个人资料\",\r\n\t\t\t\t\t\turl: \"/user/info\",\r\n\t\t\t\t\t\ticon: \"house-fill\",\r\n\t\t\t\t\t\tselected: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"密码修改\",\r\n\t\t\t\t\t\turl: \"/user/password\",\r\n\t\t\t\t\t\ticon: \"person-fill\",\r\n\t\t\t\t\t\tselected: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"收藏\",\r\n\t\t\t\t\t\turl: \"/user/collect\",\r\n\t\t\t\t\t\ticon: \"heart-fill\",\r\n\t\t\t\t\t\tselected: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t/**\r\n\t\t\t * 验证原始密码\r\n\t\t\t */\r\n\t\t\tvalidation_o_password() {\r\n\t\t\t\tvar length = this.form.password.length;\r\n\t\t\t\tif (!length) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn length > 4 && length < 17;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 验证密码\r\n\t\t\t */\r\n\t\t\tvalidation_password() {\r\n\t\t\t\tvar length = this.form.password.length;\r\n\t\t\t\tif (!length) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn length > 4 && length < 17;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 再次验证密码\r\n\t\t\t */\r\n\t\t\tvalidation_confirm_password() {\r\n\t\t\t\treturn this.confirm_password === this.form.password;\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 修改密码\r\n\t\t\t */\r\n\t\t\tchange_password() {\r\n\t\t\t\tvar form = Object.assign({},this.form);\r\n\r\n\t\t\t\tif(this.form.password === this.confirm_password && this.form.o_password){\r\n\t\t\t\t\tthis.$post(\"~/api/user/change_password?\", form, (res) => {\r\n\t\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\t\t//弹出更改成功，3秒后调到主页，退出账户\r\n\t\t\t\t\t\t\tthis.$store.commit(\"sign_out\");\r\n\t\t\t\t\t\t\tthis.$router.push(\"/account/login\")\r\n\t\t\t\t\t\t} else if (res.error) {\r\n\t\t\t\t\t\t\tconsole.log(res.error);\r\n\t\t\t\t\t\t\talert(res.error.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tlist_menu_user,\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// console.log(this.user);\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.container {\r\n\t\tmin-height: 800px;\r\n\t}\r\n\r\n\t.btn_item {\r\n\t\tcursor: pointer;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: var(--color_primary);\r\n\t\tcolor: #fff;\r\n\t\ttext-align: center;\r\n\t\theight: 48px;\r\n\t\tline-height: 48px;\r\n\t}\r\n\r\n\t.card_password {\r\n\t\tpadding: 10px;\r\n\t\twidth: 500px;\r\n\t\tmargin: auto;\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src/views/user"}]}