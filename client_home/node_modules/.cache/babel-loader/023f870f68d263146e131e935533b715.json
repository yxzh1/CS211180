{"remainingRequest":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\plugins\\sdk.js","dependencies":[{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\plugins\\sdk.js","mtime":1642669596000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90eXBlb2YgPSByZXF1aXJlKCJEOi9Xb3JrU3BhY2UvbG9jYWxDb2RlL0NTMjExMTgwL2NsaWVudF9ob21lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpLmRlZmF1bHQ7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktbmFtZXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKCi8qID09IOaVsOWtl+WOn+Wei+WHveaVsCA9PSAqLwooZnVuY3Rpb24gKCkgewogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5Y675bC+5rOVDQogICAqIEBwYXJhbSB7TnVtYmVyfSBsZW4g5L+d55WZ6ZW/5bqmDQogICAqIEByZXR1cm4ge051bWJlcn0g5pWw5YC8DQogICAqLwogIE51bWJlci5wcm90b3R5cGUudG9GbG9vciA9IGZ1bmN0aW9uIChsZW4pIHsKICAgIHZhciBuID0gTWF0aC5wb3coMTAsIGxlbik7CiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzICogbikgLyBuOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDov5vkuIDms5UNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbiDkv53nlZnplb/luqYNCiAgICogQHJldHVybiB7TnVtYmVyfSDmlbDlgLwNCiAgICovCgoKICBOdW1iZXIucHJvdG90eXBlLnRvQ2VpbCA9IGZ1bmN0aW9uIChsZW4pIHsKICAgIHZhciBuID0gTWF0aC5wb3coMTAsIGxlbik7CiAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMgKiBuKSAvIG47CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWbm+iIjeS6lOWFpeazlQ0KICAgKiBAcGFyYW0ge051bWJlcn0gbGVuIOS/neeVmemVv+W6pg0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9IOaVsOWAvA0KICAgKi8KCgogIE51bWJlci5wcm90b3R5cGUudG9Sb3VuZCA9IGZ1bmN0aW9uIChsZW4pIHsKICAgIHZhciBuID0gTWF0aC5wb3coMTAsIGxlbik7CiAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzICogbikgLyBuOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDmlbDlgLzovazlrZfnrKbkuLIsIOS/neeVmeWwvuaVsOmVv+W6pg0KICAgKiBAcGFyYW0ge051bWJlcn0gbGVuIOS/neeVmemVv+W6pg0KICAgKiBAcGFyYW0ge1N0cmluZ30gbW9kZSDkv53nlZnmlrnlvI8NCiAgICogQHJldHVybiB7U3RyaW5nfSDmiKrlj5blkI7lrZfnrKbkuLINCiAgICovCgoKICBOdW1iZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChsZW4sIG1vZGUpIHsKICAgIHZhciBuOwoKICAgIHN3aXRjaCAobW9kZSkgewogICAgICBjYXNlIDE6CiAgICAgIGNhc2UgInRvUm91bmQiOgogICAgICAgIG4gPSB0aGlzLnRvUm91bmQobGVuKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgY2FzZSAidG9DZWlsIjoKICAgICAgICBuID0gdGhpcy50b0NlaWwobGVuKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMzoKICAgICAgY2FzZSAidG9GbG9vciI6CiAgICAgICAgbiA9IHRoaXMudG9GbG9vcihsZW4pOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICBuID0gdGhpcy50b1N0cmluZygpOwogICAgICAgIGJyZWFrOwogICAgfQoKICAgIHJldHVybiBuOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDmlbDlgLzovazlrZfnrKbkuLIsIOS/neeVmeWwvuaVsOmVv+W6pg0KICAgKiBAcGFyYW0ge051bWJlcn0gbGVuIOS/neeVmemVv+W6pg0KICAgKiBAcGFyYW0ge1N0cmluZ30gbW9kZSDkv53nlZnmlrnlvI8NCiAgICogQHJldHVybiB7U3RyaW5nfSDmiKrlj5blkI7lrZfnrKbkuLINCiAgICovCgoKICBOdW1iZXIucHJvdG90eXBlLnRvU3RyID0gZnVuY3Rpb24gKGxlbiwgbW9kZSkgewogICAgdmFyIG4gPSB0aGlzLmdldChsZW4sIG1vZGUpOwogICAgdmFyIHMgPSBuLnRvU3RyaW5nKCk7CiAgICB2YXIgcnMgPSBzLmluZGV4T2YoJy4nKTsKCiAgICBpZiAobGVuID4gMCAmJiBycyA8IDApIHsKICAgICAgcnMgPSBzLmxlbmd0aDsKICAgICAgcyArPSAnLic7CiAgICB9CgogICAgd2hpbGUgKHMubGVuZ3RoIDw9IHJzICsgbGVuKSB7CiAgICAgIHMgKz0gJzAnOwogICAgfQoKICAgIHJldHVybiBzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDovazkuLrml7bpl7TnsbvlnosNCiAgICogQHJldHVybiB7RGF0ZX0g5pe26Ze05a+56LGhDQogICAqLwoKCiAgTnVtYmVyLnByb3RvdHlwZS50b1RpbWUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbmV3IERhdGUodGhpcyAqIDEwMDApOwogIH07Cn0pKCk7Ci8qID09IOaXtumXtOWOn+Wei+WHveaVsCA9PSAqLwoKCihmdW5jdGlvbiAoKSB7CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDml7bpl7TmoLzlvI/ljJYNCiAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdCDmjIflrprmoLzlvI8NCiAgICogQHJldHVybiB7U3RyaW5nfSDml7bpl7TmoLzlvI/lrZfnrKbkuLINCiAgICovCiAgRGF0ZS5wcm90b3R5cGUudG9TdHIgPSBmdW5jdGlvbiAoZm9ybWF0KSB7CiAgICB2YXIgbyA9IHsKICAgICAgIk0rIjogdGhpcy5nZXRNb250aCgpICsgMSwKICAgICAgImQrIjogdGhpcy5nZXREYXRlKCksCiAgICAgICJoKyI6IHRoaXMuZ2V0SG91cnMoKSwKICAgICAgIm0rIjogdGhpcy5nZXRNaW51dGVzKCksCiAgICAgICJzKyI6IHRoaXMuZ2V0U2Vjb25kcygpLAogICAgICAicSsiOiBNYXRoLmZsb29yKCh0aGlzLmdldE1vbnRoKCkgKyAzKSAvIDMpLAogICAgICAiUyI6IHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkKICAgIH07CgogICAgaWYgKC8oeSspLy50ZXN0KGZvcm1hdCkpIHsKICAgICAgdmFyIHggPSBSZWdFeHAuJDE7CiAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKHgsICh0aGlzLmdldEZ1bGxZZWFyKCkgKyAiIikuc3Vic3RyKDQgLSB4Lmxlbmd0aCkpOwogICAgfQoKICAgIGZvciAodmFyIGsgaW4gbykgewogICAgICBpZiAobmV3IFJlZ0V4cCgiKCIgKyBrICsgIikiKS50ZXN0KGZvcm1hdCkpIHsKICAgICAgICB2YXIgeCA9IFJlZ0V4cC4kMTsKICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZSh4LCB4Lmxlbmd0aCA9PSAxID8gb1trXSA6ICgiMDAiICsgb1trXSkuc3Vic3RyKCgiIiArIG9ba10pLmxlbmd0aCkpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZvcm1hdDsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6I635Y+W5b2T5YmN5pe26Ze05oizDQogICAqIEByZXR1cm4ge051bWJlcn0g6L+U5Zue5pe26Ze05oizDQogICAqLwoKCiAgRGF0ZS5wcm90b3R5cGUuc3RhbXAgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXN0YW1wID0gRGF0ZS5wYXJzZSh0aGlzKTsKICAgIHJldHVybiB0aW1lc3RhbXAgLyAxMDAwOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDorqHnrpfml7bpl7Tlt64o5pe26Ze06Ze06ZqUKQ0KICAgKiBAcGFyYW0ge1N0cmluZ30gZW5kVGltZSDnu5PmnZ/ml7bpl7QNCiAgICogQHBhcmFtIHtTdHJpbmd9IHRpbWVfdW5pdCA9IFtkYXl8aG91cnN8bWludXRlc10g5pe26Ze05Y2V5L2NDQogICAqIEByZXR1cm4ge051bWJlcn0g6Ze06ZqU5pe26ZW/DQogICAqLwoKCiAgRGF0ZS5wcm90b3R5cGUuaW50ZXJ2YWwgPSBmdW5jdGlvbiAoZW5kVGltZSwgdGltZV91bml0KSB7CiAgICB2YXIgc3RhcnRUaW1lID0gdGhpczsgLy8gc3RhcnRUaW1lOiDlvIDlp4vml7bpl7QKCiAgICB2YXIgc3RpbWUgPSBEYXRlLnBhcnNlKHN0YXJ0VGltZSk7CiAgICB2YXIgZXRpbWUgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKGVuZFRpbWUpKTsKICAgIHZhciB1c2VkVGltZSA9IGV0aW1lIC0gc3RpbWU7IC8vIOS4pOS4quaXtumXtOaIs+ebuOW3rueahOavq+enkuaVsAoKICAgIGlmICh0aW1lX3VuaXQgPT09ICJkYXkiKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKHVzZWRUaW1lIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTsKICAgIH0gZWxzZSBpZiAodGltZV91bml0ID09PSAiaG91cnMiKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKHVzZWRUaW1lIC8gKDEwMDAgKiA2MCAqIDYwKSk7CiAgICB9IGVsc2UgaWYgKHRpbWVfdW5pdCA9PT0gIm1pbnV0ZXMiKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKHVzZWRUaW1lIC8gKDEwMDAgKiA2MCkpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIE1hdGguZmxvb3IodXNlZFRpbWUgLyAxMDAwKTsKICAgIH0KICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5pe26Ze05re75Yqg5aSp5pWwDQogICAqIEBwYXJhbSB7TnVtYmVyfSBkYXlzIOWkqeaVsA0KICAgKiBAcmV0dXJuIHtEYXRlfSDml7bpl7Tlr7nosaENCiAgICovCgoKICBEYXRlLnByb3RvdHlwZS5hZGREYXlzID0gZnVuY3Rpb24gKGRheXMpIHsKICAgIHRoaXMuc2V0RGF0ZSh0aGlzLmdldERhdGUoKSArIGRheXMpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOaXtumXtOa3u+WKoOenkuaVsA0KICAgKiBAcGFyYW0ge0RhdGV9IHNlY29uZHMg5pe26Ze05a+56LGhDQogICAqLwoKCiAgRGF0ZS5wcm90b3R5cGUuYWRkU2Vjb25kcyA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7CiAgICB0aGlzLnNldFNlY29uZHModGhpcy5nZXRTZWNvbmRzKCkgKyBzZWNvbmRzKTsKICAgIHJldHVybiB0aGlzOwogIH07Cn0pKCk7Ci8qID09IOWtl+espuS4suaLk+WxleWHveaVsCA9PSAqLwoKCihmdW5jdGlvbiAoKSB7CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiBNRDXliqDlr4YNCiAgICogQHJldHVybiB7U3RyaW5nfSDliqDlr4blkI7nmoTlrZfnrKbkuLINCiAgICovCiAgU3RyaW5nLnByb3RvdHlwZS5tZDUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gJC5tZDUodGhpcyArICcnKTsKICB9OwogIC8qKg0KICAgKiBhZXPliqDlr4YNCiAgICogQHBhcmFtIGRhdGEg5b6F5Yqg5a+G5YaF5a65DQogICAqIEBwYXJhbSBrZXkg5b+F6aG75Li6MzLkvY3np4HpkqUNCiAgICogQHJldHVybnMge1N0cmluZ30NCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLmFlc19lbmNvZGUgPSBmdW5jdGlvbiAoa2V5LCBpdikgewogICAgaXYgPSBpdiB8fCAiIjsKICAgIHZhciBjbGVhckVuY29kaW5nID0gJ3V0ZjgnOwogICAgdmFyIGNpcGhlckVuY29kaW5nID0gJ2Jhc2U2NCc7CiAgICB2YXIgY2lwaGVyQ2h1bmtzID0gW107CiAgICB2YXIgY2lwaGVyID0gY3JlYXRlQ2lwaGVyaXYoJ2Flcy0yNTYtZWNiJywga2V5LCBpdik7CiAgICBjaXBoZXIuc2V0QXV0b1BhZGRpbmcodHJ1ZSk7CiAgICBjaXBoZXJDaHVua3MucHVzaChjaXBoZXIudXBkYXRlKHRoaXMgKyAnJywgY2xlYXJFbmNvZGluZywgY2lwaGVyRW5jb2RpbmcpKTsKICAgIGNpcGhlckNodW5rcy5wdXNoKGNpcGhlci5maW5hbChjaXBoZXJFbmNvZGluZykpOwogICAgcmV0dXJuIGNpcGhlckNodW5rcy5qb2luKCcnKTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gYWVz6Kej5a+GDQogICAqIEBwYXJhbSBrZXkg5b+F6aG75Li6MzLkvY3np4HpkqUNCiAgICogQHJldHVybnMge1N0cmluZ30NCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLmFlc19kZWNvZGUgPSBmdW5jdGlvbiAoa2V5LCBpdikgewogICAgaXYgPSBpdiB8fCAiIjsKICAgIHZhciBjbGVhckVuY29kaW5nID0gJ3V0ZjgnOwogICAgdmFyIGNpcGhlckVuY29kaW5nID0gJ2Jhc2U2NCc7CiAgICB2YXIgY2lwaGVyQ2h1bmtzID0gW107CiAgICB2YXIgZGVjaXBoZXIgPSBjcmVhdGVEZWNpcGhlcml2KCdhZXMtMjU2LWVjYicsIGtleSwgaXYpOwogICAgZGVjaXBoZXIuc2V0QXV0b1BhZGRpbmcodHJ1ZSk7CiAgICBjaXBoZXJDaHVua3MucHVzaChkZWNpcGhlci51cGRhdGUodGhpcyArICcnLCBjaXBoZXJFbmNvZGluZywgY2xlYXJFbmNvZGluZykpOwogICAgY2lwaGVyQ2h1bmtzLnB1c2goZGVjaXBoZXIuZmluYWwoY2xlYXJFbmNvZGluZykpOwogICAgcmV0dXJuIGNpcGhlckNodW5rcy5qb2luKCcnKTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6I635Y+W5a2X56ym5Liy55qE5ou86Z+zDQogICAqIEByZXR1cm4ge1N0cmluZ30g5ou86Z+zDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS5waW55aW4gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gcGlueWluKHRoaXMpLmpvaW4oJycpOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDojrflj5blrZfnrKbkuLLnmoTmi7zpn7MNCiAgICogQHJldHVybiB7U3RyaW5nfSDmi7zpn7MNCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnBpbnlpblMgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYXJyID0gcGlueWluKHRoaXMpOwogICAgdmFyIHN0ciA9ICIiOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBhciA9IGFycltpXTsKCiAgICAgIGlmIChhci5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIG8gPSBhclswXTsKICAgICAgICBzdHIgKz0gby5jaGFyQXQoMCkudG9Mb2NhbGVVcHBlckNhc2UoKSArIG8uc3Vic3RyaW5nKDEpOwogICAgICB9IGVsc2UgewogICAgICAgIHN0ciArPSAnICc7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gc3RyOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDlsIZqc29u5a2X56ym5Liy6L2s5Li65a+56LGhDQogICAqIEByZXR1cm4ge09iamVjdH0g5a+56LGhDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS50b0pzb24gPSBmdW5jdGlvbiAoKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgY29uc29sZS5sb2coJ2pzb27lj43luo/liJfljJbplJnor68nKTsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWwhnVybOWtl+espuS4sui9rOS4uuWvueixoQ0KICAgKiBAcmV0dXJuIHtPYmplY3R9IOWvueixoQ0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUudG9VcmwgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYXJyID0gdGhpcy5zcGxpdCgnJicpOwogICAgdmFyIG9iaiA9IHt9OwogICAgYXJyLmZ1bmMoZnVuY3Rpb24gKG8pIHsKICAgICAgdmFyIGFyID0gby5zcGxpdCgnPScpOwoKICAgICAgaWYgKGFyLmxlbmd0aCA+IDEpIHsKICAgICAgICBvYmpbYXJbMF1dID0gZGVjb2RlVVJJKGFyWzFdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpbYXJbMF1dID0gbnVsbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gb2JqOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDlsIZ1cmzlj4LmlbDovazkuLrlr7nosaENCiAgICogQHJldHVybiB7T2JqZWN0fSDlr7nosaENCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnRvUXVlcnkgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc3RyID0gdGhpcyArICIiOwogICAgdmFyIGluZGV4ID0gc3RyLmluZGV4T2YoIj8iKTsKCiAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoaW5kZXggKyAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICByZXR1cm4gc3RyLnRvVXJsKCk7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWIoOmZpOmmluWtl+espg0KICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyICDopoHliKDpmaTnmoTlrZfnrKYsIOm7mOiupOWIoOmZpOepuuWtl+espg0KICAgKiBAcmV0dXJuIHtTdHJpbmd9IOWIoOmZpOWQjuWtl+espuS4sg0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUuc3RhcnRUcmltID0gZnVuY3Rpb24gKHN0cikgewogICAgaWYgKCFzdHIpIHsKICAgICAgc3RyID0gIlxccyI7CiAgICB9IGVsc2UgewogICAgICBzdHIgPSBzdHIucmVwbGFjZSgiJCIsICJcXCQiKS5yZXBsYWNlKCJeIiwgIlxcXiIpLnJlcGxhY2UoIigiLCAiXFwoIikucmVwbGFjZSgiKSIsICJcXCkiKTsKICAgIH0KCiAgICB2YXIgcnggPSBuZXcgUmVnRXhwKCIoXiIgKyBzdHIgKyAiKikiLCAiZyIpOwogICAgcmV0dXJuIHRoaXMucmVwbGFjZShyeCwgIiIpOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDliKDpmaTlsL7lrZfnrKYNCiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciDopoHliKDpmaTnmoTlrZfnrKYsIOm7mOiupOWIoOmZpOepuuWtl+espg0KICAgKiBAcmV0dXJuIHtTdHJpbmd9IOWIoOmZpOWQjuWtl+espuS4sg0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUuZW5kVHJpbSA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIGlmICghc3RyKSB7CiAgICAgIHN0ciA9ICJcXHMiOwogICAgfSBlbHNlIHsKICAgICAgc3RyID0gc3RyLnJlcGxhY2UoIiQiLCAiXFwkIikucmVwbGFjZSgiXiIsICJcXF4iKS5yZXBsYWNlKCIoIiwgIlxcKCIpLnJlcGxhY2UoIikiLCAiXFwpIik7CiAgICB9CgogICAgdmFyIHJ4ID0gbmV3IFJlZ0V4cCgiKCIgKyBzdHIgKyAiKiQpIiwgImciKTsKICAgIHJldHVybiB0aGlzLnJlcGxhY2UocngsICIiKTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5Yig6Zmk6aaW5bC+5a2X56ymDQogICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIg6KaB5Yig6Zmk55qE5a2X56ymLCDpu5jorqTliKDpmaTnqbrlrZfnrKYNCiAgICogQHJldHVybiB7U3RyaW5nfSDliKDpmaTlkI7lrZfnrKbkuLINCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnRyaW0gPSBmdW5jdGlvbiAoc3RyKSB7CiAgICBpZiAoIXN0cikgewogICAgICBzdHIgPSAiXFxzIjsKICAgIH0gZWxzZSB7CiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCIkIiwgIlxcJCIpLnJlcGxhY2UoIl4iLCAiXFxeIikucmVwbGFjZSgiKCIsICJcXCgiKS5yZXBsYWNlKCIpIiwgIlxcKSIpOwogICAgfQoKICAgIHZhciByeCA9IG5ldyBSZWdFeHAoIiheIiArIHN0ciArICIqKXwoIiArIHN0ciArICIqJCkiLCAiZyIpOwogICAgcmV0dXJuIHRoaXMucmVwbGFjZShyeCwgIiIpOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDlj5bmlofmnKzlt6bovrkNCiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciDntKLlvJXnmoTlrZfnrKYNCiAgICogQHBhcmFtIHtCb29sZWFufSBibCDlvZPntKLlvJXlrZfnrKbkuI3lrZjlnKjml7bmmK/lkKbkv53nlZnlt6bovrkNCiAgICogQHJldHVybiB7U3RyaW5nfSDmiKrlj5blkI7nmoTlrZfnrKbkuLINCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLmxlZnQgPSBmdW5jdGlvbiAoc3RyLCBibCkgewogICAgdmFyIGkgPSB0aGlzLmluZGV4T2Yoc3RyKTsKCiAgICBpZiAoaSA9PSAtMSkgewogICAgICBpZiAoYmwpIHsKICAgICAgICByZXR1cm4gdGhpcyArICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRoaXMuc3Vic3RyaW5nKDAsIGkpOwogICAgfQogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDlj5bmlofmnKzlj7PovrkNCiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciDntKLlvJXnmoTlrZfnrKYNCiAgICogQHBhcmFtIHtCb29sZWFufSBibCDlvZPntKLlvJXlrZfnrKbkuI3lrZjlnKjml7bmmK/lkKbkv53nlZnlj7PovrkNCiAgICogQHJldHVybiB7U3RyaW5nfSDmiKrlj5blkI7nmoTlrZfnrKbkuLINCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnJpZ2h0ID0gZnVuY3Rpb24gKHN0ciwgYmwpIHsKICAgIHZhciBpID0gdGhpcy5pbmRleE9mKHN0cik7CgogICAgaWYgKGkgPT0gLTEpIHsKICAgICAgaWYgKGJsKSB7CiAgICAgICAgcmV0dXJuIHRoaXMgKyAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB0aGlzLnN1YnN0cmluZyhpICsgc3RyLmxlbmd0aCk7CiAgICB9CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWPluaWh+acrOS5i+mXtA0KICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyX2wg57Si5byV55qE5bem6L655a2X56ymDQogICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJfciDntKLlvJXnmoTlj7PovrnlrZfnrKYNCiAgICogQHBhcmFtIHtCb29sZWFufSBibCDlvZPntKLlvJXlrZfnrKbkuI3lrZjlnKjml7bmmK/lkKbkv53nlZnlj7PovrkNCiAgICogQHJldHVybiB7U3RyaW5nfSDmiKrlj5blkI7nmoTlrZfnrKbkuLINCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLmJldHdlZW4gPSBmdW5jdGlvbiAoc3RyX2wsIHN0cl9yLCBibCkgewogICAgdmFyIHN0ciA9IHRoaXMucmlnaHQoc3RyX2wsIGJsKTsKICAgIHJldHVybiBzdHIubGVmdChzdHJfciwgYmwpOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDmm7/mjaLmiYDmnInlrZfnrKbkuLINCiAgICogQHBhcmFtIHtTdHJpbmd9IG9sZFN0ciDooqvmm7/mjaLnmoTlrZfnrKbkuLINCiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld1N0ciDmm7/mjaLlkI7nmoTlrZfnrKbkuLINCiAgICogQHJldHVybiB7U3RyaW5nfSDmm7/mjaLlkI7nmoTlrZfnrKbkuLINCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2VBbGwgPSBmdW5jdGlvbiAob2xkU3RyLCBuZXdTdHIpIHsKICAgIHZhciB0eHQgPSB0aGlzICsgJyc7CgogICAgaWYgKCFuZXdTdHIpIHsKICAgICAgbmV3U3RyID0gJyc7CiAgICB9CgogICAgd2hpbGUgKHR4dC5pbmRleE9mKG9sZFN0cikgIT09IC0xKSB7CiAgICAgIHR4dCA9IHR4dC5yZXBsYWNlKG9sZFN0ciwgbmV3U3RyKTsKICAgIH0KCiAgICByZXR1cm4gdHh0OwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDpqozor4HlvIDlpLTlrZfnrKbkuLINCiAgICogQHBhcmFtIHtTdHJpbmd9IHN0YXJ0U3RyIOW8gOWktOWtl+espuS4sg0KICAgKiBAcmV0dXJuIHtCb29sZWFufSDpqozor4HmiJDlip/ov5Tlm550cnVl77yM5aSx6LSl6L+U5ZueZmFsc2UNCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnN0YXJ0V2l0aCA9IGZ1bmN0aW9uIChzdGFydFN0cikgewogICAgdmFyIGQgPSB0aGlzLmxlbmd0aCAtIHN0YXJ0U3RyLmxlbmd0aDsKCiAgICBpZiAoZCA+PSAwICYmIHRoaXMuaW5kZXhPZihzdGFydFN0cikgPT09IDApIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDpqozor4Hnu5PmnZ/lrZfnrKbkuLINCiAgICogQHBhcmFtIHtTdHJpbmd9IGVuZFN0ciDnu5PlsL7lrZfnrKbkuLINCiAgICogQHJldHVybiB7Qm9vbGVhbn0g6aqM6K+B5oiQ5Yqf6L+U5ZuedHJ1Ze+8jOWksei0pei/lOWbnmZhbHNlDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS5lbmRXaXRoID0gZnVuY3Rpb24gKGVuZFN0cikgewogICAgdmFyIGQgPSB0aGlzLmxlbmd0aCAtIGVuZFN0ci5sZW5ndGg7CgogICAgaWYgKGQgPj0gMCAmJiB0aGlzLmxhc3RJbmRleE9mKGVuZFN0cikgPT0gZCkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOaYr+WQpuWQq+Wtl+espuS4sg0KICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyID0gW3dvcmR8d29yZCp8KndvcmR8KndvcmQqXeWtl+espuS4siwg5pSv5oyBKuWPt+WMuemFjSwg5YmNKuihqOekuuWMuemFjeWQjumdouWtl+espuS4siwg5ZCOKuihqOekuuWMuemFjeWJjemdouWtl+espuS4siwg5YmN5ZCOKuihqOekuuWMuemFjeWMheWQq+Wtl+espuS4sg0KICAgKiBAcmV0dXJuIHtCb29sZWFufSDljIXlkKvov5Tlm550cnVlLCDkuI3ljIXlkKvov5Tlm55mYWxzZQ0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHN0cikgewogICAgdmFyIG8gPSB0aGlzICsgJyc7CgogICAgaWYgKG8gPT09IHN0cikgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoc3RyLnN0YXJ0V2l0aCgiKiIpKSB7CiAgICAgIHZhciBrID0gc3RyLnJlcGxhY2VBbGwoJyonLCAnJyk7CgogICAgICBpZiAoc3RyLmVuZFdpdGgoIioiKSkgewogICAgICAgIHJldHVybiBvLmluZGV4T2YoaykgIT09IC0xOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBvLmVuZFdpdGgoayk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoc3RyLmVuZFdpdGgoIioiKSkgewogICAgICB2YXIgayA9IHN0ci5yZXBsYWNlQWxsKCcqJywgJycpOwogICAgICByZXR1cm4gby5zdGFydFdpdGgoayk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOi9rOS4uuaXtumXtOWvueixoQ0KICAgKiBAcmV0dXJuIHtEYXRlfSDml7bpl7Tlr7nosaENCiAgICovCgoKICBTdHJpbmcucHJvdG90eXBlLnRvVGltZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzdHIgPSB0aGlzLnJlcGxhY2UoJ1QnLCAnICcpLnJlcGxhY2UoJ1onLCAnJykucmVwbGFjZUFsbCgnLScsICcvJyk7CiAgICByZXR1cm4gbmV3IERhdGUoc3RyKTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6L2s5Li65pe26Ze05qC85byP5a2X56ym5LiyDQogICAqIEBwYXJhbSB7U3RyaW5nfSBmb3JtYXQg6L2s5o2i55qE5qC85byPDQogICAqIEByZXR1cm4ge1N0cmluZ30g5pe26Ze05qC85byP5a2X56ym5LiyDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS50b1RpbWVGb3JtYXQgPSBmdW5jdGlvbiAoZm9ybWF0KSB7CiAgICB2YXIgc3RyID0gdGhpcy5yZXBsYWNlKCdUJywgJyAnKS5yZXBsYWNlKCdaJywgJycpLnJlcGxhY2VBbGwoJy0nLCAnLycpOwogICAgcmV0dXJuIHN0ci50b1RpbWUoKS50b1N0cihmb3JtYXQpOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDovazkuLrmlbDnu4QNCiAgICogQHBhcmFtIHtTdHJpbmd8UmVnZXh9IHNlcGFyYXRvciDliIbpmpTnrKbmiJbmraPliJkNCiAgICogQHBhcmFtIHtOdW1iZXJ9IG1heExlbiDmnIDlpKfplb/luqYNCiAgICogQHJldHVybiB7QXJyYXl9IOaVsOe7hA0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUudG9BcnIgPSBmdW5jdGlvbiAoc2VwYXJhdG9yLCBtYXhMZW4pIHsKICAgIHJldHVybiB0aGlzLnNwbGl0KHNlcGFyYXRvciwgbWF4TGVuKTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6L2s5Li65pWw5a2XDQogICAqIEBwYXJhbSB7TnVtYmVyfSBsZW4g5L+d55WZ6ZW/5bqmICgpDQogICAqIEBwYXJhbSB7U3RyaW5nfSBtb2RlIOS/neeVmeaWueW8jyAoKQ0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9IOa1rueCueaVsA0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUudG9OdW0gPSBmdW5jdGlvbiAobGVuLCBtb2RlKSB7CiAgICByZXR1cm4gbmV3IE51bWJlcih0aGlzKS5nZXQobGVuLCBtb2RlKTsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6L2s5Li65a+56LGhDQogICAqIEByZXR1cm4ge09iamVjdH0g5a+56LGhDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS50b09iaiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBldmFsKHRoaXMgKyAnJyk7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOi9rOato+WImeihqOi+vuW8jw0KICAgKiBAcGFyYW0ge1N0cmluZ30gbW9kZSA9IFtnfGl8Z2ldIOi9rOaNouaWueW8jywgZ+S4uuWFqOmDqCwgaeS4uuS4jeWMuuWIhuWkp+Wwj+WGmQ0KICAgKiBAcmV0dXJuIHtSZWdleH0g6L+U5Zue5q2j5YiZ5a+56LGhDQogICAqLwoKCiAgU3RyaW5nLnByb3RvdHlwZS50b1J4ID0gZnVuY3Rpb24gKG1vZGUpIHsKICAgIGlmICghbW9kZSkgewogICAgICBtb2RlID0gJ2dpJzsKICAgIH0KCiAgICByZXR1cm4gZXZhbCgiLyIgKyB0aGlzICsgIi8iICsgbW9kZSk7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOato+WImeWIpOaWrQ0KICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIOeUqOS9nOWIpOaWreeahOato+WImQ0KICAgKiBAcGFyYW0ge1N0cmluZ30gbW9kZSA9IFtnfGl8Z2ldIOi9rOaNouaWueW8jywgZ+S4uuWFqOmDqCwgaeS4uuS4jeWMuuWIhuWkp+Wwj+WGmQ0KICAgKiBAcmV0dXJuIHtCb29sZWFufSDnrKblkIjmraPliJnov5Tlm550cnVlLCDlkKbliJnov5Tlm55mYWxzZQ0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUucmVnZXggPSBmdW5jdGlvbiAoc3RyLCBtb2RlKSB7CiAgICB2YXIgcnggPSBzdHIudG9SeChtb2RlKTsKICAgIHJldHVybiByeC50ZXN0KHRoaXMgKyAnJyk7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOmqjOivgeWtl+espuS4suagvOW8jw0KICAgKiBAcGFyYW0ge1N0cmluZ30gZm9ybWF0IOaJgOWxnuagvOW8jw0KICAgKiBAcmV0dXJuIHtCb29sZWFufSDpqozor4HpgJrov4fov5Tlm550cnVlLCDlpLHotKXov5Tlm55mYWxzZQ0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUuY2hlY2tGb3JtYXQgPSBmdW5jdGlvbiAoZm9ybWF0KSB7CiAgICB2YXIgYmwgPSBmYWxzZTsKICAgIHZhciB2YWx1ZSA9IHRoaXMgKyAnJzsKICAgIHZhciBmID0gZm9ybWF0LnRvTG93ZXJDYXNlKCk7CgogICAgc3dpdGNoIChmKSB7CiAgICAgIGNhc2UgInBob25lIjoKICAgICAgICBibCA9IC9eMD8oMTN8MTR8MTV8MTZ8MTd8MTh8MTkpWzAtOV17OX0kLy50ZXN0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgImVtYWlsIjoKICAgICAgICBibCA9IC9eXHdbLVx3LitdKkAoW0EtWmEtejAtOV1bLUEtWmEtejAtOV0rXC4pK1tBLVphLXpdezIsMTR9JC9naS50ZXN0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgInVzZXJuYW1lIjoKICAgICAgICBibCA9IC9eW2EtejAtOUEtWl9dKyQvLnRlc3QodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAicGFzc3dvcmQiOgogICAgICAgIGJsID0gL15bYS16MC05QS1aXSskLy50ZXN0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgInVybCI6CiAgICAgICAgYmwgPSAvXigoaHR0cHN8aHR0cHxmdHB8cnRzcHxtbXMpPzpcL1wvKVteXHNdKy9naS50ZXN0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgImRhdGUiOgogICAgICAgIGJsID0gL15cZHs0fShcLXxcL3xcLikoMFsxLTldfDFbMDEyXXxbMS05XSkoXC18XC98XC4pKFsxMl1bMC05XXwwWzEtOV18M1swMV18WzEtOV0pJC8udGVzdCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJ0aW1lIjoKICAgICAgICBibCA9IC9eKFswMV1bMC05XXwyWzAtM10pOihbMC00XVswLTldfDVbMC05XSkoOihbMC00XVswLTldfDVbMC05XSkpPyQvLnRlc3QodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAiZGF0ZXRpbWUiOgogICAgICAgIGJsID0gL15cZHs0fShcLXxcL3xcLikoMFsxLTldfDFbMDEyXXxbMS05XSkoXC18XC98XC4pKFsxMl1bMC05XXwwWzEtOV18M1swMV18WzEtOV0pIChbMDFdWzAtOV18MlswLTNdKTooWzAtNF1bMC05XXw1WzAtOV0pKDooWzAtNF1bMC05XXw1WzAtOV0pKT8kLy50ZXN0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgImRhdGVpc28iOgogICAgICAgIGJsID0gL15cZHs0fS0oMFsxLTldfDFbMDEyXXxbMS05XSktKFsxMl1bMC05XXwwWzEtOV18M1swMV18WzEtOV0pKCAoWzAxXVswLTldfDJbMC0zXSk6KFswLTRdWzAtOV18NVswLTldKSg6KFswLTRdWzAtOV18NVswLTldKSk/KT8kLy50ZXN0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgIm51bWJlciI6CiAgICAgICAgYmwgPSAvXlsxLTldK1swLTldKihcLlswLTldK3xbMC05XSopfDBcLlswLTldK3wwJC8udGVzdCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJlbiI6CiAgICAgICAgYmwgPSAvXlthLXpBLVpdKyQvLnRlc3QodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAibnVtIjoKICAgICAgY2FzZSAiZGlnaXRzIjoKICAgICAgICBibCA9IC9eWzAtOV0rJC8udGVzdCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJjaCI6CiAgICAgIGNhc2UgImNocyI6CiAgICAgIGNhc2UgImNoaW5lc2UiOgogICAgICAgIGJsID0gL15bXHU0ZTAwLVx1OWZhNV0rJC8udGVzdCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIGNvbnNvbGUubG9nKCfovpPlhaXnmoTnsbvlnovplJnor68nKTsKICAgICAgICBicmVhazsKICAgIH0KCiAgICByZXR1cm4gYmw7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOe8luivkeaooeadvw0KICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIOWvueixoQ0KICAgKiBAcmV0dXJuIHtTdHJpbmd9IOe8luivkeWQjueahOWtl+espuS4sg0KICAgKi8KCgogIFN0cmluZy5wcm90b3R5cGUudHBsID0gZnVuY3Rpb24gKG9iaikgewogICAgdmFyIHRleHQgPSB0aGlzICsgJyc7CgogICAgZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICBpZiAob2JqKSB7CiAgICAgICAgZm9yICh2YXIgayBpbiBvYmopIHsKICAgICAgICAgIHRoaXNba10gPSBvYmpba107CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZXZhbCgiYCIgKyB0ZXh0ICsgImAiKTsKICAgIH0KCiAgICByZXR1cm4gcmVuZGVyKCk7CiAgfTsKfSkoKTsKLyogPT0g5pWw57uE5Y6f5Z6L5Ye95pWwID09ICovCgoKKGZ1bmN0aW9uICgpIHsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWIpOaWreWvueixoeaYr+WQpuebuOS8vA0KICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIOiiq+WIpOaWreWvueixoQ0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg55So5L2c5Yik5pat55qE5a+56LGhDQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWxsIOaYr+WQpuWujOWFqOebuOWQjA0KICAgKiBAcmV0dXJuIHtCb29sZWFufSDnm7jkvLzov5Tlm550cnVl77yM5ZCm5YiZ6L+U5ZueZmFsc2UNCiAgICovCiAgZnVuY3Rpb24gYXMob2JqLCBxdWVyeSwgYWxsKSB7CiAgICBpZiAob2JqKSB7CiAgICAgIHZhciBibCA9IHRydWU7CgogICAgICB2YXIgdHlwZSA9IF90eXBlb2Yob2JqKTsKCiAgICAgIGlmICh0eXBlICE9PSBfdHlwZW9mKHF1ZXJ5KSkgewogICAgICAgIC8vIOWmguaenOexu+Wei+S4jeS4gOiHtCDliJnkuKTkuKrml6Dnm7jkvLwKICAgICAgICBibCA9IGZhbHNlOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdib29sJyB8fCB0eXBlID09PSAnbnVtYmVyJykgewogICAgICAgIGJsID0gb2JqID09PSBxdWVyeTsKICAgICAgfSBlbHNlIGlmIChvYmouY29uc3RydWN0b3IgPT0gQXJyYXkpIHsKICAgICAgICAvLyDlpoLmnpzpg73mmK/mlbDnu4QKICAgICAgICB2YXIgbGggPSBvYmoubGVuZ3RoOwoKICAgICAgICBpZiAoYWxsICYmIGxoICE9PSBxdWVyeS5sZW5ndGgpIHsKICAgICAgICAgIC8vIOimgeaxguWujOWFqOS4gOiHtCDogIzplb/luqbkuI3kuIDoh7Qg6K+05piO5LiN55u45Ly8CiAgICAgICAgICBibCA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDlkKbliJnliKTmlq3mlbDnu4Tph4znmoTmr4/kuKrmiJDlkZjmmK/lkKbnm7jkvLwKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGg7IGkrKykgewogICAgICAgICAgICBpZiAoIWFzKG9ialtpXSwgcXVlcnlbaV0pKSB7CiAgICAgICAgICAgICAgYmwgPSBmYWxzZTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlpoLmnpznsbvlnovkuLrlr7nosaEKICAgICAgICBpZiAoYWxsICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikubGVuZ3RoICE9PSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhxdWVyeSkubGVuZ3RoKSB7CiAgICAgICAgICAvLyDlpoLmnpzopoHmsYLlrozlhajkuIDoh7QsIOiAjOWxnuaAp+mVv+W6puS4jeS4gOiHtO+8jOWImeS4jeebuOS8vAogICAgICAgICAgYmwgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5ZCm5YiZ6YO95Li65a+56LGh5YiZ5Yik5pat5YW25YC85piv5ZCm5LiA6Ie0CiAgICAgICAgICBmb3IgKHZhciBrIGluIHF1ZXJ5KSB7CiAgICAgICAgICAgIGlmICghYXMob2JqW2tdLCBxdWVyeVtrXSwgYWxsKSkgewogICAgICAgICAgICAgIGJsID0gZmFsc2U7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBibDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CiAgLyoqDQogICAqIOWIl+ihqOi9rOagkeW9ouWIl+ihqA0KICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IOWIl+ihqA0KICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgSUTlrZfmrrUNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIElE5a+55bqU5YC8DQogICAqIEBwYXJhbSB7U3RyaW5nfSBmYXRoZXJfaWQg5LiK57qnSUTlrZfmrrUNCiAgICogQHBhcmFtIHtTdHJpbmd9IHN1YiDlrZDnsbvlrZfmrrUNCiAgICogQHJldHVybiB7QXJyYXl9IOi/lOWbnuWxnuaAp+WAvA0KICAgKi8KCgogIGZ1bmN0aW9uIHRvVHJlZShsaXN0LCBpZCkgewogICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwOwogICAgdmFyIGZhdGhlcl9pZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJ2ZhdGhlcl9pZCc7CiAgICB2YXIgc3ViID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAnc3ViJzsKICAgIHZhciBhcnIgPSBbXTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIG8gPSBsaXN0W2ldOwoKICAgICAgaWYgKG9bZmF0aGVyX2lkXSA9PT0gdmFsdWUpIHsKICAgICAgICBvW3N1Yl0gPSB0b1RyZWUobGlzdCwgaWQsIG9baWRdLCBmYXRoZXJfaWQsIHN1Yik7CiAgICAgICAgYXJyLnB1c2gobyk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYXJyOwogIH0KCiAgZnVuY3Rpb24gdG9MaXN0KGxpc3QpIHsKICAgIHZhciBzdWIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdzdWInOwogICAgdmFyIGFyciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogW107CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBvID0gbGlzdFtpXTsKICAgICAgdmFyIGx0ID0gb1tzdWJdOwogICAgICBkZWxldGUgb1tzdWJdOwogICAgICBhcnIucHVzaChvKTsKCiAgICAgIGlmIChsdCAmJiBsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgdG9MaXN0KGx0LCBzdWIsIGFycik7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYXJyOwogIH0KICAvKioNCiAgICog5YiX6KGo6L2s5qCR5b2i5YiX6KGoDQogICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBJROWtl+autQ0KICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgSUTlr7nlupTlgLwNCiAgICogQHBhcmFtIHtTdHJpbmd9IGZhdGhlcl9pZCDkuIrnuqdJROWtl+autQ0KICAgKiBAcGFyYW0ge1N0cmluZ30gc3ViIOWtkOexu+Wtl+autQ0KICAgKiBAcmV0dXJuIHtBcnJheX0g6L+U5Zue5pWw57uEDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLnRvVHJlZSA9IGZ1bmN0aW9uIChpZCkgewogICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwOwogICAgdmFyIGZhdGhlcl9pZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2ZhdGhlcl9pZCc7CiAgICB2YXIgc3ViID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnc3ViJzsKICAgIHJldHVybiB0b1RyZWUodGhpcywgaWQsIHZhbHVlLCBmYXRoZXJfaWQsIHN1Yik7CiAgfTsKICAvKioNCiAgICog5YiX6KGo6L2s5qCR5b2i5YiX6KGoDQogICAqIEBwYXJhbSB7U3RyaW5nfSBzdWIg5a2Q57G75a2X5q61DQogICAqIEBwYXJhbSB7QXJyYXl9IGFyciDnu5PmnpzmlbDnu4QNCiAgICogQHJldHVybiB7QXJyYXl9IOi/lOWbnuaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS50b0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc3ViID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnc3ViJzsKICAgIHZhciBhcnIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdOwogICAgcmV0dXJuIHRvTGlzdCh0aGlzLCBzdWIsIGFycik7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOaLt+i0neWvueixoQ0KICAgKiBAcGFyYW0ge0Jvb2xlYW59IGhhcyDmmK/lkKbpnZ7nqbrmi7fotJ3vvIzlpoLmnpzlkKvmnInmlbDmja7miY3mi7fotJ3vvIzkuI3lkKvmlbDmja7kuI3mi7fotJ0NCiAgICogQHJldHVybiB7QXJyYXl9IOaWsOaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gKGhhcykgewogICAgdmFyIGFycl9uZXcgPSBbXTsKICAgIHZhciBhcnIgPSB0aGlzOwoKICAgIGlmIChoYXMpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbyA9IGFycltpXTsKCiAgICAgICAgaWYgKG8pIHsKICAgICAgICAgIGFycl9uZXdbaV0gPSBvOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBhcnJfbmV3W2ldID0gYXJyW2ldOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGFycl9uZXc7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOmBjeWOhuWvueixoeaJp+ihjOWHveaVsA0KICAgKiBAcGFyYW0ge0Z1bmN0aW9uKE9iamVjdCk6Qm9vbGVhbn0gZnVuYyDlh73mlbDlkI0NCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuZnVuYyA9IGZ1bmN0aW9uIChmdW5jKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGZ1bmModGhpc1tpXSkpIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDmlbDnu4TovazlrZfnrKbkuLINCiAgICogQHBhcmFtIHtTdHJpbmd9IHNwbGl0U3RyIOWIhumalOespg0KICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IOWvueixoeWxnuaAp+WQjQ0KICAgKiBAcmV0dXJuIHtTdHJpbmd9IOWtl+espuS4sg0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS50b1N0ciA9IGZ1bmN0aW9uIChzcGxpdFN0ciwga2V5KSB7CiAgICB2YXIgYXJyID0gdGhpczsKICAgIHZhciBzdHIgPSAiIjsKCiAgICBpZiAoa2V5KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG8gPSBhcnJbaV07CgogICAgICAgIGlmIChvW2tleV0pIHsKICAgICAgICAgIHN0ciArPSBzcGxpdFN0ciArIG9ba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG8gPSBhcnJbaV07CiAgICAgICAgc3RyICs9IHNwbGl0U3RyICsgbzsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBzdHIucmVwbGFjZShzcGxpdFN0ciwgIiIpOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDmuIXnqbrmlbDnu4QNCiAgICogQHJldHVybiB7QXJyYXl9IOa4heepuueahOaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc3BsaWNlKDAsIHRoaXMubGVuZ3RoKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDkv67mlLnmlbDnu4TmiJDlkZgNCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOaQnOe0ouadoeS7tg0KICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIOS/ruaUuemhuQ0KICAgKiBAcmV0dXJuIHtBcnJheX0g5Yig6Zmk5ZCO55qE5pWw57uEDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChxdWVyeSwgb2JqKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIG8gPSB0aGlzW2ldOwoKICAgICAgZm9yICh2YXIgayBpbiBxdWVyeSkgewogICAgICAgIGlmIChhcyhvLCBxdWVyeSkpIHsKICAgICAgICAgIHRoaXNbaV0gPSBvYmo7CiAgICAgICAgfQoKICAgICAgICA7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5pWw57uE5YiX6KGo5Y+W5pWw57uEDQogICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg5Y+W55qE5bGe5oCnDQogICAqIEByZXR1cm4ge0FycmF5fSDmiKrlj5bnmoTmlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUudG9BcnIgPSBmdW5jdGlvbiAoa2V5KSB7CiAgICB2YXIgYXJyID0gW107CiAgICB2YXIgbHQgPSB0aGlzOwogICAgdmFyIGxlbiA9IGx0Lmxlbmd0aDsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgIHZhciBvID0gbHRbaV07CiAgICAgIGFyci5wdXNoKG9ba2V5XSk7CiAgICB9CgogICAgcmV0dXJuIGFycjsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5LuO5pWw57uE6I635Y+W5a+56LGhDQogICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICogQHBhcmFtIHtCb29sZWFufSBlbmQg5piv5ZCm57uT5p2fDQogICAqIEByZXR1cm4ge09iamVjdH0g5a+56LGhDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChxdWVyeSwgZW5kKSB7CiAgICBpZiAocXVlcnkpIHsKICAgICAgaWYgKGVuZCkgewogICAgICAgIHZhciBvYmo7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIG8gPSB0aGlzW2ldOwoKICAgICAgICAgIGlmIChhcyhvLCBxdWVyeSkpIHsKICAgICAgICAgICAgb2JqID0gbzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gb2JqOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBsaXN0ID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIG8gPSB0aGlzW2ldOwoKICAgICAgICAgIGlmIChhcyhvLCBxdWVyeSkpIHsKICAgICAgICAgICAgbGlzdC5wdXNoKG8pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHZhciBsaXN0ID0gW107CiAgICAgIGxpc3QuYWRkTGlzdCh0aGlzKTsKICAgICAgcmV0dXJuIGxpc3Q7CiAgICB9CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOS7juaVsOe7hOiOt+WPluWvueixoQ0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEByZXR1cm4ge09iamVjdH0g5a+56LGhDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmdldE9iaiA9IGZ1bmN0aW9uIChxdWVyeSkgewogICAgdmFyIG9iajsKCiAgICBpZiAocXVlcnkpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG8gPSB0aGlzW2ldOwoKICAgICAgICBpZiAoYXMobywgcXVlcnkpKSB7CiAgICAgICAgICBvYmogPSBvOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6I635Y+W5pWw57uE5a+56LGh55qE5bGe5oCn5YC8DQogICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg5bGe5oCn5ZCNDQogICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICogQHJldHVybiB7T2JqZWN0fSDlsZ7mgKflgLwNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuZ2V0VmFsID0gZnVuY3Rpb24gKGtleSwgcXVlcnkpIHsKICAgIHZhciBvYmogPSB0aGlzLmdldE9iaihxdWVyeSk7CgogICAgaWYgKG9iaikgewogICAgICByZXR1cm4gb2JqW2tleV07CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g6I635Y+W56ym5ZCI5p2h5Lu255qE5pWw57uE5a+56LGhDQogICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICogQHJldHVybiB7QXJyYXl9IOWvueixoeaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5nZXRMaXN0ID0gZnVuY3Rpb24gKHF1ZXJ5KSB7CiAgICB2YXIgYXJyID0gW107CgogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBvID0gdGhpc1tpXTsKCiAgICAgICAgaWYgKGFzKG8sIHF1ZXJ5KSkgewogICAgICAgICAgYXJyLnB1c2gobyk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBhcnIgPSB0aGlzLmNvcHkoKTsKICAgIH0KCiAgICByZXR1cm4gYXJyOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDojrflj5bmlbDnu4TmiYDmnInlr7nosaHnmoTlsZ7mgKflgLwNCiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSDlsZ7mgKflkI0NCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgKiBAcmV0dXJuIHtBcnJheX0g5bGe5oCn5YC85pWw57uEDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmdldEFyciA9IGZ1bmN0aW9uIChrZXksIHF1ZXJ5KSB7CiAgICB2YXIgYXJyID0gW107CgogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBvID0gdGhpc1tpXTsKCiAgICAgICAgaWYgKGFzKG8sIHF1ZXJ5KSkgewogICAgICAgICAgYXJyLnB1c2gob1trZXldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBvID0gdGhpc1tpXTsKICAgICAgICBhcnIucHVzaChvW2tleV0pOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGFycjsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g57uZ5pWw57uE5a+56LGh5re75Yqg5bGe5oCn5YC8DQogICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg5bGe5oCn5ZCNDQogICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSDlsZ7mgKflgLwNCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCDmmK/lkKbkuK3mlq3lvqrnjq8s5Lit5pat5Y+q5re75Yqg57uZ56ys5LiA5Liq56ym5ZCI5p2h5Lu255qE5a+56LGhDQogICAqIEByZXR1cm4ge0FycmF5fSDlr7nosaHmlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuYWRkVmFsID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIHF1ZXJ5LCBlbmQpIHsKICAgIGlmIChxdWVyeSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbyA9IHRoaXNbaV07CgogICAgICAgIGlmIChhcyhvLCBxdWVyeSkpIHsKICAgICAgICAgIGlmICghb1trZXldKSB7CiAgICAgICAgICAgIG9ba2V5XSA9IHZhbHVlOwoKICAgICAgICAgICAgaWYgKGVuZCkgewogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbyA9IHRoaXNbaV07CgogICAgICAgIGlmICghb1trZXldKSB7CiAgICAgICAgICBvW2tleV0gPSB2YWx1ZTsKCiAgICAgICAgICBpZiAoZW5kKSB7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDnu5nmlbDnu4Tmt7vliqDlr7nosaENCiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiDlr7nosaENCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgKiBAcmV0dXJuIHtBcnJheX0g5a+56LGh5pWw57uEDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmFkZE9iaiA9IGZ1bmN0aW9uIChvYmosIHF1ZXJ5KSB7CiAgICB2YXIgaGFzID0gZmFsc2U7CgogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChhcyh0aGlzW2ldLCBxdWVyeSkpIHsKICAgICAgICAgIGhhcyA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChhcyh0aGlzW2ldLCBvYmopKSB7CiAgICAgICAgICBoYXMgPSB0cnVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKCFoYXMpIHsKICAgICAgdGhpcy5wdXNoKG9iaik7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOe7meaVsOe7hOa3u+WKoOWkmuS4quWvueixoQ0KICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IOaVsOe7hA0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEByZXR1cm4ge0FycmF5fSDlr7nosaHmlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuYWRkTGlzdCA9IGZ1bmN0aW9uIChsaXN0LCBxdWVyeSkgewogICAgdmFyIGxlbiA9IGxpc3QubGVuZ3RoOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgdGhpcy5hZGRPYmoobGlzdFtpXSwgcXVlcnkpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDnu5nmlbDnu4Tmt7vliqDkuIDkuKrlr7nosaHmiJbliJfooagNCiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iak9yTGlzdCDlr7nosaHmiJbmlbDnu4QNCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgKiBAcmV0dXJuIHtBcnJheX0g5a+56LGh5pWw57uEDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChvYmpPckxpc3QsIHF1ZXJ5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpPckxpc3QpKSB7CiAgICAgIHRoaXMuYWRkTGlzdChvYmpPckxpc3QsIHF1ZXJ5KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYWRkT2JqKG9iak9yTGlzdCwgcXVlcnkpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDliKDpmaTmlbDnu4TkuK3lr7nosaHnmoTlsZ7mgKcNCiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSDlr7nosaHlsZ7mgKfplK4NCiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCDmmK/lkKbkuK3mlq3lvqrnjq8s5Lit5pat5Y+q5Yig6Zmk56ys5LiA5Liq56ym5ZCI5p2h5Lu255qE5a+56LGhDQogICAqIEByZXR1cm4ge0FycmF5fSDlr7nosaHmlbDnu4QNCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUuZGVsVmFsID0gZnVuY3Rpb24gKGtleSwgcXVlcnksIGVuZCkgewogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIGlmIChlbmQpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBvID0gdGhpc1tpXTsKCiAgICAgICAgICBpZiAoYXMobywgcXVlcnkpKSB7CiAgICAgICAgICAgIGRlbGV0ZSBvW2tleV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBvID0gdGhpc1tpXTsKCiAgICAgICAgICBpZiAoYXMobywgcXVlcnkpKSB7CiAgICAgICAgICAgIGRlbGV0ZSBvW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAoZW5kKSB7CiAgICAgICAgZGVsZXRlIHRoaXNbMF1ba2V5XTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBvID0gdGhpc1tpXTsKICAgICAgICAgIGRlbGV0ZSBvW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWIoOmZpOaVsOe7hOS4reeahOWvueixoQ0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kIOaYr+WQpuS4reaWreW+queOryzkuK3mlq3lj6rliKDpmaTnrKzkuIDkuKrnrKblkIjmnaHku7bnmoTlr7nosaENCiAgICogQHJldHVybiB7QXJyYXl9IOWvueixoeaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5kZWwgPSBmdW5jdGlvbiAocXVlcnksIGVuZCkgewogICAgdmFyIGJsID0gZmFsc2U7CgogICAgaWYgKGVuZCkgewogICAgICBpZiAocXVlcnkpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChhcyh0aGlzW2ldLCBxdWVyeSkpIHsKICAgICAgICAgICAgdGhpcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3BsaWNlKGksIDEpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAocXVlcnkpIHsKICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgaWYgKGFzKHRoaXNbaV0sIHF1ZXJ5KSkgewogICAgICAgICAgICB0aGlzLnNwbGljZShpLCAxKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgIHRoaXMuc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDliKDpmaTlpJrkuKrkuI3lkIznmoTmlbDnu4TmiJDlkZgNCiAgICogQHBhcmFtIHtBcnJheX0gbGlzdCDmn6Xor6LmnaHku7bliJfooagNCiAgICogQHBhcmFtIHtCb29sZWFufSBlbmQg5piv5ZCm5Lit5pat5b6q546vLOS4reaWreWPquWIoOmZpOesrOS4gOS4quespuWQiOadoeS7tueahOWvueixoQ0KICAgKiBAcmV0dXJuIHtBcnJheX0g5a+56LGh5pWw57uEDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmRlbExpc3QgPSBmdW5jdGlvbiAobGlzdCwgZW5kKSB7CiAgICB2YXIgbGVuID0gbGlzdC5sZW5ndGg7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICB0aGlzLmRlbChsaXN0W2ldLCBlbmQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiDorr7nva7mlbDnu4TkuK3lr7nosaHnmoTlsZ7mgKflgLwNCiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSDlsZ7mgKfplK4NCiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIOWxnuaAp+WAvA0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kIOaYr+WQpuS4reaWreW+queOryzkuK3mlq3lj6rkv67mlLnnrKzkuIDkuKrnrKblkIjmnaHku7bnmoTlr7nosaENCiAgICogQHJldHVybiB7QXJyYXl9IOWvueixoeaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5zZXRWYWwgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgcXVlcnksIGVuZCkgewogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChhcyh0aGlzW2ldLCBxdWVyeSkpIHsKICAgICAgICAgIHRoaXNbaV1ba2V5XSA9IHZhbHVlOwoKICAgICAgICAgIGlmIChlbmQpIHsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzW2ldW2tleV0gPSB2YWx1ZTsKCiAgICAgICAgaWYgKGVuZCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOiuvue9ruaVsOe7hOS4reWvueixoeeahOWxnuaAp+WAvA0KICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIOWvueixoQ0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kIOaYr+WQpuS4reaWreW+queOryzkuK3mlq3lj6rkv67mlLnnrKzkuIDkuKrnrKblkIjmnaHku7bnmoTlr7nosaENCiAgICogQHJldHVybiB7QXJyYXl9IOWvueixoeaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5zZXRPYmogPSBmdW5jdGlvbiAob2JqLCBxdWVyeSwgZW5kKSB7CiAgICBpZiAocXVlcnkpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG8gPSB0aGlzW2ldOwoKICAgICAgICBpZiAoYXMobywgcXVlcnkpKSB7CiAgICAgICAgICB0aGlzW2ldID0gb2JqOwoKICAgICAgICAgIGlmIChlbmQpIHsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOiuvue9ruaVsOe7hOS4reWvueixoeeahOWxnuaAp+WAvA0KICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IOWvueixoeWIl+ihqA0KICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kIOaYr+WQpuS4reaWreW+queOryzkuK3mlq3lj6rkv67mlLnnrKzkuIDkuKrnrKblkIjmnaHku7bnmoTlr7nosaENCiAgICogQHJldHVybiB7QXJyYXl9IOWvueixoeaVsOe7hA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5zZXRMaXN0ID0gZnVuY3Rpb24gKGxpc3QsIHF1ZXJ5LCBlbmQpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLnNldE9iaih0aGlzW2ldLCBxdWVyeSwgZW5kKTsKICAgIH0KICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5pCc57Si56ym5ZCI5p2h5Lu255qE5oiQ5ZGYDQogICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIg5pCc57Si5YWz6ZSu6K+NDQogICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg5Li76ZSuLCDnlKjkuo7liJfooajmlbDnu4Tml7YNCiAgICogQHJldHVybiB7QXJyYXl9IOi/lOWbnuespuWQiOadoeS7tueahOe7k+aenA0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5zZWFyY2ggPSBmdW5jdGlvbiAoc3RyLCBrZXkpIHsKICAgIHZhciBhcnIgPSBbXTsKICAgIHZhciBmdW5jOwogICAgdmFyIGsgPSBzdHIucmVwbGFjZUFsbCgnKicsICcnKTsKCiAgICBpZiAoc3RyLnN0YXJ0V2l0aCgiKiIpKSB7CiAgICAgIGlmIChzdHIuZW5kV2l0aCgiKiIpKSB7CiAgICAgICAgaWYgKGtleSkgewogICAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIGZ1bmMobykgewogICAgICAgICAgICBpZiAob1trZXldLmluZGV4T2YoaykgIT09IC0xKSB7CiAgICAgICAgICAgICAgYXJyLnB1c2gobyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKG8pIHsKICAgICAgICAgICAgaWYgKG8uaW5kZXhPZihrKSAhPT0gLTEpIHsKICAgICAgICAgICAgICBhcnIucHVzaChvKTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGtleSkgewogICAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIGZ1bmMobykgewogICAgICAgICAgICBpZiAob1trZXldLmVuZFdpdGgoaykpIHsKICAgICAgICAgICAgICBhcnIucHVzaChvKTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIGZ1bmMobykgewogICAgICAgICAgICBpZiAoby5lbmRXaXRoKGspKSB7CiAgICAgICAgICAgICAgYXJyLnB1c2gobyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHN0ci5lbmRXaXRoKCIqIikpIHsKICAgICAgaWYgKGtleSkgewogICAgICAgIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKG8pIHsKICAgICAgICAgIGlmIChvW2tleV0uc3RhcnRXaXRoKGspKSB7CiAgICAgICAgICAgIGFyci5wdXNoKG8pOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIGZ1bmMobykgewogICAgICAgICAgaWYgKG8uc3RhcnRXaXRoKGspKSB7CiAgICAgICAgICAgIGFyci5wdXNoKG8pOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmIChrZXkpIHsKICAgICAgICBmdW5jID0gZnVuY3Rpb24gZnVuYyhvKSB7CiAgICAgICAgICBpZiAob1trZXldID09PSBrKSB7CiAgICAgICAgICAgIGFyci5wdXNoKG8pOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIGZ1bmMobykgewogICAgICAgICAgaWYgKG8gPT09IGspIHsKICAgICAgICAgICAgYXJyLnB1c2gobyk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubWFwKGZ1bmMpOwogICAgcmV0dXJuIGFycjsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5Yik5pat5piv5ZCm5YyF5ZCr5oiQ5ZGYDQogICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICogQHJldHVybiB7Qm9vbGVhbn0g5pyJ5YiZ6L+U5ZuedHJ1Ze+8jOayoeacieWImei/lOWbnmZhbHNlDQogICAqLwoKCiAgQXJyYXkucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChxdWVyeSkgewogICAgdmFyIGhhcyA9IGZhbHNlOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoYXModGhpc1tpXSwgcXVlcnkpKSB7CiAgICAgICAgaGFzID0gdHJ1ZTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIDsKICAgIHJldHVybiBoYXM7CiAgfTsKICAvKioNCiAgICogQGRlc2NyaXB0aW9uIOWPluWQq+WMuemFjemhuQ0KICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIOiiq+WMuemFjeeahOWtl+espuS4sg0KICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IOeUqOS6juWvueixoeWIl+ihqOaXtuafpeivog0KICAgKiBAcmV0dXJuIHtPYmplY3R9IOi/lOWbnuWMuemFjeeahOesrOS4gOmhuQ0KICAgKi8KCgogIEFycmF5LnByb3RvdHlwZS5nZXRNYXRjaCA9IGZ1bmN0aW9uIChzdHIsIGtleSkgewogICAgdmFyIG9iajsKCiAgICBpZiAoa2V5KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChzdHIuaGFzKHRoaXNbaV1ba2V5XSkpIHsKICAgICAgICAgIG9iaiA9IHRoaXNbaV07CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChzdHIuaGFzKHRoaXNbaV0pKSB7CiAgICAgICAgICBvYmogPSB0aGlzW2ldOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9OwogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24g5pWw57uE6L2s5a+56LGhDQogICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkg5Li76ZSuLCDnlKjkvZzlr7nosaHntKLlvJUNCiAgICogQHJldHVybiB7T2JqZWN0fSDlr7nosaENCiAgICovCgoKICBBcnJheS5wcm90b3R5cGUudG9PYmogPSBmdW5jdGlvbiAoa2V5KSB7CiAgICB2YXIgb2JqID0ge307CiAgICB0aGlzLm1hcChmdW5jdGlvbiAobykgewogICAgICB2YXIgbmFtZSA9IG9ba2V5XTsKCiAgICAgIGlmIChuYW1lKSB7CiAgICAgICAgb2JqW25hbWVdID0gbzsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gb2JqOwogIH07Cn0pKCk7"},{"version":3,"sources":["D:/WorkSpace/localCode/CS211180/client_home/src/plugins/sdk.js"],"names":["Number","prototype","toFloor","len","n","Math","pow","floor","toCeil","ceil","toRound","round","get","mode","toString","toStr","s","rs","indexOf","length","toTime","Date","format","o","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","test","x","RegExp","$1","replace","getFullYear","substr","k","stamp","timestamp","parse","interval","endTime","time_unit","startTime","stime","etime","usedTime","addDays","days","setDate","addSeconds","seconds","setSeconds","String","md5","$","aes_encode","key","iv","clearEncoding","cipherEncoding","cipherChunks","cipher","createCipheriv","setAutoPadding","push","update","final","join","aes_decode","decipher","createDecipheriv","pinyin","pinyinS","arr","str","i","ar","charAt","toLocaleUpperCase","substring","toJson","JSON","e","console","log","toUrl","split","obj","func","decodeURI","toQuery","index","startTrim","rx","endTrim","trim","left","bl","right","between","str_l","str_r","replaceAll","oldStr","newStr","txt","startWith","startStr","d","endWith","endStr","lastIndexOf","has","toTimeFormat","toArr","separator","maxLen","toNum","toObj","eval","toRx","regex","checkFormat","value","f","toLowerCase","tpl","text","render","as","query","all","type","constructor","Array","lh","Object","getOwnPropertyNames","toTree","list","id","father_id","sub","toList","lt","copy","arr_new","splitStr","clear","splice","set","end","addList","getObj","getVal","getList","getArr","addVal","addObj","add","objOrList","isArray","delVal","del","delList","setVal","setObj","setList","search","map","getMatch","name"],"mappings":"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","sourcesContent":["/* == 数字原型函数 == */\r\n(function() {\r\n\t/**\r\n\t * @description 去尾法\r\n\t * @param {Number} len 保留长度\r\n\t * @return {Number} 数值\r\n\t */\r\n\tNumber.prototype.toFloor = function(len) {\r\n\t\tvar n = Math.pow(10, len);\r\n\t\treturn Math.floor(this * n) / n;\r\n\t};\r\n\t/**\r\n\t * @description 进一法\r\n\t * @param {Number} len 保留长度\r\n\t * @return {Number} 数值\r\n\t */\r\n\tNumber.prototype.toCeil = function(len) {\r\n\t\tvar n = Math.pow(10, len);\r\n\t\treturn Math.ceil(this * n) / n;\r\n\t};\r\n\t/**\r\n\t * @description 四舍五入法\r\n\t * @param {Number} len 保留长度\r\n\t * @return {Number} 数值\r\n\t */\r\n\tNumber.prototype.toRound = function(len) {\r\n\t\tvar n = Math.pow(10, len);\r\n\t\treturn Math.round(this * n) / n;\r\n\t};\r\n\t/**\r\n\t * @description 数值转字符串, 保留尾数长度\r\n\t * @param {Number} len 保留长度\r\n\t * @param {String} mode 保留方式\r\n\t * @return {String} 截取后字符串\r\n\t */\r\n\tNumber.prototype.get = function(len, mode) {\r\n\t\tvar n;\r\n\t\tswitch (mode) {\r\n\t\t\tcase 1:\r\n\t\t\tcase \"toRound\":\r\n\t\t\t\tn = this.toRound(len)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\tcase \"toCeil\":\r\n\t\t\t\tn = this.toCeil(len)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\tcase \"toFloor\":\r\n\t\t\t\tn = this.toFloor(len)\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tn = this.toString();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\t/**\r\n\t * @description 数值转字符串, 保留尾数长度\r\n\t * @param {Number} len 保留长度\r\n\t * @param {String} mode 保留方式\r\n\t * @return {String} 截取后字符串\r\n\t */\r\n\tNumber.prototype.toStr = function(len, mode) {\r\n\t\tvar n = this.get(len, mode);\r\n\t\tvar s = n.toString();\r\n\t\tvar rs = s.indexOf('.');\r\n\t\tif (len > 0 && rs < 0) {\r\n\t\t\trs = s.length;\r\n\t\t\ts += '.';\r\n\t\t}\r\n\t\twhile (s.length <= rs + len) {\r\n\t\t\ts += '0';\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n\t/**\r\n\t * @description 转为时间类型\r\n\t * @return {Date} 时间对象\r\n\t */\r\n\tNumber.prototype.toTime = function() {\r\n\t\treturn new Date(this * 1000);\r\n\t};\r\n})();\r\n\r\n/* == 时间原型函数 == */\r\n(function() {\r\n\t/**\r\n\t * @description 时间格式化\r\n\t * @param {String} format 指定格式\r\n\t * @return {String} 时间格式字符串\r\n\t */\r\n\tDate.prototype.toStr = function(format) {\r\n\t\tvar o = {\r\n\t\t\t\"M+\": this.getMonth() + 1,\r\n\t\t\t\"d+\": this.getDate(),\r\n\t\t\t\"h+\": this.getHours(),\r\n\t\t\t\"m+\": this.getMinutes(),\r\n\t\t\t\"s+\": this.getSeconds(),\r\n\t\t\t\"q+\": Math.floor((this.getMonth() + 3) / 3),\r\n\t\t\t\"S\": this.getMilliseconds()\r\n\t\t};\r\n\t\tif (/(y+)/.test(format)) {\r\n\t\t\tvar x = RegExp.$1;\r\n\t\t\tformat = format.replace(x, (this.getFullYear() + \"\").substr(4 - x.length));\r\n\t\t}\r\n\t\tfor (var k in o) {\r\n\t\t\tif (new RegExp(\"(\" + k + \")\").test(format)) {\r\n\t\t\t\tvar x = RegExp.$1;\r\n\t\t\t\tformat = format.replace(x, x.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn format;\r\n\t};\r\n\t/**\r\n\t * @description 获取当前时间戳\r\n\t * @return {Number} 返回时间戳\r\n\t */\r\n\tDate.prototype.stamp = function() {\r\n\t\tvar timestamp = Date.parse(this);\r\n\t\treturn timestamp / 1000;\r\n\t};\r\n\t/**\r\n\t * @description 计算时间差(时间间隔)\r\n\t * @param {String} endTime 结束时间\r\n\t * @param {String} time_unit = [day|hours|minutes] 时间单位\r\n\t * @return {Number} 间隔时长\r\n\t */\r\n\tDate.prototype.interval = function(endTime, time_unit) {\r\n\t\tvar startTime = this; // startTime: 开始时间\r\n\t\tvar stime = Date.parse(startTime);\r\n\t\tvar etime = Date.parse(new Date(endTime));\r\n\t\tvar usedTime = etime - stime; // 两个时间戳相差的毫秒数\r\n\t\tif (time_unit === \"day\") {\r\n\t\t\treturn Math.floor(usedTime / (1000 * 60 * 60 * 24));\r\n\t\t} else if (time_unit === \"hours\") {\r\n\t\t\treturn Math.floor(usedTime / (1000 * 60 * 60));\r\n\t\t} else if (time_unit === \"minutes\") {\r\n\t\t\treturn Math.floor(usedTime / (1000 * 60));\r\n\t\t} else {\r\n\t\t\treturn Math.floor(usedTime / 1000);\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 时间添加天数\r\n\t * @param {Number} days 天数\r\n\t * @return {Date} 时间对象\r\n\t */\r\n\tDate.prototype.addDays = function(days) {\r\n\t\tthis.setDate(this.getDate() + days);\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 时间添加秒数\r\n\t * @param {Date} seconds 时间对象\r\n\t */\r\n\tDate.prototype.addSeconds = function(seconds) {\r\n\t\tthis.setSeconds(this.getSeconds() + seconds);\r\n\t\treturn this;\r\n\t};\r\n})();\r\n\r\n/* == 字符串拓展函数 == */\r\n(function() {\r\n\t/**\r\n\t * @description MD5加密\r\n\t * @return {String} 加密后的字符串\r\n\t */\r\n\tString.prototype.md5 = function() {\r\n\t\treturn $.md5(this + '');\r\n\t};\r\n\r\n\t/**\r\n\t * aes加密\r\n\t * @param data 待加密内容\r\n\t * @param key 必须为32位私钥\r\n\t * @returns {String}\r\n\t */\r\n\tString.prototype.aes_encode = function(key, iv) {\r\n\t\tiv = iv || \"\";\r\n\t\tvar clearEncoding = 'utf8';\r\n\t\tvar cipherEncoding = 'base64';\r\n\t\tvar cipherChunks = [];\r\n\t\tvar cipher = createCipheriv('aes-256-ecb', key, iv);\r\n\t\tcipher.setAutoPadding(true);\r\n\t\tcipherChunks.push(cipher.update(this + '', clearEncoding, cipherEncoding));\r\n\t\tcipherChunks.push(cipher.final(cipherEncoding));\r\n\t\treturn cipherChunks.join('');\r\n\t};\r\n\r\n\t/**\r\n\t * @description aes解密\r\n\t * @param key 必须为32位私钥\r\n\t * @returns {String}\r\n\t */\r\n\tString.prototype.aes_decode = function(key, iv) {\r\n\t\tiv = iv || \"\";\r\n\t\tvar clearEncoding = 'utf8';\r\n\t\tvar cipherEncoding = 'base64';\r\n\t\tvar cipherChunks = [];\r\n\t\tvar decipher = createDecipheriv('aes-256-ecb', key, iv);\r\n\t\tdecipher.setAutoPadding(true);\r\n\t\tcipherChunks.push(decipher.update(this + '', cipherEncoding, clearEncoding));\r\n\t\tcipherChunks.push(decipher.final(clearEncoding));\r\n\t\treturn cipherChunks.join('');\r\n\t};\r\n\r\n\t/**\r\n\t * @description 获取字符串的拼音\r\n\t * @return {String} 拼音\r\n\t */\r\n\tString.prototype.pinyin = function() {\r\n\t\treturn pinyin(this).join('');\r\n\t};\r\n\t/**\r\n\t * @description 获取字符串的拼音\r\n\t * @return {String} 拼音\r\n\t */\r\n\tString.prototype.pinyinS = function() {\r\n\t\tvar arr = pinyin(this);\r\n\t\tvar str = \"\";\r\n\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\tvar ar = arr[i];\r\n\t\t\tif (ar.length > 0) {\r\n\t\t\t\tvar o = ar[0];\r\n\t\t\t\tstr += o.charAt(0).toLocaleUpperCase() + o.substring(1);\r\n\t\t\t} else {\r\n\t\t\t\tstr += ' ';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str;\r\n\t};\r\n\t/**\r\n\t * @description 将json字符串转为对象\r\n\t * @return {Object} 对象\r\n\t */\r\n\tString.prototype.toJson = function() {\r\n\t\ttry {\r\n\t\t\treturn JSON.parse(this);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('json反序列化错误');\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 将url字符串转为对象\r\n\t * @return {Object} 对象\r\n\t */\r\n\tString.prototype.toUrl = function() {\r\n\t\tvar arr = this.split('&');\r\n\t\tvar obj = {};\r\n\t\tarr.func(function(o) {\r\n\t\t\tvar ar = o.split('=');\r\n\t\t\tif (ar.length > 1) {\r\n\t\t\t\tobj[ar[0]] = decodeURI(ar[1]);\r\n\t\t\t} else {\r\n\t\t\t\tobj[ar[0]] = null;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn obj;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 将url参数转为对象\r\n\t * @return {Object} 对象\r\n\t */\r\n\tString.prototype.toQuery = function() {\r\n\t\tvar str = this + \"\";\r\n\t\tvar index = str.indexOf(\"?\");\r\n\t\tif (index !== -1) {\r\n\t\t\tstr = str.substring(index + 1);\r\n\t\t} else {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t\treturn str.toUrl();\r\n\t};\r\n\r\n\t/**\r\n\t * @description 删除首字符\r\n\t * @param {String} str  要删除的字符, 默认删除空字符\r\n\t * @return {String} 删除后字符串\r\n\t */\r\n\tString.prototype.startTrim = function(str) {\r\n\t\tif (!str) {\r\n\t\t\tstr = \"\\\\s\";\r\n\t\t} else {\r\n\t\t\tstr = str.replace(\"$\", \"\\\\$\").replace(\"^\", \"\\\\^\").replace(\"(\", \"\\\\(\").replace(\")\", \"\\\\)\");\r\n\t\t}\r\n\t\tvar rx = new RegExp(\"(^\" + str + \"*)\", \"g\");\r\n\t\treturn this.replace(rx, \"\");\r\n\t};\r\n\t/**\r\n\t * @description 删除尾字符\r\n\t * @param {String} str 要删除的字符, 默认删除空字符\r\n\t * @return {String} 删除后字符串\r\n\t */\r\n\tString.prototype.endTrim = function(str) {\r\n\t\tif (!str) {\r\n\t\t\tstr = \"\\\\s\";\r\n\t\t} else {\r\n\t\t\tstr = str.replace(\"$\", \"\\\\$\").replace(\"^\", \"\\\\^\").replace(\"(\", \"\\\\(\").replace(\")\", \"\\\\)\");\r\n\t\t}\r\n\t\tvar rx = new RegExp(\"(\" + str + \"*$)\", \"g\");\r\n\t\treturn this.replace(rx, \"\");\r\n\t};\r\n\t/**\r\n\t * @description 删除首尾字符\r\n\t * @param {String} str 要删除的字符, 默认删除空字符\r\n\t * @return {String} 删除后字符串\r\n\t */\r\n\tString.prototype.trim = function(str) {\r\n\t\tif (!str) {\r\n\t\t\tstr = \"\\\\s\";\r\n\t\t} else {\r\n\t\t\tstr = str.replace(\"$\", \"\\\\$\").replace(\"^\", \"\\\\^\").replace(\"(\", \"\\\\(\").replace(\")\", \"\\\\)\");\r\n\t\t}\r\n\t\tvar rx = new RegExp(\"(^\" + str + \"*)|(\" + str + \"*$)\", \"g\");\r\n\t\treturn this.replace(rx, \"\");\r\n\t};\r\n\t/**\r\n\t * @description 取文本左边\r\n\t * @param {String} str 索引的字符\r\n\t * @param {Boolean} bl 当索引字符不存在时是否保留左边\r\n\t * @return {String} 截取后的字符串\r\n\t */\r\n\tString.prototype.left = function(str, bl) {\r\n\t\tvar i = this.indexOf(str);\r\n\t\tif (i == -1) {\r\n\t\t\tif (bl) {\r\n\t\t\t\treturn this + '';\r\n\t\t\t} else {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn this.substring(0, i);\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 取文本右边\r\n\t * @param {String} str 索引的字符\r\n\t * @param {Boolean} bl 当索引字符不存在时是否保留右边\r\n\t * @return {String} 截取后的字符串\r\n\t */\r\n\tString.prototype.right = function(str, bl) {\r\n\t\tvar i = this.indexOf(str);\r\n\t\tif (i == -1) {\r\n\t\t\tif (bl) {\r\n\t\t\t\treturn this + '';\r\n\t\t\t} else {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn this.substring(i + str.length);\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 取文本之间\r\n\t * @param {String} str_l 索引的左边字符\r\n\t * @param {String} str_r 索引的右边字符\r\n\t * @param {Boolean} bl 当索引字符不存在时是否保留右边\r\n\t * @return {String} 截取后的字符串\r\n\t */\r\n\tString.prototype.between = function(str_l, str_r, bl) {\r\n\t\tvar str = this.right(str_l, bl);\r\n\t\treturn str.left(str_r, bl);\r\n\t};\r\n\t/**\r\n\t * @description 替换所有字符串\r\n\t * @param {String} oldStr 被替换的字符串\r\n\t * @param {String} newStr 替换后的字符串\r\n\t * @return {String} 替换后的字符串\r\n\t */\r\n\tString.prototype.replaceAll = function(oldStr, newStr) {\r\n\t\tvar txt = this + '';\r\n\t\tif (!newStr) {\r\n\t\t\tnewStr = '';\r\n\t\t}\r\n\t\twhile (txt.indexOf(oldStr) !== -1) {\r\n\t\t\ttxt = txt.replace(oldStr, newStr);\r\n\t\t}\r\n\t\treturn txt;\r\n\t};\r\n\t/**\r\n\t * @description 验证开头字符串\r\n\t * @param {String} startStr 开头字符串\r\n\t * @return {Boolean} 验证成功返回true，失败返回false\r\n\t */\r\n\tString.prototype.startWith = function(startStr) {\r\n\t\tvar d = this.length - startStr.length;\r\n\t\tif (d >= 0 && this.indexOf(startStr) === 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t/**\r\n\t * @description 验证结束字符串\r\n\t * @param {String} endStr 结尾字符串\r\n\t * @return {Boolean} 验证成功返回true，失败返回false\r\n\t */\r\n\tString.prototype.endWith = function(endStr) {\r\n\t\tvar d = this.length - endStr.length;\r\n\t\tif (d >= 0 && this.lastIndexOf(endStr) == d) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t/**\r\n\t * @description 是否含字符串\r\n\t * @param {String} str = [word|word*|*word|*word*]字符串, 支持*号匹配, 前*表示匹配后面字符串, 后*表示匹配前面字符串, 前后*表示匹配包含字符串\r\n\t * @return {Boolean} 包含返回true, 不包含返回false\r\n\t */\r\n\tString.prototype.has = function(str) {\r\n\t\tvar o = this + '';\r\n\t\tif (o === str) {\r\n\t\t\treturn true;\r\n\t\t} else if (str.startWith(\"*\")) {\r\n\t\t\tvar k = str.replaceAll('*', '');\r\n\t\t\tif (str.endWith(\"*\")) {\r\n\t\t\t\treturn o.indexOf(k) !== -1;\r\n\t\t\t} else {\r\n\t\t\t\treturn o.endWith(k);\r\n\t\t\t}\r\n\t\t} else if (str.endWith(\"*\")) {\r\n\t\t\tvar k = str.replaceAll('*', '');\r\n\t\t\treturn o.startWith(k);\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 转为时间对象\r\n\t * @return {Date} 时间对象\r\n\t */\r\n\tString.prototype.toTime = function() {\r\n\t\tvar str = this.replace('T', ' ').replace('Z', '').replaceAll('-', '/');\r\n\t\treturn new Date(str);\r\n\t};\r\n\t/**\r\n\t * @description 转为时间格式字符串\r\n\t * @param {String} format 转换的格式\r\n\t * @return {String} 时间格式字符串\r\n\t */\r\n\tString.prototype.toTimeFormat = function(format) {\r\n\t\tvar str = this.replace('T', ' ').replace('Z', '').replaceAll('-', '/');\r\n\t\treturn str.toTime().toStr(format);\r\n\t};\r\n\t/**\r\n\t * @description 转为数组\r\n\t * @param {String|Regex} separator 分隔符或正则\r\n\t * @param {Number} maxLen 最大长度\r\n\t * @return {Array} 数组\r\n\t */\r\n\tString.prototype.toArr = function(separator, maxLen) {\r\n\t\treturn this.split(separator, maxLen);\r\n\t};\r\n\t/**\r\n\t * @description 转为数字\r\n\t * @param {Number} len 保留长度 ()\r\n\t * @param {String} mode 保留方式 ()\r\n\t * @return {Number} 浮点数\r\n\t */\r\n\tString.prototype.toNum = function(len, mode) {\r\n\t\treturn new Number(this).get(len, mode);\r\n\t};\r\n\t/**\r\n\t * @description 转为对象\r\n\t * @return {Object} 对象\r\n\t */\r\n\tString.prototype.toObj = function() {\r\n\t\treturn eval(this + '');\r\n\t};\r\n\t/**\r\n\t * @description 转正则表达式\r\n\t * @param {String} mode = [g|i|gi] 转换方式, g为全部, i为不区分大小写\r\n\t * @return {Regex} 返回正则对象\r\n\t */\r\n\tString.prototype.toRx = function(mode) {\r\n\t\tif (!mode) {\r\n\t\t\tmode = 'gi';\r\n\t\t}\r\n\t\treturn eval(\"/\" + this + \"/\" + mode);\r\n\t};\r\n\t/**\r\n\t * @description 正则判断\r\n\t * @param {String} str 用作判断的正则\r\n\t * @param {String} mode = [g|i|gi] 转换方式, g为全部, i为不区分大小写\r\n\t * @return {Boolean} 符合正则返回true, 否则返回false\r\n\t */\r\n\tString.prototype.regex = function(str, mode) {\r\n\t\tvar rx = str.toRx(mode);\r\n\t\treturn rx.test(this + '');\r\n\t};\r\n\t/**\r\n\t * @description 验证字符串格式\r\n\t * @param {String} format 所属格式\r\n\t * @return {Boolean} 验证通过返回true, 失败返回false\r\n\t */\r\n\tString.prototype.checkFormat = function(format) {\r\n\t\tvar bl = false;\r\n\t\tvar value = this + '';\r\n\t\tvar f = format.toLowerCase();\r\n\t\tswitch (f) {\r\n\t\t\tcase \"phone\":\r\n\t\t\t\tbl = /^0?(13|14|15|16|17|18|19)[0-9]{9}$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"email\":\r\n\t\t\t\tbl = /^\\w[-\\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\\.)+[A-Za-z]{2,14}$/gi.test(value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"username\":\r\n\t\t\t\tbl = /^[a-z0-9A-Z_]+$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"password\":\r\n\t\t\t\tbl = /^[a-z0-9A-Z]+$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"url\":\r\n\t\t\t\tbl = /^((https|http|ftp|rtsp|mms)?:\\/\\/)[^\\s]+/gi.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"date\":\r\n\t\t\t\tbl = /^\\d{4}(\\-|\\/|\\.)(0[1-9]|1[012]|[1-9])(\\-|\\/|\\.)([12][0-9]|0[1-9]|3[01]|[1-9])$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"time\":\r\n\t\t\t\tbl = /^([01][0-9]|2[0-3]):([0-4][0-9]|5[0-9])(:([0-4][0-9]|5[0-9]))?$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"datetime\":\r\n\t\t\t\tbl =\r\n\t\t\t\t\t/^\\d{4}(\\-|\\/|\\.)(0[1-9]|1[012]|[1-9])(\\-|\\/|\\.)([12][0-9]|0[1-9]|3[01]|[1-9]) ([01][0-9]|2[0-3]):([0-4][0-9]|5[0-9])(:([0-4][0-9]|5[0-9]))?$/\r\n\t\t\t\t\t.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"dateiso\":\r\n\t\t\t\tbl =\r\n\t\t\t\t\t/^\\d{4}-(0[1-9]|1[012]|[1-9])-([12][0-9]|0[1-9]|3[01]|[1-9])( ([01][0-9]|2[0-3]):([0-4][0-9]|5[0-9])(:([0-4][0-9]|5[0-9]))?)?$/\r\n\t\t\t\t\t.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"number\":\r\n\t\t\t\tbl = /^[1-9]+[0-9]*(\\.[0-9]+|[0-9]*)|0\\.[0-9]+|0$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"en\":\r\n\t\t\t\tbl = /^[a-zA-Z]+$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"num\":\r\n\t\t\tcase \"digits\":\r\n\t\t\t\tbl = /^[0-9]+$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ch\":\r\n\t\t\tcase \"chs\":\r\n\t\t\tcase \"chinese\":\r\n\t\t\t\tbl = /^[\\u4e00-\\u9fa5]+$/.test(value)\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log('输入的类型错误')\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn bl;\r\n\t};\r\n\t/**\r\n\t * @description 编译模板\r\n\t * @param {Object} obj 对象\r\n\t * @return {String} 编译后的字符串\r\n\t */\r\n\tString.prototype.tpl = function(obj) {\r\n\t\tvar text = this + '';\r\n\r\n\t\tfunction render() {\r\n\t\t\tif (obj) {\r\n\t\t\t\tfor (var k in obj) {\r\n\t\t\t\t\tthis[k] = obj[k];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn eval(\"`\" + text + \"`\");\r\n\t\t}\r\n\t\treturn render();\r\n\t};\r\n})();\r\n\r\n/* == 数组原型函数 == */\r\n(function() {\r\n\r\n  /**\r\n   * @description 判断对象是否相似\r\n   * @param {Object} obj 被判断对象\r\n   * @param {Object} query 用作判断的对象\r\n   * @param {Boolean} all 是否完全相同\r\n   * @return {Boolean} 相似返回true，否则返回false\r\n   */\r\n  function as(obj, query, all) {\r\n    if (obj) {\r\n      var bl = true;\r\n      var type = typeof(obj);\r\n      if (type !== typeof(query)) {\r\n        // 如果类型不一致 则两个无相似\r\n        bl = false;\r\n      } else if (type === 'string' || type === 'bool' || type === 'number') {\r\n        bl = obj === query;\r\n      } else if (obj.constructor == Array) {\r\n        // 如果都是数组\r\n        var lh = obj.length;\r\n        if (all && lh !== query.length) {\r\n          // 要求完全一致 而长度不一致 说明不相似\r\n          bl = false;\r\n        } else {\r\n          // 否则判断数组里的每个成员是否相似\r\n          for (var i = 0; i < lh; i++) {\r\n            if (!as(obj[i], query[i])) {\r\n              bl = false;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        // 如果类型为对象\r\n        if (all && Object.getOwnPropertyNames(obj).length !== Object.getOwnPropertyNames(query).length) {\r\n          // 如果要求完全一致, 而属性长度不一致，则不相似\r\n          bl = false;\r\n        } else {\r\n          // 否则都为对象则判断其值是否一致\r\n          for (var k in query) {\r\n            if (!as(obj[k], query[k], all)) {\r\n              bl = false;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return bl;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n\t/**\r\n\t * 列表转树形列表\r\n\t * @param {Array} list 列表\r\n\t * @param {String} id ID字段\r\n\t * @param {Number} value ID对应值\r\n\t * @param {String} father_id 上级ID字段\r\n\t * @param {String} sub 子类字段\r\n\t * @return {Array} 返回属性值\r\n\t */\r\n\tfunction toTree(list, id, value = 0, father_id = 'father_id', sub = 'sub') {\r\n\t\tvar arr = [];\r\n\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\tvar o = list[i];\r\n\t\t\tif (o[father_id] === value) {\r\n\t\t\t\to[sub] = toTree(list, id, o[id], father_id, sub);\r\n\t\t\t\tarr.push(o);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tfunction toList(list, sub = 'sub', arr = []) {\r\n\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\tvar o = list[i];\r\n\t\t\tvar lt = o[sub];\r\n\t\t\tdelete o[sub];\r\n\t\t\tarr.push(o);\r\n\t\t\tif (lt && lt.length > 0) {\r\n\t\t\t\ttoList(lt, sub, arr);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\t/**\r\n\t * 列表转树形列表\r\n\t * @param {String} id ID字段\r\n\t * @param {Number} value ID对应值\r\n\t * @param {String} father_id 上级ID字段\r\n\t * @param {String} sub 子类字段\r\n\t * @return {Array} 返回数组\r\n\t */\r\n\tArray.prototype.toTree = function(id, value = 0, father_id = 'father_id', sub = 'sub') {\r\n\t\treturn toTree(this, id, value, father_id, sub);\r\n\t};\r\n\r\n\t/**\r\n\t * 列表转树形列表\r\n\t * @param {String} sub 子类字段\r\n\t * @param {Array} arr 结果数组\r\n\t * @return {Array} 返回数组\r\n\t */\r\n\tArray.prototype.toList = function(sub = 'sub', arr = []) {\r\n\t\treturn toList(this, sub, arr);\r\n\t};\r\n\r\n\t/**\r\n\t * @description 拷贝对象\r\n\t * @param {Boolean} has 是否非空拷贝，如果含有数据才拷贝，不含数据不拷贝\r\n\t * @return {Array} 新数组\r\n\t */\r\n\tArray.prototype.copy = function(has) {\r\n\t\tvar arr_new = [];\r\n\t\tvar arr = this;\r\n\t\tif (has) {\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (o) {\r\n\t\t\t\t\tarr_new[i] = o;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tarr_new[i] = arr[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr_new;\r\n\t};\r\n\t/**\r\n\t * @description 遍历对象执行函数\r\n\t * @param {Function(Object):Boolean} func 函数名\r\n\t */\r\n\tArray.prototype.func = function(func) {\r\n\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\tif (func(this[i])) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 数组转字符串\r\n\t * @param {String} splitStr 分隔符\r\n\t * @param {String} key 对象属性名\r\n\t * @return {String} 字符串\r\n\t */\r\n\tArray.prototype.toStr = function(splitStr, key) {\r\n\t\tvar arr = this;\r\n\t\tvar str = \"\";\r\n\t\tif (key) {\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (o[key]) {\r\n\t\t\t\t\tstr += splitStr + o[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tstr += splitStr + o;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str.replace(splitStr, \"\");\r\n\t};\r\n\t/**\r\n\t * @description 清空数组\r\n\t * @return {Array} 清空的数组\r\n\t */\r\n\tArray.prototype.clear = function() {\r\n\t\tthis.splice(0, this.length);\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 修改数组成员\r\n\t * @param {Object} query 搜索条件\r\n\t * @param {Object} obj 修改项\r\n\t * @return {Array} 删除后的数组\r\n\t */\r\n\tArray.prototype.set = function(query, obj) {\r\n\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\tvar o = this[i];\r\n\t\t\tfor (var k in query) {\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tthis[i] = obj;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 数组列表取数组\r\n\t * @param {String} key 取的属性\r\n\t * @return {Array} 截取的数组\r\n\t */\r\n\tArray.prototype.toArr = function(key) {\r\n\t\tvar arr = [];\r\n\t\tvar lt = this;\r\n\t\tvar len = lt.length;\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tvar o = lt[i];\r\n\t\t\tarr.push(o[key]);\r\n\t\t}\r\n\t\treturn arr;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 从数组获取对象\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否结束\r\n\t * @return {Object} 对象\r\n\t */\r\n\tArray.prototype.get = function(query, end) {\r\n\t\tif (query) {\r\n\t\t\tif (end) {\r\n\t\t\t\tvar obj;\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tvar o = this[i];\r\n\t\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\t\tobj = o;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn obj;\r\n\t\t\t} else {\r\n\t\t\t\tvar list = [];\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tvar o = this[i];\r\n\t\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\t\tlist.push(o);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn list;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar list = [];\r\n\t\t\tlist.addList(this);\r\n\t\t\treturn list;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @description 从数组获取对象\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Object} 对象\r\n\t */\r\n\tArray.prototype.getObj = function(query) {\r\n\t\tvar obj;\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tobj = o;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t};\r\n\t/**\r\n\t * @description 获取数组对象的属性值\r\n\t * @param {String} key 属性名\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Object} 属性值\r\n\t */\r\n\tArray.prototype.getVal = function(key, query) {\r\n\t\tvar obj = this.getObj(query);\r\n\t\tif (obj) {\r\n\t\t\treturn obj[key];\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 获取符合条件的数组对象\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.getList = function(query) {\r\n\t\tvar arr = [];\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tarr.push(o);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tarr = this.copy()\r\n\t\t}\r\n\t\treturn arr;\r\n\t};\r\n\t/**\r\n\t * @description 获取数组所有对象的属性值\r\n\t * @param {String} key 属性名\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Array} 属性值数组\r\n\t */\r\n\tArray.prototype.getArr = function(key, query) {\r\n\t\tvar arr = [];\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tarr.push(o[key]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tarr.push(o[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t};\r\n\t/**\r\n\t * @description 给数组对象添加属性值\r\n\t * @param {String} key 属性名\r\n\t * @param {Object} value 属性值\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只添加给第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.addVal = function(key, value, query, end) {\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tif (!o[key]) {\r\n\t\t\t\t\t\to[key] = value;\r\n\t\t\t\t\t\tif (end) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (!o[key]) {\r\n\t\t\t\t\to[key] = value;\r\n\t\t\t\t\tif (end) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 给数组添加对象\r\n\t * @param {Object} obj 对象\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.addObj = function(obj, query) {\r\n\t\tvar has = false;\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tif (as(this[i], query)) {\r\n\t\t\t\t\thas = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tif (as(this[i], obj)) {\r\n\t\t\t\t\thas = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!has) {\r\n\t\t\tthis.push(obj);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 给数组添加多个对象\r\n\t * @param {Array} list 数组\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.addList = function(list, query) {\r\n\t\tvar len = list.length;\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tthis.addObj(list[i], query);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 给数组添加一个对象或列表\r\n\t * @param {Object|Array} objOrList 对象或数组\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.add = function(objOrList, query) {\r\n\t\tif (Array.isArray(objOrList)) {\r\n\t\t\tthis.addList(objOrList, query);\r\n\t\t} else {\r\n\t\t\tthis.addObj(objOrList, query);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 删除数组中对象的属性\r\n\t * @param {String} key 对象属性键\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只删除第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.delVal = function(key, query, end) {\r\n\t\tif (query) {\r\n\t\t\tif (end) {\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tvar o = this[i];\r\n\t\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\t\tdelete o[key];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tvar o = this[i];\r\n\t\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\t\tdelete o[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (end) {\r\n\t\t\t\tdelete this[0][key];\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tvar o = this[i];\r\n\t\t\t\t\tdelete o[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 删除数组中的对象\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只删除第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.del = function(query, end) {\r\n\t\tvar bl = false;\r\n\t\tif (end) {\r\n\t\t\tif (query) {\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tif (as(this[i], query)) {\r\n\t\t\t\t\t\tthis.splice(i, 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\t\tthis.splice(i, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (query) {\r\n\t\t\t\tfor (var i = this.length - 1; i >= 0; i--) {\r\n\t\t\t\t\tif (as(this[i], query)) {\r\n\t\t\t\t\t\tthis.splice(i, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = this.length - 1; i >= 0; i--) {\r\n\t\t\t\t\tthis.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 删除多个不同的数组成员\r\n\t * @param {Array} list 查询条件列表\r\n\t * @param {Boolean} end 是否中断循环,中断只删除第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.delList = function(list, end) {\r\n\t\tvar len = list.length;\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tthis.del(list[i], end);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 设置数组中对象的属性值\r\n\t * @param {String} key 属性键\r\n\t * @param {Object} value 属性值\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只修改第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.setVal = function(key, value, query, end) {\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tif (as(this[i], query)) {\r\n\t\t\t\t\tthis[i][key] = value;\r\n\t\t\t\t\tif (end) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tthis[i][key] = value;\r\n\t\t\t\tif (end) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 设置数组中对象的属性值\r\n\t * @param {Object} obj 对象\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只修改第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.setObj = function(obj, query, end) {\r\n\t\tif (query) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar o = this[i];\r\n\t\t\t\tif (as(o, query)) {\r\n\t\t\t\t\tthis[i] = obj;\r\n\t\t\t\t\tif (end) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * @description 设置数组中对象的属性值\r\n\t * @param {Array} list 对象列表\r\n\t * @param {Object} query 查询条件\r\n\t * @param {Boolean} end 是否中断循环,中断只修改第一个符合条件的对象\r\n\t * @return {Array} 对象数组\r\n\t */\r\n\tArray.prototype.setList = function(list, query, end) {\r\n\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\tthis.setObj(this[i], query, end);\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * @description 搜索符合条件的成员\r\n\t * @param {String} str 搜索关键词\r\n\t * @param {String} key 主键, 用于列表数组时\r\n\t * @return {Array} 返回符合条件的结果\r\n\t */\r\n\tArray.prototype.search = function(str, key) {\r\n\t\tvar arr = [];\r\n\t\tvar func;\r\n\t\tvar k = str.replaceAll('*', '');\r\n\t\tif (str.startWith(\"*\")) {\r\n\t\t\tif (str.endWith(\"*\")) {\r\n\t\t\t\tif (key) {\r\n\t\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\t\tif (o[key].indexOf(k) !== -1) {\r\n\t\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\t\tif (o.indexOf(k) !== -1) {\r\n\t\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (key) {\r\n\t\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\t\tif (o[key].endWith(k)) {\r\n\t\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\t\tif (o.endWith(k)) {\r\n\t\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (str.endWith(\"*\")) {\r\n\t\t\tif (key) {\r\n\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\tif (o[key].startWith(k)) {\r\n\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\tif (o.startWith(k)) {\r\n\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tif (key) {\r\n\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\tif (o[key] === k) {\r\n\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfunc = function(o) {\r\n\t\t\t\t\tif (o === k) {\r\n\t\t\t\t\t\tarr.push(o);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.map(func);\r\n\t\treturn arr;\r\n\t};\r\n\t/**\r\n\t * @description 判断是否包含成员\r\n\t * @param {Object} query 查询条件\r\n\t * @return {Boolean} 有则返回true，没有则返回false\r\n\t */\r\n\tArray.prototype.has = function(query) {\r\n\t\tvar has = false;\r\n\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\tif (as(this[i], query)) {\r\n\t\t\t\thas = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn has;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 取含匹配项\r\n\t * @param {String} str 被匹配的字符串\r\n\t * @param {String} key 用于对象列表时查询\r\n\t * @return {Object} 返回匹配的第一项\r\n\t */\r\n\tArray.prototype.getMatch = function(str, key) {\r\n\t\tvar obj;\r\n\t\tif (key) {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tif (str.has(this[i][key])) {\r\n\t\t\t\t\tobj = this[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < this.length; i++) {\r\n\t\t\t\tif (str.has(this[i])) {\r\n\t\t\t\t\tobj = this[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t};\r\n\r\n\t/**\r\n\t * @description 数组转对象\r\n\t * @param {String} key 主键, 用作对象索引\r\n\t * @return {Object} 对象\r\n\t */\r\n\tArray.prototype.toObj = function(key) {\r\n\t\tvar obj = {};\r\n\t\tthis.map(function(o) {\r\n\t\t\tvar name = o[key];\r\n\t\t\tif (name) {\r\n\t\t\t\tobj[name] = o;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn obj;\r\n\t};\r\n})();\r\n"]}]}