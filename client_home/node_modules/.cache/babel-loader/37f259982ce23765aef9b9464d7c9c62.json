{"remainingRequest":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\views\\article\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\views\\article\\details.vue","mtime":1642670947000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBtaXhpbiBmcm9tICJAL21peGlucy9wYWdlLmpzIjsKaW1wb3J0IGJhcl90aXRsZSBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2Jhcl90aXRsZS52dWUiOwppbXBvcnQgZGl2X2FydGljbGUgZnJvbSAiQC9jb21wb25lbnRzL2RpeS9kaXZfYXJ0aWNsZS52dWUiOwppbXBvcnQgbGlzdF9hcnRpY2xlX2hvdCBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2xpc3RfYXJ0aWNsZV9ob3QudnVlIjsKaW1wb3J0IGxpc3RfY29tbWVudCBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2xpc3RfY29tbWVudC52dWUiOwppbXBvcnQgZm9ybV9lZGl0b3IgZnJvbSAiQC9jb21wb25lbnRzL2RpeS9mb3JtX2VkaXRvci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbbWl4aW5dLAogIGNvbXBvbmVudHM6IHsKICAgIGxpc3RfY29tbWVudDogbGlzdF9jb21tZW50LAogICAgZGl2X2FydGljbGU6IGRpdl9hcnRpY2xlLAogICAgbGlzdF9hcnRpY2xlX2hvdDogbGlzdF9hcnRpY2xlX2hvdCwKICAgIGJhcl90aXRsZTogYmFyX3RpdGxlLAogICAgZm9ybV9lZGl0b3I6IGZvcm1fZWRpdG9yCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXJsX2dldF9vYmo6ICJ+L2FwaS9hcnRpY2xlL2dldF9vYmo/IiwKICAgICAgZmllbGQ6ICJhcnRpY2xlX2lkIiwKICAgICAgb2JqOiB7fSwKICAgICAgcXVlcnk6IHsKICAgICAgICBhcnRpY2xlX2lkOiAwCiAgICAgIH0sCiAgICAgIGxpc3RfaG90OiBbXSwKICAgICAgbGlzdF9jb21tZW50OiBbXSwKICAgICAgZm9ybV9jb21tZW50OiB7CiAgICAgICAgc291cmNlX3RhYmxlOiAiYXJ0aWNsZSIsCiAgICAgICAgc291cmNlX2ZpZWxkOiAiYXJ0aWNsZV9pZCIsCiAgICAgICAgc291cmNlX2lkOiAwLAogICAgICAgIHJlcGx5X3RvX2lkOiAwCiAgICAgIH0sCiAgICAgIGNvdW50X3BhZ2VzOiAxLAogICAgICAvLyDpobXpnaLmlbAKICAgICAgc2V0ZWRfY291bnRfcGFnZXM6IHRydWUgLy8g5piv5ZCm6K6+572u6L+HCgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog6I635Y+W6K+E6K665ZCOCiAgICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiDlk43lupTlr7nosaEKICAgICAqLwogICAgZ2V0X29ial9hZnRlcjogZnVuY3Rpb24gZ2V0X29ial9hZnRlcihqc29uKSB7CiAgICAgIHZhciBvYmogPSBqc29uLnJlc3VsdDsKICAgICAgdGhpcy5nZXRfY29tbWVudChvYmopOwogICAgICB0aGlzLmZvcm1fY29tbWVudC5zb3VyY2VfaWQgPSB0aGlzLnF1ZXJ5LmFydGljbGVfaWQ7CiAgICB9LAoKICAgIC8qKgogICAgICog6I635Y+W54Ot6Zeo5paH56ugCiAgICAgKi8KICAgIGdldF9ob3RfYXJ0aWNsZTogZnVuY3Rpb24gZ2V0X2hvdF9hcnRpY2xlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS9hcnRpY2xlL2dldF9saXN0IiwgewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgc2l6ZTogMTAsCiAgICAgICAgb3JkZXJieTogImhpdHMiCiAgICAgIH0sIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgX3RoaXMubGlzdF9ob3QgPSByZXMucmVzdWx0Lmxpc3Q7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDojrflj5bor4TorroKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IG9iaiDmlofnq6Dlr7nosaEKICAgICAqIEBwYXJhbSB7IE51bWJlciB9IHBhZ2Ug5YiG6aG15pWwCiAgICAgKiBAcGFyYW0geyBOdW1iZXIgfSBzaXplIOivhOiuuuaYvuekuuadoeaVsAogICAgICovCiAgICBnZXRfY29tbWVudDogZnVuY3Rpb24gZ2V0X2NvbW1lbnQob2JqKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHBhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7CiAgICAgIHZhciBzaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiA1OwogICAgICB0aGlzLiRnZXQoIn4vYXBpL2NvbW1lbnQvZ2V0X2xpc3Q/IiwgewogICAgICAgIHNvdXJjZV90YWJsZTogImFydGljbGUiLAogICAgICAgIHNvdXJjZV9maWVsZDogImFydGljbGVfaWQiLAogICAgICAgIHNvdXJjZV9pZDogb2JqLmFydGljbGVfaWQsCiAgICAgICAgcGFnZTogcGFnZSwKICAgICAgICBzaXplOiBzaXplLAogICAgICAgIHJlcGx5X3RvX2lkOiAiMCIsCiAgICAgICAgb3JkZXJieTogImNyZWF0ZV90aW1lIGRlc2MiCiAgICAgIH0sIGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICB2YXIgbGlzdF9jb21tZW50ID0ganNvbi5yZXN1bHQubGlzdDsKICAgICAgICAgIGxpc3RfY29tbWVudC5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgby5saXN0X3JlcGx5ID0gW107CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIuYWRkX3JlcGx5KGxpc3RfY29tbWVudCkudGhlbihmdW5jdGlvbiAobGlzdCkgewogICAgICAgICAgICBfdGhpczIubGlzdF9jb21tZW50ID0gbGlzdDsKICAgICAgICAgIH0pOyAvLyDliIbpobXlmagKICAgICAgICAgIC8vIGlmICh0aGlzLnNldGVkX2NvdW50X3BhZ2VzKSB7CiAgICAgICAgICAvLyAgIHRoaXMuc2V0ZWRfY291bnRfcGFnZXMgPSBmYWxzZTsKICAgICAgICAgIC8vICAgdGhpcy5jb3VudF9wYWdlcyA9IE1hdGguY2VpbChqc29uLnJlc3VsdC5jb3VudCAvIHNpemUpOwogICAgICAgICAgLy8gfQoKCiAgICAgICAgICBfdGhpczIuY291bnRfcGFnZXMgPSBNYXRoLmNlaWwoanNvbi5yZXN1bHQuY291bnQgLyBzaXplKSB8fCAxOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICogQHBhcmFtIHsgQXJyYXkgfSBsaXN0IOivhOiuuuWIl+ihqAogICAgICog5re75Yqg5Zue5aSN5Yiw6K+E6K665YiX6KGoCiAgICAgKi8KICAgIGFkZF9yZXBseTogZnVuY3Rpb24gYWRkX3JlcGx5KGxpc3QpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpZHgpIHsKICAgICAgICAgIHZhciBvYmogPSBsaXN0W2lkeF07CgogICAgICAgICAgX3RoaXMzLiRnZXQoIn4vYXBpL2NvbW1lbnQvZ2V0X2xpc3Q/IiwgewogICAgICAgICAgICBzb3VyY2VfdGFibGU6ICJhcnRpY2xlIiwKICAgICAgICAgICAgc291cmNlX2ZpZWxkOiAiYXJ0aWNsZV9pZCIsCiAgICAgICAgICAgIHNvdXJjZV9pZDogb2JqLmFydGljbGVfaWQsCiAgICAgICAgICAgIG9yZGVyYnk6ICJjcmVhdGVfdGltZSBkZXNjIiwKICAgICAgICAgICAgcmVwbHlfdG9faWQ6IG9iai5jb21tZW50X2lkCiAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAgICAgb2JqLmxpc3RfcmVwbHkgPSByZXMucmVzdWx0Lmxpc3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGxpc3QubGVuZ3RoOyBpZHgrKykgewogICAgICAgICAgX2xvb3AoaWR4KTsKICAgICAgICB9CgogICAgICAgIHJlc29sdmUobGlzdCk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIOabtOaWsOivhOiuugogICAgICovCiAgICB1cGRhdGVfY29tbWVudDogZnVuY3Rpb24gdXBkYXRlX2NvbW1lbnQoKSB7CiAgICAgIHRoaXMuZ2V0X2NvbW1lbnQodGhpcy5vYmopOwogICAgfSwKCiAgICAvKioKICAgICAqIOWIhumhteWZqAogICAgICogQHBhcmFtIHsgTnVtYmVyIH0gcGFnZV9udW0g5YiG6aG15pWwCiAgICAgKiBAcmV0dXJuIHsgT2JqZWN0IH0g5p+l6K+i5a+56LGhCiAgICAgKi8KICAgIGxpbmtfZ2VuOiBmdW5jdGlvbiBsaW5rX2dlbihwYWdlX251bSkgewogICAgICByZXR1cm4gewogICAgICAgIHF1ZXJ5OiB0aGlzLnF1ZXJ5CiAgICAgIH07CiAgICB9LAoKICAgIC8qKgogICAgICrliqDovb3kuIvkuIDpobUKICAgICAqLwogICAgY2hhbmdlX3BhZ2U6IGZ1bmN0aW9uIGNoYW5nZV9wYWdlKHBhZ2VfbnVtKSB7CiAgICAgIHRoaXMuZ2V0X2NvbW1lbnQodGhpcy5vYmosIHBhZ2VfbnVtKTsKICAgICAgdGhpcy5mb3JtX2NvbW1lbnQucmVwbHlfdG9faWQgPSAwOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJlc3BvbmRlbnQ6IGZ1bmN0aW9uIHJlc3BvbmRlbnQoKSB7CiAgICAgIHZhciByZXBseV90b19pZCA9IHRoaXMuZm9ybV9jb21tZW50LnJlcGx5X3RvX2lkOwogICAgICB2YXIgcmVzcG9uZGVudCA9ICIiOwogICAgICB0aGlzLmxpc3RfY29tbWVudC5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICBpZiAoby5jb21tZW50X2lkID09PSByZXBseV90b19pZCkgewogICAgICAgICAgcmVzcG9uZGVudCA9IG8ubmlja25hbWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3BvbmRlbnQ7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRfaG90X2FydGljbGUoKTsKICB9Cn07"},{"version":3,"sources":["details.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"page_article\">\r\n        <div class=\"warp\" v-if=\"$check_action('/article/list', 'get')\">\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-12 col-lg-9 col-md-12\">\r\n                        <div class=\"card\">\r\n                            <!-- 文章详情 -->\r\n                            <div class=\"article_detail\">\r\n                                <div_article :obj=\"obj\"/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-12 col-lg-3\">\r\n                          <!-- 热门文章推荐 -->\r\n                          <div class=\"list_hot\">\r\n                              <div class=\"hot_title\">\r\n                                  热门文章推荐\r\n                              </div>\r\n                              <list_article_hot :list=\"list_hot\"/>\r\n                          </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import mixin from \"@/mixins/page.js\";\r\n    import bar_title from \"@/components/diy/bar_title.vue\";\r\n    import div_article from \"@/components/diy/div_article.vue\";\r\n    import list_article_hot from \"@/components/diy/list_article_hot.vue\";\r\n    import list_comment from \"@/components/diy/list_comment.vue\";\r\n    import form_editor from \"@/components/diy/form_editor.vue\";\r\n\r\n    export default {\r\n        mixins: [mixin],\r\n        components: {\r\n            list_comment,\r\n            div_article,\r\n            list_article_hot,\r\n            bar_title,\r\n            form_editor,\r\n        },\r\n        data() {\r\n            return {\r\n                url_get_obj: \"~/api/article/get_obj?\",\r\n                field: \"article_id\",\r\n                obj: {},\r\n                query: {\r\n                    article_id: 0,\r\n                },\r\n                list_hot: [],\r\n                list_comment: [],\r\n                form_comment: {\r\n                    source_table: \"article\",\r\n                    source_field: \"article_id\",\r\n                    source_id: 0,\r\n                    reply_to_id: 0,\r\n                },\r\n                count_pages: 1, // 页面数\r\n                seted_count_pages: true, // 是否设置过\r\n            };\r\n        },\r\n        methods: {\r\n            /**\r\n             * 获取评论后\r\n             * @param {Object} json 响应对象\r\n             */\r\n            get_obj_after(json) {\r\n                var obj = json.result;\r\n                this.get_comment(obj);\r\n                this.form_comment.source_id = this.query.article_id;\r\n            },\r\n            /**\r\n             * 获取热门文章\r\n             */\r\n            get_hot_article() {\r\n                this.$get(\r\n                    \"~/api/article/get_list\",\r\n                    {\r\n                        page: 1,\r\n                        size: 10,\r\n                        orderby: \"hits\",\r\n                    },\r\n                    (res) => {\r\n                        if (res.result) {\r\n                            this.list_hot = res.result.list;\r\n                        }\r\n                    }\r\n                );\r\n            },\r\n            /**\r\n             * 获取评论\r\n             * @param { Object } obj 文章对象\r\n             * @param { Number } page 分页数\r\n             * @param { Number } size 评论显示条数\r\n             */\r\n            get_comment(obj, page = 1, size = 5) {\r\n                this.$get(\r\n                    \"~/api/comment/get_list?\",\r\n                    {\r\n                        source_table: \"article\",\r\n                        source_field: \"article_id\",\r\n                        source_id: obj.article_id,\r\n                        page,\r\n                        size,\r\n                        reply_to_id: \"0\",\r\n                        orderby: \"create_time desc\",\r\n                    },\r\n                    (json) => {\r\n                        if (json.result) {\r\n                            var list_comment = json.result.list;\r\n                            list_comment.map((o) => {\r\n                                o.list_reply = [];\r\n                            });\r\n                            this.add_reply(list_comment).then((list) => {\r\n                                this.list_comment = list;\r\n                            });\r\n                            // 分页器\r\n                            // if (this.seted_count_pages) {\r\n                            //   this.seted_count_pages = false;\r\n                            //   this.count_pages = Math.ceil(json.result.count / size);\r\n                            // }\r\n                            this.count_pages = Math.ceil(json.result.count / size) || 1\r\n                        }\r\n                    }\r\n                );\r\n            },\r\n\r\n            /**\r\n             * @param { Array } list 评论列表\r\n             * 添加回复到评论列表\r\n             */\r\n            add_reply(list) {\r\n                return new Promise((resolve) => {\r\n                    for (let idx = 0; idx < list.length; idx++) {\r\n                        const obj = list[idx];\r\n                        this.$get(\r\n                            \"~/api/comment/get_list?\",\r\n                            {\r\n                                source_table: \"article\",\r\n                                source_field: \"article_id\",\r\n                                source_id: obj.article_id,\r\n                                orderby: \"create_time desc\",\r\n                                reply_to_id: obj.comment_id,\r\n                            },\r\n                            (res) => {\r\n                                if (res.result) {\r\n                                    obj.list_reply = res.result.list;\r\n                                }\r\n                            }\r\n                        );\r\n                    }\r\n                    resolve(list);\r\n                });\r\n            },\r\n\r\n            /**\r\n             * 更新评论\r\n             */\r\n            update_comment() {\r\n                this.get_comment(this.obj);\r\n            },\r\n            /**\r\n             * 分页器\r\n             * @param { Number } page_num 分页数\r\n             * @return { Object } 查询对象\r\n             */\r\n            link_gen(page_num) {\r\n                return {\r\n                    query: this.query,\r\n                };\r\n            },\r\n            /**\r\n             *加载下一页\r\n             */\r\n            change_page(page_num) {\r\n                this.get_comment(this.obj, page_num);\r\n                this.form_comment.reply_to_id = 0;\r\n            },\r\n        },\r\n        computed: {\r\n            respondent() {\r\n                var reply_to_id = this.form_comment.reply_to_id;\r\n                var respondent = \"\";\r\n                this.list_comment.map((o) => {\r\n                    if (o.comment_id === reply_to_id) {\r\n                        respondent = o.nickname;\r\n                    }\r\n                });\r\n                return respondent;\r\n            },\r\n        },\r\n        mounted() {\r\n            this.get_hot_article();\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    .card {\r\n        border-radius: 0.5rem;\r\n    }\r\n\r\n    .list_hot {\r\n      color: white;\r\n      background-color: var(--color_primary);\r\n      margin: 0.5rem;\r\n      padding: 1rem;\r\n      border-radius: 0.5rem;\r\n    }\r\n\r\n    .hot_title {\r\n      height: 4rem;\r\n      font-size: 1.2rem;\r\n      font-weight: bold;\r\n      align-items: center;\r\n      justify-content: center;\r\n      display: flex;\r\n      margin-bottom: 1rem;\r\n    }\r\n\r\n    .form_editor {\r\n        padding: 10px;\r\n    }\r\n\r\n    .comment_box {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/views/article"}]}