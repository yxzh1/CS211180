{"remainingRequest":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js!D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\mixins\\component.js","dependencies":[{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\src\\mixins\\component.js","mtime":1642669596000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WorkSpace\\localCode\\CS211180\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1dvcmtTcGFjZS9sb2NhbENvZGUvQ1MyMTExODAvY2xpZW50X2hvbWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICAvLyDojrflj5bnmoTliJfooagKICAgIGxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIOinhuWbvibpqozor4HmqKHlnosKICAgIHZtOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgLy8g5o+Q5Lqk6KGo5Y2VCiAgICAvLyBmb3JtOiB7fSwKICAgIGZvcm06IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICAvLyDnur/kuIrlr7nosaEKICAgIG9iajogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBvcGVucyA9ICQuZGIuZ2V0KCdvcGVucycpIHx8IFswXTsgLy8gdmFyIG9wZW5zX3N0ciA9IDsKICAgIC8vIGlmKG9wZW5zX3N0cil7CiAgICAvLyAJb3BlbnMgPSBvcGVuc19zdHI7CiAgICAvLyB9CgogICAgcmV0dXJuIHsKICAgICAgLy8g5qCH6aKYCiAgICAgIHRpdGxlOiAiIiwKICAgICAgLy8g5Zyw5Z2ACiAgICAgIHVybDogIiIsCiAgICAgIC8vIOa3u+WKoOWcsOWdgAogICAgICB1cmxfYWRkOiAiIiwKICAgICAgLy8g5Yig6Zmk5Zyw5Z2ACiAgICAgIHVybF9kZWw6ICIiLAogICAgICAvLyDkv67mlLnlnLDlnYAKICAgICAgdXJsX3NldDogIiIsCiAgICAgIC8vIOafpeivouWvueixoeWcsOWdgAogICAgICB1cmxfZ2V0X29iajogIiIsCiAgICAgIC8vIOafpeivouWIl+ihqOWcsOWdgAogICAgICB1cmxfZ2V0X2xpc3Q6ICIiLAogICAgICAvLyDooajljZXmj5DkuqTlnLDlnYAKICAgICAgdXJsX3N1Ym1pdDogIiIsCiAgICAgIC8vIOS4iuS8oOaPkOS6pOWcsOWdgAogICAgICB1cmxfdXBsb2FkOiAiIiwKICAgICAgLy8g5a+85YWl5pWw5o2u5Zyw5Z2ACiAgICAgIHVybF9pbXBvcnQ6ICIiLAogICAgICAvLyDlr7zlh7rmlbDmja7lnLDlnYAKICAgICAgdXJsX2V4cG9ydDogIiIsCiAgICAgIC8vIOmFjee9rgogICAgICBjb25maWc6IHsKICAgICAgICAvLyDpu5jorqTlvZPliY3pobXpnaIKICAgICAgICBwYWdlOiAxLAogICAgICAgIC8vIOm7mOiupOmhtemdouWkp+WwjwogICAgICAgIHNpemU6IDEwCiAgICAgIH0sCiAgICAgIC8vIOWKoOi9vei/m+W6pgogICAgICBsb2FkaW5nOiAwLAogICAgICAvLyDmmL7npLrov5vluqYKICAgICAgc2hvd2luZzogMCwKICAgICAgLy8g5o+Q5Lqk6L+b5bqmCiAgICAgIHBvc3Rpbmc6IDAsCiAgICAgIC8vIOmAieS4remhuQogICAgICBzZWxlY3Q6ICQuZGIuZ2V0KCdzZWxlY3QnKSwKICAgICAgLy8g5p+l6K+i57uT5p6c5Yy56YWN5pWw57uf6K6hCiAgICAgIGNvdW50OiAwLAogICAgICAvLyDmmL7npLrpmpDol4/vvIx0cnVl5pi+56S677yMZmFsc2XpmpDol48KICAgICAgc2hvdzogZmFsc2UsCiAgICAgIC8vIOWTjeW6lOaIkOWKn+aIluWksei0pQogICAgICBibDogZmFsc2UsCiAgICAgIC8vIOaYvuekuuaWueW8jwogICAgICBkaXNwbGF5OiAiIiwKICAgICAgLy8g5YWz6ZSu5a2X5q61CiAgICAgIGZpZWxkOiAiIiwKICAgICAgLy8g5ZON5bqU5o+Q56S6CiAgICAgIHRpcDogIiIsCiAgICAgIC8vIOm7mOiupOivt+axguaWueW8jwogICAgICBtb2RlOiAibGlzdCIsCiAgICAgIC8vIOa4hemZpOWIl+ihqAogICAgICBjbGVhcl9saXN0OiB0cnVlLAogICAgICAvLyDlk43lupTplJnor6/mtojmga8KICAgICAgbWVzc2FnZTogIiIsCiAgICAgIC8vIOmAieS4rembhgogICAgICBzZWxlY3RzOiAiIiwKICAgICAgLy8g5b2T5YmN6aG1LCDnlKjkuo7ot7PovazpobXpnaIKICAgICAgcGFnZV9ub3c6IDEsCiAgICAgIC8vIOmAieaLqemhueeKtuaAgQogICAgICBzZWxlY3Rfc3RhdGU6IGZhbHNlLAogICAgICAvLyDmjpLluo/plK7vvIznlKjkuo7mi5bmi73kv67mlLnmjpLluo8KICAgICAgc29ydF9rZXk6ICJkaXNwbGF5IiwKICAgICAgLy8g5L+u5pS55p2h5Lu2CiAgICAgIHF1ZXJ5X3NldDoge30sCiAgICAgIC8vIOWxleW8gOeahOS4iue6p2lkCiAgICAgIG9wZW5zOiBvcGVucywKICAgICAgLy8g5LiK57qnSUQ6IGZhdGhlcl9pZAogICAgICBmYXRoZXJfaWQ6ICJmYXRoZXJfaWQiLAogICAgICAvLyDpgInkuK3pm4blkIgKICAgICAgc2VsZWN0aW9uOiBbXSwKICAgICAgLy8g55m75b2V5p2D6ZmQCiAgICAgIG9hdXRoOiB7CiAgICAgICAgInNpZ25JbiI6IHRydWUsCiAgICAgICAgImdtIjogMCwKICAgICAgICAidXNlcl9hZG1pbiI6IFtdCiAgICAgIH0sCiAgICAgIC8vIOeZu+W9leeUqOaItwogICAgICB1c2VyOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLAogICAgICAvLyDmiYDlnKjnlKjmiLfnu4QKICAgICAgdXNlcl9ncm91cDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyX2dyb3VwLAogICAgICAvLyDkv67mlLnmj5DnpLoKICAgICAgdGlwX3Nob3c6IHRydWUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5LqL5Lu2566h55CGLCDnlKjkuo7nrqHnkIblh73mlbANCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSDkuovku7blkI0NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0xIOWPguaVsDENCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0yIOWPguaVsDINCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0zIOWPguaVsDMNCiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IOi/lOWbnuS6i+S7tueJueWumuWAvA0KICAgICAqLwogICAgZXZlbnRzOiBmdW5jdGlvbiBldmVudHMobmFtZSwgcGFyYW0xLCBwYXJhbTIsIHBhcmFtMykgewogICAgICBpZiAodGhpc1tuYW1lXSkgewogICAgICAgIGlmIChwYXJhbTMpIHsKICAgICAgICAgIHJldHVybiB0aGlzW25hbWVdKHBhcmFtMSwgcGFyYW0yLCBwYXJhbTMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdGhpc1tuYW1lXShwYXJhbTEsIHBhcmFtMik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDmt7vliqDmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g6KaB5re75Yqg55qE5pWw5o2uDQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIGFkZDogZnVuY3Rpb24gYWRkKHBhcmFtLCBmdW5jKSB7CiAgICAgIGlmICghcGFyYW0pIHsKICAgICAgICBwYXJhbSA9IHRoaXMub2JqOwogICAgICB9CgogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygiYWRkX2JlZm9yZSIsIE9iamVjdC5hc3NpZ24oe30sIHBhcmFtKSkgfHwgcGFyYW07CiAgICAgIHZhciBtc2cgPSB0aGlzLmV2ZW50cygiYWRkX2NoZWNrIiwgcG0pOwogICAgICB2YXIgcmV0OwoKICAgICAgaWYgKCFtc2cpIHsKICAgICAgICByZXQgPSB0aGlzLmV2ZW50cygiYWRkX21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXQ7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDliKDpmaTmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g5p+l6K+i5p2h5Lu2DQogICAgICovCiAgICBkZWw6IGZ1bmN0aW9uIGRlbChwYXJhbSwgZnVuYykgewogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLnF1ZXJ5OwogICAgICB9CgogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygiZGVsX2JlZm9yZSIsIE9iamVjdC5hc3NpZ24oe30sIHBhcmFtKSkgfHwgcGFyYW07CiAgICAgIHZhciBtc2cgPSB0aGlzLmV2ZW50cygiZGVsX2NoZWNrIiwgcG0pOwogICAgICB2YXIgcmV0OwoKICAgICAgaWYgKCFtc2cpIHsKICAgICAgICByZXQgPSB0aGlzLmV2ZW50cygiZGVsX21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXQ7CiAgICB9LAogICAgZGVsX3Nob3c6IGZ1bmN0aW9uIGRlbF9zaG93KG8sIGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAkLmNvbmZpcm0oJ+WIoOmZpOWQjuWwhuaXoOazleWbnuWkjSE8YnIvPuaYr+WQpuehruWumuimgeWIoOmZpD8nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ+ehruWumuWIoOmZpCEnKTsKICAgICAgICB2YXIgcXVlcnkgPSB7fTsKICAgICAgICBxdWVyeVtpZF0gPSBvW2lkXTsKCiAgICAgICAgX3RoaXMuZGVsKHF1ZXJ5LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5saXN0LmRlbChxdWVyeSk7CgogICAgICAgICAgX3RoaXMuY291bnQgLT0gMTsKICAgICAgICB9KTsKICAgICAgfSwgZnVuY3Rpb24gKCkgey8vIGNvbnNvbGUubG9nKCflj5bmtojliKDpmaQhJykKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDkv67mlLnmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g5L+u5pS56aG5DQogICAgICogQHBhcmFtIHtTdHJpbmd9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5jbHVkZVplcm8g5piv5ZCm5YyF5ousMA0KICAgICAqLwogICAgc2V0OiBmdW5jdGlvbiBzZXQocGFyYW0sIHF1ZXJ5LCBmdW5jLCBpbmNsdWRlWmVybykgewogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLm9iajsKICAgICAgfQoKICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgdGhpcy5xdWVyeV9zZXQgPSBxdWVyeTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnF1ZXJ5X3NldCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucXVlcnkpOwogICAgICB9CgogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygic2V0X2JlZm9yZSIsIE9iamVjdC5hc3NpZ24oe30sIHBhcmFtKSwgaW5jbHVkZVplcm8pIHx8IHBhcmFtOwogICAgICB2YXIgbXNnID0gdGhpcy5ldmVudHMoInNldF9jaGVjayIsIHBtKTsKICAgICAgdmFyIHJldDsKCiAgICAgIGlmICghbXNnKSB7CiAgICAgICAgcmV0ID0gdGhpcy5ldmVudHMoInNldF9tYWluIiwgcG0sIGZ1bmMpOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfSwKCiAgICAvKioNCiAgICAgKiDkv67mlLnliY3kuovku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0NCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGluY2x1ZGVaZXJvIOaYr+WQpuWIoOmZpDDlgLzpobkNCiAgICAgKiBAcGFyYW0ge09iamVjdH0g6L+U5Zue5paw55qE5Y+C5pWwDQogICAgICovCiAgICBzZXRfYmVmb3JlOiBmdW5jdGlvbiBzZXRfYmVmb3JlKHBhcmFtLCBpbmNsdWRlWmVybykgewogICAgICB2YXIgcG0gPSAkLmRlbGV0ZShwYXJhbSwgaW5jbHVkZVplcm8pOwoKICAgICAgZm9yICh2YXIgayBpbiBwbSkgewogICAgICAgIGlmIChrLnRvTG9jYWxlTG93ZXJDYXNlKCkuaW5kZXhPZigndGltZScpICE9PSAtMSAmJiBwbVtrXS5pbmRleE9mKCdUJykgIT09IC0xKSB7CiAgICAgICAgICBwbVtrXSA9IG5ldyBEYXRlKHBtW2tdKS50b1N0cigneXl5eS1NTS1kZCAwMDowMDowMCcpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHBtOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmibnph4/kv67mlLkNCiAgICAgKi8KICAgIGJhdGNoU2V0OiBmdW5jdGlvbiBiYXRjaFNldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICQuY29uZmlybSgn5om56YeP5L+u5pS55pWw5o2u5peg5rOV5oy95ZuePGJyLz7noa7lrpropoHmk43kvZzlkJc/JywgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBxID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMucXVlcnksIF90aGlzLnF1ZXJ5X3NldCk7CiAgICAgICAgcVtfdGhpcy5maWVsZF0gPSBfdGhpcy5zZWxlY3RzOwogICAgICAgIGRlbGV0ZSBxLnBhZ2U7CiAgICAgICAgZGVsZXRlIHEuc2l6ZTsKICAgICAgICBkZWxldGUgcS5vcmRlcmJ5OwoKICAgICAgICBfdGhpcy5zZXQoX3RoaXMuZm9ybSwgcSwgZnVuY3Rpb24gKGpzb24pIHsKICAgICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgICBfdGhpcy5zaG93ID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpcy5nZXQoKTsKICAgICAgICAgIH0KICAgICAgICB9LCB0cnVlKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDmn6Xor6LlpJrmnaHmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIGdldF9saXN0OiBmdW5jdGlvbiBnZXRfbGlzdChwYXJhbSwgZnVuYykgewogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLnF1ZXJ5OwogICAgICB9CgogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygiZ2V0X2xpc3RfYmVmb3JlIiwgT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0pKSB8fCBwYXJhbTsKICAgICAgdmFyIG1zZyA9IHRoaXMuZXZlbnRzKCJnZXRfbGlzdF9jaGVjayIsIHBtKTsKICAgICAgdmFyIHJldDsKCiAgICAgIGlmICghbXNnKSB7CiAgICAgICAgcmV0ID0gdGhpcy5ldmVudHMoImdldF9saXN0X21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXQ7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDmn6Xor6LkuIDmnaHmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkg5p+l6K+i5p2h5Lu2DQogICAgICogQGZ1bmMge0Z1bmN0aW9ufSDlm57osIPlh73mlbANCiAgICAgKi8KICAgIGdldF9vYmo6IGZ1bmN0aW9uIGdldF9vYmoocGFyYW0sIGZ1bmMpIHsKICAgICAgY29uc29sZS5sb2coIuiOt+WPluWvueixoSIsIHBhcmFtKTsKCiAgICAgIGlmICghcGFyYW0pIHsKICAgICAgICBwYXJhbSA9IHRoaXMucXVlcnk7CiAgICAgIH0KCiAgICAgIHZhciBwbSA9IHRoaXMuZXZlbnRzKCJnZXRfb2JqX2JlZm9yZSIsIE9iamVjdC5hc3NpZ24oe30sIHBhcmFtKSkgfHwgcGFyYW07CiAgICAgIHZhciBtc2cgPSB0aGlzLmV2ZW50cygiZ2V0X29ial9jaGVjayIsIHBtKTsKICAgICAgdmFyIHJldDsKCiAgICAgIGlmICghbXNnKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coIuaJp+ihjOWJjSIsIHBhcmFtKQogICAgICAgIHJldCA9IHRoaXMuZXZlbnRzKCJnZXRfb2JqX21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0gZWxzZSBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCgogICAgLyoqDQogICAgICog5p2h5Lu25o6S5bqPDQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtDQogICAgICogQHBhcmFtIHtPYmplY3R9IGZ1bmMNCiAgICAgKi8KICAgIHNvcnQ6IGZ1bmN0aW9uIHNvcnQocGFyYW0sIGZ1bmMpIHsKICAgICAgdmFyIHBtID0gdGhpcy5ldmVudHMoInNvcnRfYmVmb3JlIiwgT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0pKSB8fCBwYXJhbTsKICAgICAgdmFyIG1zZyA9IHRoaXMuZXZlbnRzKCJzb3J0X2NoZWNrIiwgcG0pOwogICAgICB2YXIgcmV0OwoKICAgICAgaWYgKCFtc2cpIHsKICAgICAgICByZXQgPSB0aGlzLmV2ZW50cygic29ydF9tYWluIiwgcG0sIGZ1bmMpOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmo4DmtYvmjojmnYPvvIzmnInmnYPpmZDlkI7lm57osIPlh73mlbANCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgY2hlY2tfYXV0aDogZnVuY3Rpb24gY2hlY2tfYXV0aChmdW5jKSB7CiAgICAgIGlmICh0aGlzLm9hdXRoLnNpZ25JbikgewogICAgICAgIGlmICh0aGlzLnVzZXIudXNlcl9pZCkgewogICAgICAgICAgZnVuYygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRnZXRfdXNlcihmdW5jKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZnVuYygpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIneWni+WMlg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSDlj4LmlbANCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgaW5pdDogZnVuY3Rpb24gaW5pdChwYXJhbSwgZnVuYykgewogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygiaW5pdF9iZWZvcmUiLCBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSkpIHx8IHBhcmFtOwogICAgICB2YXIgbXNnID0gdGhpcy5ldmVudHMoImluaXRfY2hlY2siLCBwbSk7CiAgICAgIHZhciByZXQ7CgogICAgICBpZiAoIW1zZykgewogICAgICAgIHJldCA9IHRoaXMuZXZlbnRzKCJpbml0X21haW4iLCBwbSwgZnVuYyk7CiAgICAgIH0gZWxzZSBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCgogICAgLyoqDQogICAgICog5LiK5Lyg5LqL5Lu2DQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIOaPkOS6pOWPguaVsA0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg6L+U5Zue5Ye95pWwDQogICAgICovCiAgICB1cGxvYWQ6IGZ1bmN0aW9uIHVwbG9hZChwYXJhbSwgZnVuYykgewogICAgICB2YXIgcG0gPSB0aGlzLmV2ZW50cygidXBsb2FkX2JlZm9yZSIsIE9iamVjdC5hc3NpZ24oe30sIHBhcmFtKSkgfHwgcGFyYW07CiAgICAgIHZhciBtc2cgPSB0aGlzLmV2ZW50cygidXBsb2FkX2NoZWNrIiwgcG0pOwogICAgICB2YXIgcmV0OwoKICAgICAgaWYgKG1zZykgewogICAgICAgIHRoaXMuJHRvYXN0KG1zZywgJ2RhbmdlcicpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IHRoaXMuZXZlbnRzKCJ1cGxvYWRfbWFpbiIsIHBtLCBmdW5jKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOa3u+WKoOaVsOaNrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSDopoHmt7vliqDnmoTmlbDmja4NCiAgICAgKi8KICAgIGFkZF9tYWluOiBmdW5jdGlvbiBhZGRfbWFpbih2YWx1ZSwgZnVuYykgewogICAgICB2YXIgdXJsID0gdGhpcy51cmwgPyB0aGlzLnVybCArICJtZXRob2Q9YWRkIiA6IHRoaXMudXJsX2FkZDsKCiAgICAgIGlmICghdXJsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcG9zdCh1cmwsIHZhbHVlLCBmdW5jdGlvbiAoanNvbikgewogICAgICAgIF90aGlzLmV2ZW50cygiYWRkX2FmdGVyIiwganNvbiwgZnVuYyk7CgogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgX3RoaXMuJHRvYXN0KGpzb24ucmVzdWx0LnRpcCwganNvbi5yZXN1bHQuYmwgPyAnc3VjY2VzcycgOiAnZGFuZ2VyJyk7CiAgICAgICAgfSBlbHNlIGlmIChqc29uLmVycm9yKSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoanNvbi5lcnJvci5tZXNzYWdlLCAnZGFuZ2VyJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiR0b2FzdCgn5re75Yqg5aSx6LSlISDljp/lm6A65piv5pyN5Yqh5Zmo6L+e5o6l5aSx6LSlIScsICJkYW5nZXIiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5Yig6Zmk5pWw5o2uDQogICAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Yig6Zmk5Zue6LCD5Ye95pWw5Ye95pWwDQogICAgICovCiAgICBkZWxfbWFpbjogZnVuY3Rpb24gZGVsX21haW4ocXVlcnksIGZ1bmMpIHsKICAgICAgdmFyIHVybCA9IHRoaXMudXJsID8gdGhpcy51cmwgKyAibWV0aG9kPWRlbCIgOiB0aGlzLnVybF9kZWw7CgogICAgICBpZiAoIXVybCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGdldCh1cmwsIHF1ZXJ5LCBmdW5jdGlvbiAoanNvbikgewogICAgICAgIF90aGlzLmV2ZW50cygiZGVsX2FmdGVyIiwganNvbiwgZnVuYyk7CgogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgX3RoaXMuJHRvYXN0KGpzb24ucmVzdWx0LnRpcCwganNvbi5yZXN1bHQuYmwgPyAnc3VjY2VzcycgOiAnZGFuZ2VyJyk7CiAgICAgICAgfSBlbHNlIGlmIChqc29uLmVycm9yKSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoanNvbi5lcnJvci5tZXNzYWdlLCAnZGFuZ2VyJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiR0b2FzdCgn5Yig6Zmk5aSx6LSlISDljp/lm6A65piv5pyN5Yqh5Zmo6L+e5o6l5aSx6LSlIScsICJkYW5nZXIiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliKDpmaTkuYvlkI7kuovku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiDov5Tlm57nmoTnu5PmnpwNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIGRlbF9hZnRlcjogZnVuY3Rpb24gZGVsX2FmdGVyKGpzb24sIGZ1bmMpIHsKICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICBmdW5jKCk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOS/ruaUueaVsOaNrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSDopoHkv67mlLnnmoTmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUg5L+u5pS56aG5DQogICAgICovCiAgICBzZXRfbWFpbjogZnVuY3Rpb24gc2V0X21haW4odmFsdWUsIGZ1bmMpIHsKICAgICAgdmFyIHVybCA9IHRoaXMudXJsID8gdGhpcy51cmwgKyAibWV0aG9kPXNldCIgOiB0aGlzLnVybF9zZXQ7CgogICAgICBpZiAoIXVybCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5xdWVyeV9zZXQgfHwgT2JqZWN0LmtleXModGhpcy5xdWVyeV9zZXQpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMucXVlcnlfc2V0ID0gdGhpcy5xdWVyeTsKICAgICAgfQoKICAgICAgdGhpcy4kcG9zdCh0aGlzLnRvVXJsKHRoaXMucXVlcnlfc2V0LCB1cmwpLCB2YWx1ZSwgZnVuY3Rpb24gKGpzb24sIHN0YXR1cykgewogICAgICAgIF90aGlzLmV2ZW50cygic2V0X2FmdGVyIiwganNvbiwgZnVuYyk7CgogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgaWYgKGpzb24ucmVzdWx0LmJsKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy50aXBfc2hvdykgewogICAgICAgICAgICAgIF90aGlzLiR0b2FzdChqc29uLnJlc3VsdC50aXAucmVwbGFjZSgn5L+u5pS5JywgJ+abtOaWsCcpLCAic3VjY2VzcyIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kdG9hc3QoanNvbi5yZXN1bHQudGlwLnJlcGxhY2UoJ+S/ruaUuScsICfmm7TmlrAnKSwgImRhbmdlciIpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoanNvbi5lcnJvcikgewogICAgICAgICAgX3RoaXMuJHRvYXN0KGpzb24uZXJyb3IubWVzc2FnZSwgImRhbmdlciIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoJ+S/ruaUueWksei0pSEg5Y6f5ZugOuaYr+acjeWKoeWZqOi/nuaOpeWksei0pSEnLCAiZGFuZ2VyIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog5L+u5pS55oiQ5Yqf5pe25omn6KGMDQogICAgICogQHBhcmFtIHtPYmplY3R9IGpzb24g57uT5p6cDQogICAgICogQHBhcmFtIHtPYmplY3R9IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBzZXRfYWZ0ZXI6IGZ1bmN0aW9uIHNldF9hZnRlcihqc29uLCBmdW5jKSB7CiAgICAgIGlmIChmdW5jKSB7CiAgICAgICAgZnVuYyhqc29uKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5p+l6K+i5pWw5o2uDQogICAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouWPguaVsA0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBnZXQ6IGZ1bmN0aW9uIGdldChxdWVyeSwgZnVuYykgewogICAgICB0aGlzLmdldF9tYWluKHF1ZXJ5LCBmdW5jKTsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouaVsOaNrijkuLvnqIvluo8pDQogICAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouWPguaVsA0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBnZXRfbWFpbjogZnVuY3Rpb24gZ2V0X21haW4ocXVlcnksIGZ1bmMpIHsKICAgICAgLy8gY29uc29sZS5sb2coImdldF9vYmpfbWFpbiIpOwogICAgICB2YXIgdXJsID0gdGhpcy51cmxfZ2V0X29iaiA/IHRoaXMudXJsX2dldF9vYmogOiB0aGlzLnVybDsKCiAgICAgIGlmICh1cmwpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICB0aGlzLmdldF9vYmoocXVlcnksIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmdldF9jcmVhdGUocXVlcnksIGZ1bmMpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2V0X2NyZWF0ZShxdWVyeSwgZnVuYyk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICog6aqM6K+B6K+35rGCDQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIOivt+axguWPguaVsA0KICAgICAqLwogICAgZ2V0X29ial9jaGVjazogZnVuY3Rpb24gZ2V0X29ial9jaGVjayhwYXJhbSkgewogICAgICB2YXIgYmwgPSBmYWxzZTsKCiAgICAgIGZvciAodmFyIGsgaW4gcGFyYW0pIHsKICAgICAgICBpZiAocGFyYW1ba10pIHsKICAgICAgICAgIGJsID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgOwogICAgICB9CgogICAgICBpZiAoYmwpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIue8uuWwkeafpeivouadoeS7tiI7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouS4gOadoeaVsOaNrijkuLvnqIvluo8pDQogICAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IOafpeivouadoeS7tg0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBnZXRfb2JqX21haW46IGZ1bmN0aW9uIGdldF9vYmpfbWFpbihxdWVyeSwgZnVuYykgewogICAgICAvLyBjb25zb2xlLmxvZygiZ2V0X29ial9tYWluIik7CiAgICAgIHZhciB1cmwgPSB0aGlzLnVybF9nZXRfb2JqID8gdGhpcy51cmxfZ2V0X29iaiA6IHRoaXMudXJsICsgIm1ldGhvZD1nZXRfb2JqIjsKCiAgICAgIGlmICghdXJsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kZ2V0KHRoaXMudG9VcmwocXVlcnksIHVybCksIG51bGwsIGZ1bmN0aW9uIChqc29uLCBzdGF0dXMpIHsKICAgICAgICBfdGhpcy5ldmVudHMoImdldF9vYmpfYWZ0ZXIiLCBqc29uLCBmdW5jKTsKCiAgICAgICAgdmFyIHJlcyA9IGpzb24ucmVzdWx0OwoKICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICB2YXIgb2JqOwoKICAgICAgICAgIGlmIChyZXMub2JqKSB7CiAgICAgICAgICAgIG9iaiA9IHJlcy5vYmo7CiAgICAgICAgICAgIGRlbGV0ZSByZXMub2JqOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIGxpc3QgPSByZXMubGlzdDsKCiAgICAgICAgICAgIGlmIChsaXN0ICYmIGxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIG9iaiA9IGxpc3RbMF07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgb2JqID0gcmVzOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKG9iaikgewogICAgICAgICAgICBpZiAoX3RoaXMub2JqIHx8IE9iamVjdC5rZXlzKF90aGlzLm9iaikubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgX3RoaXMub2JqID0gb2JqOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICQucHVzaChfdGhpcy5vYmosIG9iaik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBvID0gX3RoaXMub2JqOwoKICAgICAgICAgICAgZm9yICh2YXIgayBpbiBvKSB7CiAgICAgICAgICAgICAgaWYgKGsuaW5kZXhPZigndGltZScpICE9PSAtMSkgewogICAgICAgICAgICAgICAgdmFyIHZhbCA9IG9ba107CgogICAgICAgICAgICAgICAgaWYgKHZhbCAmJiB2YWwuaW5kZXhPZignVCcpICE9PSAtMSkgewogICAgICAgICAgICAgICAgICB2YXIgdiA9IG5ldyBEYXRlKG9ba10pOwogICAgICAgICAgICAgICAgICBvW2tdID0gdi50b1N0cigneXl5eS1NTS1kZCBoaDptbTpzcycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKF90aGlzLmZvcm0gfHwgT2JqZWN0LmtleXMoX3RoaXMuZm9ybSkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgX3RoaXMuZm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzLm9iaik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgJC5wdXNoKF90aGlzLmZvcm0sIE9iamVjdC5hc3NpZ24oe30sIF90aGlzLm9iaikpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChqc29uLmVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhqc29uLmVycm9yLm1lc3NhZ2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoIuacjeWKoeWZqOi/nuaOpeWksei0pe+8gSIsICJkYW5nZXIiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g6I635Y+W5Yiw5a+56LGh5ZCO5LqL5Lu2DQogICAgICogQHBhcmFtIHtPYmplY3R9IGpzb24g5ZON5bqU57uT5p6cDQogICAgICovCiAgICBnZXRfb2JqX2FmdGVyOiBmdW5jdGlvbiBnZXRfb2JqX2FmdGVyKGpzb24sIGZ1bmMpIHsKICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICBmdW5jKGpzb24pOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDmn6Xor6LlpJrmnaHmlbDmja4o5Li756iL5bqPKQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgZ2V0X2xpc3RfbWFpbjogZnVuY3Rpb24gZ2V0X2xpc3RfbWFpbihxdWVyeSwgZnVuYykgewogICAgICB2YXIgdXJsID0gdGhpcy51cmxfZ2V0X2xpc3QgPyB0aGlzLnVybF9nZXRfbGlzdCA6IHRoaXMudXJsOwoKICAgICAgaWYgKCF1cmwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSAwOwogICAgICB0aGlzLiRnZXQodGhpcy50b1VybChxdWVyeSwgdXJsKSwgbnVsbCwgZnVuY3Rpb24gKGpzb24sIHN0YXR1cykgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSAxMDA7CgogICAgICAgIGlmIChfdGhpcy5jbGVhcl9saXN0KSB7CiAgICAgICAgICBfdGhpcy5saXN0LmNsZWFyKCk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5ldmVudHMoImdldF9saXN0X2FmdGVyIiwganNvbiwgZnVuYywgdXJsKTsKCiAgICAgICAgdmFyIHJlcyA9IGpzb24ucmVzdWx0OwoKICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICBfdGhpcy5wYWdlX25vdyA9IF90aGlzLnF1ZXJ5LnBhZ2U7CgogICAgICAgICAgX3RoaXMubGlzdC5hZGRMaXN0KHJlcy5saXN0KTsKCiAgICAgICAgICBpZiAocmVzLmNvdW50ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgX3RoaXMuY291bnQgPSByZXMuY291bnQ7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChqc29uLmVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhqc29uLmVycm9yLm1lc3NhZ2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoIuacjeWKoeWZqOi/nuaOpeWksei0pe+8gSIsICJkYW5nZXIiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g6I635Y+W5Yiw5YiX6KGo5LqL5Lu2DQogICAgICogQHBhcmFtIHtPYmplY3R9IHJlcyDlk43lupTnu5PmnpwNCiAgICAgKi8KICAgIGdldF9saXN0X2FmdGVyOiBmdW5jdGlvbiBnZXRfbGlzdF9hZnRlcihyZXMsIGZ1bmMsIHVybCkgewogICAgICBpZiAoZnVuYykgewogICAgICAgIGZ1bmMocmVzLCB1cmwpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOaQnOe0og0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGJsIOaYr+WQpumHjee9ruWGjeaQnOe0og0KICAgICAqLwogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2gocXVlcnksIGZ1bmMpIHsKICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgJC5wdXNoKHRoaXMucXVlcnksIHF1ZXJ5KTsKICAgICAgfQoKICAgICAgdmFyIHVybCA9IHRoaXMudXJsX2dldF9saXN0ID8gdGhpcy51cmxfZ2V0X2xpc3QgOiB0aGlzLnVybDsKCiAgICAgIGlmICh1cmwpIHsKICAgICAgICB0aGlzLnF1ZXJ5LnBhZ2UgPSAxOwogICAgICAgIHRoaXMuY291bnQgPSAwOwogICAgICAgICQucm91dGUucHVzaCgiPyIgKyB0aGlzLnRvVXJsKHRoaXMucXVlcnkpKTsKICAgICAgICB0aGlzLmZpcnN0KHF1ZXJ5LCBmdW5jKTsKICAgICAgfQogICAgfSwKICAgIGdldF9jcmVhdGU6IGZ1bmN0aW9uIGdldF9jcmVhdGUocXVlcnksIGZ1bmMpIHsKICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgJC5wdXNoKHRoaXMucXVlcnksIHF1ZXJ5KTsKICAgICAgfQoKICAgICAgdmFyIHVybCA9IHRoaXMudXJsX2dldF9saXN0ID8gdGhpcy51cmxfZ2V0X2xpc3QgOiB0aGlzLnVybDsKCiAgICAgIGlmICh1cmwpIHsKICAgICAgICB0aGlzLmNvdW50ID0gMDsKICAgICAgICAkLnJvdXRlLnB1c2goIj8iICsgdGhpcy50b1VybCh0aGlzLnF1ZXJ5KSk7CiAgICAgICAgdGhpcy5maXJzdChxdWVyeSwgZnVuYyk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouWkmuadoeaVsOaNriAo6aaW5qyhKQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSDmn6Xor6LmnaHku7YNCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgZmlyc3Q6IGZ1bmN0aW9uIGZpcnN0KHF1ZXJ5LCBmdW5jKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuY291bnQpIHsKICAgICAgICB2YXIgcXkgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnF1ZXJ5KTsKICAgICAgICB0aGlzLmdldF9saXN0KHF5LCBmdW5jKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldF9saXN0KHF1ZXJ5LCBmdW5jKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5p+l6K+i5LiL5LiA6aG15pWw5o2uDQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQocXVlcnksIGZ1bmMpIHsKICAgICAgY29uc29sZS5sb2coIm5leHQiKTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfdGhpcy5nZXRfbGlzdChxdWVyeSwgZnVuY3Rpb24gKGpzb24sIHVybCkgewogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgdmFyIGxpc3QgPSBqc29uLnJlc3VsdC5saXN0OwoKICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIHF5ID0gT2JqZWN0LmFzc2lnbih7fSwgcXVlcnksIHsKICAgICAgICAgICAgICBwYWdlOiBxdWVyeS5wYWdlICsgMQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChxeS5wYWdlIDw9IF90aGlzLnBhZ2VfY291bnQpIHsKICAgICAgICAgICAgICBfdGhpcy4kZ2V0KF90aGlzLnRvVXJsKHF5LCB1cmwpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICAgIGZ1bmMoanNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOafpeivouS4iuS4gOmhteaVsOaNrg0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg5Zue6LCD5Ye95pWwDQogICAgICovCiAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KHF1ZXJ5LCBmdW5jKSB7CiAgICAgIGNvbnNvbGUubG9nKCJwcmV2Iik7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5nZXRfbGlzdChxdWVyeSwgZnVuY3Rpb24gKGpzb24sIHVybCkgewogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgdmFyIGxpc3QgPSBqc29uLnJlc3VsdC5saXN0OwoKICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIHF5ID0gT2JqZWN0LmFzc2lnbih7fSwgcXVlcnksIHsKICAgICAgICAgICAgICBwYWdlOiBxdWVyeS5wYWdlIC0gMQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChxeS5wYWdlID49IDEpIHsKICAgICAgICAgICAgICBfdGhpcy4kZ2V0KF90aGlzLnRvVXJsKHF5LCB1cmwpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICAgIGZ1bmMocmVzKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmuIXpmaTmlbDmja4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnkNCiAgICAgKi8KICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcihxdWVyeSkgewogICAgICAkLmNsZWFyKHF1ZXJ5KTsKICAgIH0sCgogICAgLyoqDQogICAgICog6YeN572uDQogICAgICovCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgICQuY2xlYXIodGhpcy5xdWVyeSk7CiAgICAgICQucHVzaCh0aGlzLnF1ZXJ5LCB0aGlzLmNvbmZpZyk7CiAgICAgIHRoaXMuZ2V0X2xpc3QoKTsKICAgIH0sCgogICAgLyoqDQogICAgICog6KGo5Y2V5o+Q5LqkDQogICAgICovCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzMi5zdWJtaXQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcignZXJyb3Ig5o+Q5Lqk5aSx6LSlISEnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmj5DkuqTkuovku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g6KGo5Y2VDQogICAgICogQHBhcmFtIHtPYmplY3R9IGZ1bmMg6L+U5Zue5Ye95pWwDQogICAgICovCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdChwYXJhbSwgZnVuYykgewogICAgICBjb25zb2xlLmxvZygn5o+Q5Lqk5LqL5Lu2Jyk7CgogICAgICBpZiAoIXBhcmFtKSB7CiAgICAgICAgcGFyYW0gPSB0aGlzLmZvcm07CiAgICAgIH0KCiAgICAgIHZhciBwbSA9IHRoaXMuZXZlbnRzKCJzdWJtaXRfYmVmb3JlIiwgT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0pKSB8fCBwYXJhbTsKICAgICAgdmFyIG1zZyA9IHRoaXMuZXZlbnRzKCJzdWJtaXRfY2hlY2siLCBwbSk7CiAgICAgIHZhciByZXQ7CgogICAgICBpZiAobXNnKSB7CiAgICAgICAgdGhpcy4kdG9hc3QobXNnLCAnZGFuZ2VyJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0ID0gdGhpcy5ldmVudHMoInN1Ym1pdF9tYWluIiwgcG0sIGZ1bmMpOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmj5DkuqTliY3kuovku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0g5o+Q5Lqk5Y+C5pWwDQogICAgICovCiAgICBzdWJtaXRfYmVmb3JlOiBmdW5jdGlvbiBzdWJtaXRfYmVmb3JlKHBhcmFtKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCfmj5DkuqTliY3kuovku7YnLCBwYXJhbSk7CiAgICAgIHJldHVybiBwYXJhbTsKICAgIH0sCgogICAgLyoqDQogICAgICog5o+Q5Lqk5YmN6aqM6K+B5LqL5Lu2DQogICAgICogQHBhcmFtIHtPYmplY3R9IOivt+axguWPguaVsA0KICAgICAqIEByZXR1cm4ge1N0cmluZ30g6aqM6K+B5oiQ5Yqf6L+U5ZuebnVsbCwg5aSx6LSl6L+U5Zue6ZSZ6K+v5o+Q56S6DQogICAgICovCiAgICBzdWJtaXRfY2hlY2s6IGZ1bmN0aW9uIHN1Ym1pdF9jaGVjayhwYXJhbSkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCgogICAgLyoqDQogICAgICog5o+Q5Lqk6KGo5Y2VDQogICAgICovCiAgICBzdWJtaXRfbWFpbjogZnVuY3Rpb24gc3VibWl0X21haW4ocGFyYW0sIGZ1bmMpIHsKICAgICAgY29uc29sZS5sb2coJ+aPkOS6pOS4u+imgeS6i+S7ticsIHBhcmFtKTsKICAgICAgdmFyIHVybCA9IHRoaXMudXJsOwogICAgICBjb25zb2xlLmxvZygi5Zyw5Z2AIiwgdXJsKTsKCiAgICAgIGlmICh1cmwpIHsKICAgICAgICBpZiAodGhpcy5maWVsZCkgewogICAgICAgICAgdmFyIGlkID0gcGFyYW1bdGhpcy5maWVsZF07CgogICAgICAgICAgaWYgKGlkKSB7CiAgICAgICAgICAgIHZhciBxID0gewogICAgICAgICAgICAgIG1ldGhvZDogJ3NldCcKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcVt0aGlzLmZpZWxkXSA9IGlkOwogICAgICAgICAgICB1cmwgPSB0aGlzLnRvVXJsKHEsIHVybCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1cmwgKz0gIm1ldGhvZD1hZGQiOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB1cmwgKz0gIm1ldGhvZD1zdWJtaXQiOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0aGlzLnVybF9zdWJtaXQpIHsKICAgICAgICB1cmwgPSB0aGlzLnVybF9zdWJtaXQ7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5maWVsZCkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCflj5HpgIHor7fmsYLliY0nLCB1cmwpOwogICAgICAgIHZhciBpZCA9IHBhcmFtW3RoaXMuZmllbGRdOwoKICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgIHVybCA9IHRoaXMudXJsX3NldDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdXJsID0gdGhpcy51cmxfYWRkOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc29sZS5sb2coJ+WPkemAgeivt+axguWJjScsIHVybCk7CgogICAgICBpZiAodXJsKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsgLy8gY29uc29sZS5sb2coJ+WPkemAgeS/oeaBrycsIHVybCwgcGFyYW0pOwoKCiAgICAgICAgdXJsID0gdGhpcy4kdG9VcmwodGhpcy5xdWVyeSwgdXJsKTsKICAgICAgICB0aGlzLiRwb3N0KHVybCwgcGFyYW0sIGZ1bmN0aW9uIChqc29uLCBzdGF0dXMpIHsKICAgICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgICBfdGhpcy4kdG9hc3QoJ+aPkOS6pOaIkOWKn++8gScsICdzdWNjZXNzJyk7CgogICAgICAgICAgICBfdGhpcy5ldmVudHMoInN1Ym1pdF9hZnRlciIsIGpzb24sIGZ1bmMpOwogICAgICAgICAgfSBlbHNlIGlmIChqc29uLmVycm9yKSB7CiAgICAgICAgICAgIF90aGlzLiR0b2FzdChqc29uLmVycm9yLm1lc3NhZ2UsICdkYW5nZXInKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiR0b2FzdCgi5pyN5Yqh5Zmo6L+e5o6l5aSx6LSl77yBIiwgImRhbmdlciIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbiDojrflj5bliLDlr7nosaHlkI7kuovku7YNCiAgICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiDlk43lupTnu5PmnpwNCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOWbnuiwg+WHveaVsA0KICAgICAqLwogICAgc3VibWl0X2FmdGVyOiBmdW5jdGlvbiBzdWJtaXRfYWZ0ZXIoanNvbiwgZnVuYykgewogICAgICBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoanNvbik7CiAgICAgIH0KCiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOS4iuS4i+e/u+mhtQ0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuIOWKoOWHj+mhteeggQ0KICAgICAqLwogICAgZ286IGZ1bmN0aW9uIGdvKG4pIHsKICAgICAgdmFyIHBhZ2UgPSB0aGlzLnF1ZXJ5LnBhZ2UgKyBuOwogICAgICB0aGlzLmdvVG8ocGFnZSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOi3s+i9rOaMh+WumumhtQ0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwYWdlIOmhteeggQ0KICAgICAqLwogICAgZ29UbzogZnVuY3Rpb24gZ29UbyhwYWdlKSB7CiAgICAgIGlmIChwYWdlIDwgMSkgewogICAgICAgIHBhZ2UgPSAxOwogICAgICB9IGVsc2UgaWYgKHBhZ2UgPiB0aGlzLnBhZ2VfY291bnQpIHsKICAgICAgICBwYWdlID0gdGhpcy5wYWdlX2NvdW50OwogICAgICB9CgogICAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJ5OwogICAgICB2YXIgcCA9IHF1ZXJ5LnBhZ2U7CiAgICAgIHF1ZXJ5LnBhZ2UgPSBwYWdlOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiPyIgKyB0aGlzLnRvVXJsKHF1ZXJ5KSk7CgogICAgICBpZiAodGhpcy5wYWdlX2NvdW50ICE9PSAwKSB7CiAgICAgICAgaWYgKHAgKyAxID09IHBhZ2UpIHsKICAgICAgICAgIHRoaXMubmV4dChxdWVyeSk7CiAgICAgICAgfSBlbHNlIGlmIChwIC0gMSA9PSBwYWdlKSB7CiAgICAgICAgICB0aGlzLnByZXYocXVlcnkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmZpcnN0KHF1ZXJ5KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maXJzdChxdWVyeSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOi9rOafpeivouWPguaVsA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmog6KKr6L2s5o2i55qE5a+56LGhDQogICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCDor7fmsYLlnLDlnYANCiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHVybOWtl+espuS4sg0KICAgICAqLwogICAgdG9Vcmw6IGZ1bmN0aW9uIHRvVXJsKG9iaiwgdXJsKSB7CiAgICAgIHJldHVybiAkLnRvVXJsKG9iaiwgdXJsKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Yid5aeL5YyW5YmN5Ye95pWwDQogICAgICovCiAgICBpbml0X2JlZm9yZTogZnVuY3Rpb24gaW5pdF9iZWZvcmUocXVlcnkpIHsKICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgIHF1ZXJ5ID0gdGhpcy5jb25maWc7CiAgICAgIH0KCiAgICAgIHJldHVybiBxdWVyeTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Yid5aeL5YyWDQogICAgICovCiAgICBpbml0X21haW46IGZ1bmN0aW9uIGluaXRfbWFpbihxdWVyeSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgJC5wdXNoKHRoaXMucXVlcnksIHF1ZXJ5KTsKCiAgICAgIF90aGlzLmluaXRfYWZ0ZXIoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmdldChfdGhpcy5xdWVyeSk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliJ3lp4vljJblkI7lh73mlbANCiAgICAgKi8KICAgIGluaXRfYWZ0ZXI6IGZ1bmN0aW9uIGluaXRfYWZ0ZXIoZnVuYykgewogICAgICBpZiAoZnVuYykgewogICAgICAgIGZ1bmMoKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb24g5LiK5Lyg5paH5Lu2DQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyDlm57osIPlh73mlbANCiAgICAgKi8KICAgIHVwbG9hZF9tYWluOiBmdW5jdGlvbiB1cGxvYWRfbWFpbihmdW5jKSB7CiAgICAgIHZhciB1cmwgPSAiIjsKCiAgICAgIGlmICh0aGlzLnVybCkgewogICAgICAgIHVybCA9IHRoaXMudXJsICsgIm1ldGhvZD11cGxvYWQiOwogICAgICB9IGVsc2UgewogICAgICAgIHVybCA9IHRoaXMudXJsX3VwbG9hZDsKICAgICAgfQoKICAgICAgaWYgKCFwYXJhbSkgewogICAgICAgIHBhcmFtID0gdGhpcy5mb3JtOwogICAgICB9CgogICAgICBpZiAobXNnKSB7CiAgICAgICAgdGhpcy4kdG9hc3QobXNnLCAnZGFuZ2VyJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGxvYWRpbmcgPSAwOwoKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICB0aGlzLiR1cGxvYWQodXJsLCBwYXJhbSwgZnVuY3Rpb24gKGpzb24sIHN0YXR1cykgewogICAgICAgICAgX3RoaXMudXBsb2FkaW5nID0gMTAwOwoKICAgICAgICAgIF90aGlzLmV2ZW50cygidXBsb2FkX2FmdGVyIiwganNvbiwgZnVuYyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogQGRlc2NyaXB0aW9uIOS4iuS8oOWujOaIkOaXtg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIOWTjeW6lOe7k+aenA0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMNCiAgICAgKi8KICAgIHVwbG9hZF9hZnRlcjogZnVuY3Rpb24gdXBsb2FkX2FmdGVyKGpzb24sIGZ1bmMpIHsKICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgdGhpcy4kdG9hc3QoanNvbi5yZXN1bHQudGlwLCBqc29uLnJlc3VsdC5ibCA/ICdzdWNjZXNzJyA6ICdkYW5nZXInKTsKICAgICAgfSBlbHNlIGlmIChqc29uLmVycm9yKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoanNvbi5lcnJvci5tZXNzYWdlLCAnZGFuZ2VyJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kdG9hc3QoIuacjeWKoeWZqOi/nuaOpeWksei0pe+8gSIsICJkYW5nZXIiKTsKICAgICAgfQoKICAgICAgaWYgKGZ1bmMpIHsKICAgICAgICBmdW5jKCk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICog57uT5p2f5YmNDQogICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIOWPguaVsA0KICAgICAqLwogICAgZW5kX2JlZm9yZTogZnVuY3Rpb24gZW5kX2JlZm9yZShwYXJhbSkgey8vIHRoaXMucmVzZXQoKTsKICAgIH0sCgogICAgLyoqDQogICAgICog6YCJ5oup6aG55YWo5pS5DQogICAgICovCiAgICBzZWxlY3RfYWxsOiBmdW5jdGlvbiBzZWxlY3RfYWxsKCkgewogICAgICB2YXIgYmwgPSAhdGhpcy5zZWxlY3Rfc3RhdGU7CgogICAgICBpZiAoIWJsKSB7CiAgICAgICAgdGhpcy5zZWxlY3RzID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHMgPSAnJzsKICAgICAgICB2YXIgbGlzdCA9IHRoaXMubGlzdDsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBzICs9ICd8JyArIGxpc3RbaV1bdGhpcy5maWVsZF07CiAgICAgICAgfQoKICAgICAgICB0aGlzLnNlbGVjdHMgPSBzLnJlcGxhY2UoJ3wnLCAnJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2VsZWN0X3N0YXRlID0gYmw7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOmAieaLqemhueaUueWPmA0KICAgICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gaWQg6YCJ5oup55qESUQNCiAgICAgKi8KICAgIHNlbGVjdF9jaGFuZ2U6IGZ1bmN0aW9uIHNlbGVjdF9jaGFuZ2UoaWQpIHsKICAgICAgdmFyIGhhcyA9IGZhbHNlOwogICAgICB2YXIgYXJyID0gdGhpcy5zZWxlY3RzLnNwbGl0KCd8Jyk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBvID0gYXJyW2ldOwoKICAgICAgICBpZiAoaWQgPT0gbykgewogICAgICAgICAgYXJyLnNwbGljZShpLCAxKTsKICAgICAgICAgIGhhcyA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICghaGFzKSB7CiAgICAgICAgYXJyLnB1c2goaWQpOwogICAgICB9CgogICAgICB2YXIgcyA9IGFyci5qb2luKCd8Jyk7CgogICAgICBpZiAocy5pbmRleE9mKCd8JykgPT0gMCkgewogICAgICAgIHRoaXMuc2VsZWN0cyA9IHMuc3Vic3RyaW5nKDEpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0cyA9IHM7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICog6YCJ5oup6aG55ZCr5pyJDQogICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBpZCDpgInmi6nnmoRJRA0KICAgICAqLwogICAgc2VsZWN0X2hhczogZnVuY3Rpb24gc2VsZWN0X2hhcyhpZCkgewogICAgICB2YXIgaWRzID0gJ3wnICsgdGhpcy5zZWxlY3RzICsgJ3wnOwogICAgICByZXR1cm4gaWRzLmluZGV4T2YoJ3wnICsgaWQgKyAnfCcpICE9PSAtMTsKICAgIH0sCgogICAgLyoqDQogICAgICog6YCJ5LitDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IOmhueebrue0ouW8lQ0KICAgICAqLwogICAgc2VsZWN0ZWQ6IGZ1bmN0aW9uIHNlbGVjdGVkKGluZGV4KSB7CiAgICAgIHRoaXMuc2VsZWN0ID0gaW5kZXg7CiAgICAgICQuZGIuc2V0KCdzZWxlY3QnLCBpbmRleCwgMTIwKTsKICAgIH0sCgogICAgLyoqDQogICAgICog6aG16Z2i5pS55Y+Y5pe2DQogICAgICogQHBhcmFtIHtPYmplY3R9IGUg5LqL5Lu2DQogICAgICovCiAgICBwYWdlX2NoYW5nZTogZnVuY3Rpb24gcGFnZV9jaGFuZ2UoZSkgewogICAgICB2YXIgbiA9IE51bWJlcihlLnRhcmdldC52YWx1ZSk7CgogICAgICBpZiAoaXNOYU4obikpIHsKICAgICAgICBuID0gMTsKICAgICAgfQoKICAgICAgaWYgKG4gPCAxKSB7CiAgICAgICAgbiA9IDE7CiAgICAgIH0gZWxzZSBpZiAobiA+IHRoaXMucGFnZV9jb3VudCkgewogICAgICAgIG4gPSB0aGlzLnBhZ2VfY291bnQ7CiAgICAgIH0KCiAgICAgIHRoaXMucGFnZV9ub3cgPSBuOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDojrflj5blkI3np7ANCiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IOeUqOadpeWPluWQjeeahOWIl+ihqA0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhcnJfc3RyIGlk6ZuG5ZCIDQogICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSDplK4NCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSDlkI0NCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3BhbiDliIbpmpTnrKYNCiAgICAgKi8KICAgIGdldF9uYW1lOiBmdW5jdGlvbiBnZXRfbmFtZShsaXN0LCBhcnJfc3RyLCBrZXksIG5hbWUsIHNwYW4pIHsKICAgICAgaWYgKCFuYW1lKSB7CiAgICAgICAgbmFtZSA9ICJuYW1lIjsKICAgICAgfQoKICAgICAgdmFyIHZhbHVlID0gIiI7CgogICAgICBpZiAoYXJyX3N0cikgewogICAgICAgIGlmICh0eXBlb2YgYXJyX3N0ciA9PSAnc3RyaW5nJykgewogICAgICAgICAgaWYgKCFzcGFuKSB7CiAgICAgICAgICAgIHNwYW4gPSAnLCc7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGFyciA9IGFycl9zdHIuc3BsaXQoc3Bhbik7CiAgICAgICAgICB2YXIgaWQgPSBOdW1iZXIoYXJyWzBdKTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIG8gPSBsaXN0W2ldOwoKICAgICAgICAgICAgaWYgKG9ba2V5XSA9PSBpZCkgewogICAgICAgICAgICAgIHZhbHVlICs9ICd8JyArIG9bbmFtZV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGlkID0gYXJyX3N0cjsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIG8gPSBsaXN0W2ldOwoKICAgICAgICAgICAgaWYgKG9ba2V5XSA9PSBpZCkgewogICAgICAgICAgICAgIHZhbHVlID0gb1tuYW1lXTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoJ3wnLCAnJyk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWPlua2iOW5tui/lOWbng0KICAgICAqLwogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWvvOWFpeaVsOaNrg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmaWxlIOaWh+S7tg0KICAgICAqLwogICAgaW1wb3J0X2RiOiBmdW5jdGlvbiBpbXBvcnRfZGIoZmlsZSkgewogICAgICBpZiAoZmlsZSkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgICQuY29uZmlybSgi5piv5ZCm5a+85YWlICIgKyBmaWxlLm5hbWUsICLlr7zlhaXmlbDmja4iLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkLmh0dHAudXBsb2FkKF90aGlzLnVybF9pbXBvcnQsIGZpbGUsIGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgICAgICQuY29uZmlybShqc29uLnJlc3VsdC50aXAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzLmdldCgpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKGpzb24uZXJyb3IpIHsKICAgICAgICAgICAgICAkLmNvbmZpcm0oanNvbi5lcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy4kdG9hc3QoIuacjeWKoeWZqOi/nuaOpeWksei0pe+8gSIsICJkYW5nZXIiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICog5a+85Ye65pWw5o2uDQogICAgICovCiAgICBleHBvcnRfZGI6IGZ1bmN0aW9uIGV4cG9ydF9kYigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnNlbGVjdHMpIHsKICAgICAgICB2YXIgcXVlcnkgPSB7fTsKICAgICAgICBxdWVyeVt0aGlzLmZpZWxkXSA9IHRoaXMuc2VsZWN0czsKICAgICAgICB0aGlzLiRnZXQoX3RoaXMudXJsX2V4cG9ydCwgcXVlcnksIGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgICB2YXIgcmVzID0ganNvbi5yZXN1bHQ7CgogICAgICAgICAgaWYgKHJlcyAmJiByZXMuYmwpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXMudXJsOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGdldChfdGhpcy51cmxfZXhwb3J0LCB0aGlzLnF1ZXJ5LCBmdW5jdGlvbiAoanNvbikgewogICAgICAgICAgdmFyIHJlcyA9IGpzb24ucmVzdWx0OwoKICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmJsKSB7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzLnVybDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDliKTmlq3mmK/lkKbmnInkuIvnuqcNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gaWQg5a2X5q61SUQNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gbGlzdCDmlbDmja7liJfooagNCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IOi/lOWbnue6p+WIqw0KICAgICAqLwogICAgb3BlbnNfaGFzX3N1YjogZnVuY3Rpb24gb3BlbnNfaGFzX3N1YihpZCwgbGlzdCkgewogICAgICBpZiAoIWxpc3QpIHsKICAgICAgICBsaXN0ID0gdGhpcy5saXN0OwogICAgICB9CgogICAgICB2YXIgYmwgPSBmYWxzZTsKICAgICAgdmFyIGZhdGhlcl9pZCA9IHRoaXMuZmF0aGVyX2lkOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG8gPSBsaXN0W2ldOwoKICAgICAgICBpZiAob1tmYXRoZXJfaWRdID09PSBpZCkgewogICAgICAgICAgYmwgPSB0cnVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gYmw7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOaUueWPmOWxleW8gOmhuQ0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpZCDllK/kuIDkuLvplK4NCiAgICAgKi8KICAgIG9wZW5zX2NoYW5nZTogZnVuY3Rpb24gb3BlbnNfY2hhbmdlKGlkKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMub3BlbnMuaW5kZXhPZihpZCk7CgogICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgdGhpcy5vcGVucy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBibCA9IHRoaXMub3BlbnNfaGFzX3N1YihpZCk7CgogICAgICAgIGlmIChibCkgewogICAgICAgICAgdGhpcy5vcGVucy5wdXNoKGlkKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgICQuZGIuc2V0KCdvcGVucycsIHRoaXMub3BlbnMpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliKTmlq3mmK/lkKblrZjlnKgNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gaWQg5ZSv5LiA5Li76ZSuDQogICAgICogQHJldHVybiB7Qm9vbGVhbn0g5a2Y5Zyo6L+U5ZuedHJ1ZSwg5ZCm5YiZ6L+U5ZueZmFsc2UNCiAgICAgKi8KICAgIG9wZW5zX2hhczogZnVuY3Rpb24gb3BlbnNfaGFzKGlkKSB7CiAgICAgIHJldHVybiB0aGlzLm9wZW5zLmluZGV4T2YoaWQpICE9PSAtMTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Yik5pat5a2Q5a2Z57qn5YirLCDmnIDlpKfmlK/mjIE15qyh5YiG5Y+JDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IGZpZCDnpZbovohJRA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsaXN0IOaVsOaNruWIl+ihqA0KICAgICAqIEByZXR1cm4ge051bWJlcn0g6L+U5Zue57qn5YirDQogICAgICovCiAgICBvcGVuc19sdjogZnVuY3Rpb24gb3BlbnNfbHYoZmlkLCBsaXN0KSB7CiAgICAgIGlmICghbGlzdCkgewogICAgICAgIGxpc3QgPSB0aGlzLmxpc3Q7CiAgICAgIH0KCiAgICAgIHZhciBsdiA9IDA7CiAgICAgIHZhciBmYXRoZXJfaWQgPSB0aGlzLmZhdGhlcl9pZDsKICAgICAgdmFyIGlkID0gdGhpcy5maWVsZDsKICAgICAgdmFyIG51bSA9IGZpZDsKCiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgNTsgbisrKSB7CiAgICAgICAgaWYgKG51bSA9PT0gMCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBvID0gbGlzdFtpXTsKCiAgICAgICAgICBpZiAob1tpZF0gPT09IG51bSkgewogICAgICAgICAgICBsdisrOwogICAgICAgICAgICBudW0gPSBvW2ZhdGhlcl9pZF07CgogICAgICAgICAgICBpZiAobnVtID09PSAwKSB7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBsdjsKICAgIH0sCgogICAgLyoqDQogICAgICog562b6YCJ5YaF5a65DQogICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlDQogICAgICogQHBhcmFtIHtPYmplY3R9IHJvdw0KICAgICAqLwogICAgZmlsdGVyU3RhdGU6IGZ1bmN0aW9uIGZpbHRlclN0YXRlKHZhbHVlLCByb3cpIHsKICAgICAgcmV0dXJuIHJvdy5zdGF0ZSA9PT0gdmFsdWU7CiAgICB9LAogICAgLy8g5Yig6Zmk5raI5oGvCiAgICBkZWxJbmZvOiBmdW5jdGlvbiBkZWxJbmZvKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBsaXN0ID0gdGhpcy5zZWxlY3Rpb247CgogICAgICBpZiAobGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICfpgInmi6nlr7nosaHkuI3og73kuLrnqbohJwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l5paH5Lu2LCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIui/m+WFpSIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmRlbEFsbChsaXN0KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog5om56YeP5Yig6ZmkDQogICAgICogQHBhcmFtIHtPYmplY3R9IGxpc3Qg5Yig6Zmk5a+56LGh6ZuGDQogICAgICovCiAgICBkZWxBbGw6IGZ1bmN0aW9uIGRlbEFsbChsaXN0KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGJsLCBpLCBvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi6L+b5YWlMiIpOwogICAgICAgICAgICAgICAgYmwgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpZiAoIShpIDwgbGlzdC5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJGdldCgifi9hcGkvdXNlci9kZWw/IiwgewogICAgICAgICAgICAgICAgICB1c2VyX2lkOiBsaXN0W2ldLnVzZXJfaWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBvID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFvLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcign5Yig6Zmk5aSx6LSlJyArIG8uZXJyb3IubWVzc2FnZSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTYpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgYmwgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBpZiAoYmwpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LmdldF9saXN0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5LiK5Lyg5paH5Lu2DQogICAgICogQHBhcmFtIHtPYmplY3R9IGZpbGUg5paH5Lu25a+56LGhDQogICAgICogQHBhcmFtIHtrZXl9IOS/neWtmOmUruWQjQ0KICAgICAqLwogICAgdXBsb2FkRmlsZTogZnVuY3Rpb24gdXBsb2FkRmlsZShmaWxlKSB7CiAgICAgIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICJpbWciOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7IC8vIEZvcm1EYXRhIOWvueixoQoKICAgICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTsgLy8g5paH5Lu25a+56LGhCgogICAgICB0aGlzLiR1cGxvYWQodGhpcy51cmxfdXBsb2FkLCBmb3JtLCBmdW5jdGlvbiAoanNvbikgewogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgY29uc29sZS5sb2coanNvbi5yZXN1bHQpOwogICAgICAgICAgX3RoaXMuZm9ybVtrZXldID0gX3RoaXMuJGZ1bGxVcmwoIn4iICsganNvbi5yZXN1bHQudXJsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHRvYXN0KCfkuIrkvKDlpLHotKXvvIEnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDpgInmi6nmm7TmlLkNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsDQogICAgICovCiAgICBzZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIHNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5zZWxlY3Rpb24gPSB2YWw7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOadoeaVsOWPmOabtA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzaXplDQogICAgICovCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHNpemUpIHsKICAgICAgdGhpcy5xdWVyeS5zaXplID0gc2l6ZTsKICAgICAgdGhpcy5nZXRfbGlzdCgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDpobXmlbDlj5jmm7QNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFnZQ0KICAgICAqLwogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZShwYWdlKSB7CiAgICAgIHRoaXMucXVlcnkucGFnZSA9IHBhZ2U7CiAgICAgIHRoaXMuZ2V0X2xpc3QoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAvKioNCiAgICAgKiDliIbpobXmlbDph48NCiAgICAgKi8KICAgIHBhZ2VfY291bnQ6IGZ1bmN0aW9uIHBhZ2VfY291bnQoKSB7CiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5jb3VudCAvIHRoaXMucXVlcnkuc2l6ZSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5zaG93aW5nID0gMDsKICAgIHRoaXMuaW5pdCh0aGlzLiRyb3V0ZS5xdWVyeSk7IC8vIHRoaXMuY2hlY2tfYXV0aCgoKSA9PiB7CiAgICAvLyAJdGhpcy5pbml0KHRoaXMuJHJvdXRlLnF1ZXJ5KTsKICAgIC8vIH0pCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zaG93aW5nID0gMTAwOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuZXZlbnRzKCdlbmRfYmVmb3JlJyk7CiAgfQp9Ow=="},{"version":3,"sources":["D:/WorkSpace/localCode/CS211180/client_home/src/mixins/component.js"],"names":["props","list","type","Array","default","vm","Object","form","obj","data","opens","$","db","get","title","url","url_add","url_del","url_set","url_get_obj","url_get_list","url_submit","url_upload","url_import","url_export","config","page","size","loading","showing","posting","select","count","show","bl","display","field","tip","mode","clear_list","message","selects","page_now","select_state","sort_key","query_set","father_id","selection","oauth","user","$store","state","user_group","tip_show","methods","events","name","param1","param2","param3","add","param","func","pm","assign","msg","ret","del","query","del_show","o","id","_this","confirm","set","includeZero","set_before","delete","k","toLocaleLowerCase","indexOf","Date","toStr","batchSet","q","orderby","json","result","get_list","get_obj","console","log","sort","check_auth","signIn","user_id","$get_user","init","upload","$toast","add_main","value","$post","error","del_main","$get","del_after","set_main","keys","length","toUrl","status","replace","set_after","get_main","get_create","get_obj_check","get_obj_main","res","push","val","v","get_obj_after","get_list_main","clear","addList","undefined","get_list_after","search","route","first","qy","next","page_count","prev","reset","submitForm","$refs","validate","valid","submit","submit_before","submit_check","submit_main","method","$toUrl","submit_after","$router","go","n","goTo","p","init_before","init_main","init_after","upload_main","uploading","$upload","upload_after","end_before","select_all","s","i","select_change","has","arr","split","splice","join","substring","select_has","ids","selected","index","page_change","e","Number","target","isNaN","get_name","arr_str","key","span","cancel","import_db","file","http","export_db","window","location","href","opens_has_sub","opens_change","opens_has","opens_lv","fid","lv","num","filterState","row","delInfo","$message","$confirm","confirmButtonText","cancelButtonText","then","delAll","catch","uploadFile","FormData","append","$fullUrl","selectionChange","handleSizeChange","handleCurrentChange","computed","Math","ceil","created","$route","mounted","beforeDestroy"],"mappings":"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","sourcesContent":["export default {\r\n\tprops:{\r\n\t\t// 获取的列表\r\n\t\tlist:{\r\n\t\t\ttype:Array,\r\n\t\t\tdefault: function () {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 视图&验证模型\r\n\t\tvm: {\r\n\t\t\ttype:Object,\r\n\t\t\tdefault: function () {\r\n\t\t\t\treturn {}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 提交表单\r\n\t\t// form: {},\r\n\t\tform: {\r\n\t\t\ttype:Object,\r\n\t\t\tdefault: function () {\r\n\t\t\t\treturn {}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 线上对象\r\n\t\tobj: {\r\n\t\t\ttype:Object,\r\n\t\t\tdefault: function () {\r\n\t\t\t\treturn {}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t},\r\n\tdata: function data() {\r\n\t\tvar opens = $.db.get('opens') || [0];\r\n\t\t// var opens_str = ;\r\n\t\t// if(opens_str){\r\n\t\t// \topens = opens_str;\r\n\t\t// }\r\n\t\treturn {\r\n\t\t\t// 标题\r\n\t\t\ttitle: \"\",\r\n\r\n\t\t\t// 地址\r\n\t\t\turl: \"\",\r\n\r\n\t\t\t// 添加地址\r\n\t\t\turl_add: \"\",\r\n\r\n\t\t\t// 删除地址\r\n\t\t\turl_del: \"\",\r\n\r\n\t\t\t// 修改地址\r\n\t\t\turl_set: \"\",\r\n\r\n\t\t\t// 查询对象地址\r\n\t\t\turl_get_obj: \"\",\r\n\r\n\t\t\t// 查询列表地址\r\n\t\t\turl_get_list: \"\",\r\n\r\n\t\t\t// 表单提交地址\r\n\t\t\turl_submit: \"\",\r\n\r\n\t\t\t// 上传提交地址\r\n\t\t\turl_upload: \"\",\r\n\r\n\t\t\t// 导入数据地址\r\n\t\t\turl_import: \"\",\r\n\r\n\t\t\t// 导出数据地址\r\n\t\t\turl_export: \"\",\r\n\r\n\t\t\t// 配置\r\n\t\t\tconfig: {\r\n\t\t\t\t// 默认当前页面\r\n\t\t\t\tpage: 1,\r\n\t\t\t\t// 默认页面大小\r\n\t\t\t\tsize: 10\r\n\t\t\t},\r\n\r\n\t\t\t// 加载进度\r\n\t\t\tloading: 0,\r\n\r\n\t\t\t// 显示进度\r\n\t\t\tshowing: 0,\r\n\r\n\t\t\t// 提交进度\r\n\t\t\tposting: 0,\r\n\r\n\t\t\t// 选中项\r\n\t\t\tselect: $.db.get('select'),\r\n\r\n\t\t\t// 查询结果匹配数统计\r\n\t\t\tcount: 0,\r\n\r\n\t\t\t// 显示隐藏，true显示，false隐藏\r\n\t\t\tshow: false,\r\n\r\n\t\t\t// 响应成功或失败\r\n\t\t\tbl: false,\r\n\r\n\t\t\t// 显示方式\r\n\t\t\tdisplay: \"\",\r\n\r\n\t\t\t// 关键字段\r\n\t\t\tfield: \"\",\r\n\r\n\t\t\t// 响应提示\r\n\t\t\ttip: \"\",\r\n\r\n\t\t\t// 默认请求方式\r\n\t\t\tmode: \"list\",\r\n\r\n\t\t\t// 清除列表\r\n\t\t\tclear_list: true,\r\n\r\n\t\t\t// 响应错误消息\r\n\t\t\tmessage: \"\",\r\n\r\n\t\t\t// 选中集\r\n\t\t\tselects: \"\",\r\n\r\n\t\t\t// 当前页, 用于跳转页面\r\n\t\t\tpage_now: 1,\r\n\r\n\t\t\t// 选择项状态\r\n\t\t\tselect_state: false,\r\n\r\n\t\t\t// 排序键，用于拖拽修改排序\r\n\t\t\tsort_key: \"display\",\r\n\r\n\t\t\t// 修改条件\r\n\t\t\tquery_set: {},\r\n\r\n\t\t\t// 展开的上级id\r\n\t\t\topens: opens,\r\n\r\n\t\t\t// 上级ID: father_id\r\n\t\t\tfather_id: \"father_id\",\r\n\r\n\t\t\t// 选中集合\r\n\t\t\tselection: [],\r\n\r\n\t\t\t// 登录权限\r\n\t\t\toauth: {\r\n\t\t\t\t\"signIn\": true,\r\n\t\t\t\t\"gm\": 0,\r\n\t\t\t\t\"user_admin\": []\r\n\t\t\t},\r\n\r\n\t\t\t// 登录用户\r\n\t\t\tuser: this.$store.state.user,\r\n\r\n\t\t\t// 所在用户组\r\n\t\t\tuser_group: this.$store.state.user.user_group,\r\n\r\n\t\t\t// 修改提示\r\n\t\t\ttip_show: true,\r\n\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\r\n\t\t/**\r\n\t\t * @description 事件管理, 用于管理函数\r\n\t\t * @param {String} name 事件名\r\n\t\t * @param {Object} param1 参数1\r\n\t\t * @param {Object} param2 参数2\r\n\t\t * @param {Object} param3 参数3\r\n\t\t * @return {Object} 返回事件特定值\r\n\t\t */\r\n\t\tevents: function events(name, param1, param2, param3) {\r\n\t\t\tif (this[name]) {\r\n\t\t\t\tif (param3) {\r\n\t\t\t\t\treturn this[name](param1, param2, param3);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this[name](param1, param2);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 添加数据\r\n\t\t * @param {Object} param 要添加的数据\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tadd: function add(param, func) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.obj;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"add_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"add_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"add_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 删除数据\r\n\t\t * @param {Object} param 查询条件\r\n\t\t */\r\n\t\tdel: function del(param, func) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.query;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"del_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"del_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"del_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\tdel_show: function(o, id) {\r\n\t\t\tvar _this = this;\r\n\t\t\t$.confirm('删除后将无法回复!<br/>是否确定要删除?', function() {\r\n\t\t\t\t// console.log('确定删除!');\r\n\t\t\t\tvar query = {};\r\n\t\t\t\tquery[id] = o[id];\r\n\t\t\t\t_this.del(query, function() {\r\n\t\t\t\t\t_this.list.del(query);\r\n\t\t\t\t\t_this.count -= 1;\r\n\t\t\t\t});\r\n\t\t\t}, function() {\r\n\t\t\t\t// console.log('取消删除!')\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 修改数据\r\n\t\t * @param {Object} param 修改项\r\n\t\t * @param {String} query 查询条件\r\n\t\t * @param {Boolean} includeZero 是否包括0\r\n\t\t */\r\n\t\tset: function set(param, query, func, includeZero) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.obj;\r\n\t\t\t}\r\n\t\t\tif (query) {\r\n\t\t\t\tthis.query_set = query;\r\n\t\t\t} else {\r\n\t\t\t\tthis.query_set = Object.assign({}, this.query);\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"set_before\", Object.assign({}, param), includeZero) || param;\r\n\t\t\tvar msg = this.events(\"set_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"set_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 修改前事件\r\n\t\t * @param {Object} param\r\n\t\t * @param {Boolean} includeZero 是否删除0值项\r\n\t\t * @param {Object} 返回新的参数\r\n\t\t */\r\n\t\tset_before: function set_before(param, includeZero) {\r\n\t\t\tvar pm = $.delete(param, includeZero);\r\n\t\t\tfor (var k in pm) {\r\n\t\t\t\tif (k.toLocaleLowerCase().indexOf('time') !== -1 && pm[k].indexOf('T') !== -1) {\r\n\t\t\t\t\tpm[k] = new Date(pm[k]).toStr('yyyy-MM-dd 00:00:00');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn pm;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 批量修改\r\n\t\t */\r\n\t\tbatchSet: function batchSet() {\r\n\t\t\tvar _this = this;\r\n\t\t\t$.confirm('批量修改数据无法挽回<br/>确定要操作吗?', function() {\r\n\t\t\t\tvar q = Object.assign({}, _this.query, _this.query_set);\r\n\t\t\t\tq[_this.field] = _this.selects;\r\n\t\t\t\tdelete q.page;\r\n\t\t\t\tdelete q.size;\r\n\t\t\t\tdelete q.orderby;\r\n\t\t\t\t_this.set(_this.form, q, function(json) {\r\n\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t_this.show = false;\r\n\t\t\t\t\t\t_this.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 查询多条数据\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tget_list: function get_list(param, func) {\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.query;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"get_list_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"get_list_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"get_list_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 查询一条数据\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @func {Function} 回调函数\r\n\t\t */\r\n\t\tget_obj: function get_obj(param, func) {\r\n\t\t\tconsole.log(\"获取对象\", param)\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.query;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"get_obj_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"get_obj_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\t// console.log(\"执行前\", param)\r\n\t\t\t\tret = this.events(\"get_obj_main\", pm, func);\r\n\t\t\t} else if (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 条件排序\r\n\t\t * @param {Object} param\r\n\t\t * @param {Object} func\r\n\t\t */\r\n\t\tsort: function sort(param, func) {\r\n\t\t\tvar pm = this.events(\"sort_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"sort_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"sort_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 检测授权，有权限后回调函数\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tcheck_auth: function check_auth(func) {\r\n\t\t\tif (this.oauth.signIn) {\r\n\t\t\t\tif (this.user.user_id) {\r\n\t\t\t\t\tfunc();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$get_user(func);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 初始化\r\n\t\t * @param {Object} param 参数\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tinit: function init(param, func) {\r\n\t\t\tvar pm = this.events(\"init_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"init_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (!msg) {\r\n\t\t\t\tret = this.events(\"init_main\", pm, func);\r\n\t\t\t} else if (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 上传事件\r\n\t\t * @param {Object} param 提交参数\r\n\t\t * @param {Function} func 返回函数\r\n\t\t */\r\n\t\tupload: function upload(param, func) {\r\n\t\t\tvar pm = this.events(\"upload_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"upload_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (msg) {\r\n\t\t\t\tthis.$toast(msg, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\tret = this.events(\"upload_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 添加数据\r\n\t\t * @param {Object} value 要添加的数据\r\n\t\t */\r\n\t\tadd_main: function add_main(value, func) {\r\n\t\t\tvar url = this.url ? this.url + \"method=add\" : this.url_add;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$post(url, value, function(json) {\r\n\t\t\t\t_this.events(\"add_after\", json, func);\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\t_this.$toast(json.result.tip, json.result.bl ? 'success' : 'danger');\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t_this.$toast(json.error.message, 'danger');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast('添加失败! 原因:是服务器连接失败!', \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 删除数据\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Function} func 删除回调函数函数\r\n\t\t */\r\n\t\tdel_main: function del_main(query, func) {\r\n\t\t\tvar url = this.url ? this.url + \"method=del\" : this.url_del;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$get(url, query, function(json) {\r\n\t\t\t\t_this.events(\"del_after\", json, func);\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\t_this.$toast(json.result.tip, json.result.bl ? 'success' : 'danger');\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t_this.$toast(json.error.message, 'danger');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast('删除失败! 原因:是服务器连接失败!', \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 删除之后事件\r\n\t\t * @param {Object} json 返回的结果\r\n\t\t * @param {Object} func 回调函数\r\n\t\t */\r\n\t\tdel_after: function del_after(json, func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 修改数据\r\n\t\t * @param {Object} value 要修改的数据\r\n\t\t * @param {Object} value 修改项\r\n\t\t */\r\n\t\tset_main: function set_main(value, func) {\r\n\t\t\tvar url = this.url ? this.url + \"method=set\" : this.url_set;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tif (!this.query_set || Object.keys(this.query_set).length === 0) {\r\n\t\t\t\tthis.query_set = this.query;\r\n\t\t\t}\r\n\t\t\tthis.$post(this.toUrl(this.query_set, url), value, function(json, status) {\r\n\t\t\t\t_this.events(\"set_after\", json, func);\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\tif (json.result.bl) {\r\n\t\t\t\t\t\tif (_this.tip_show) {\r\n\t\t\t\t\t\t\t_this.$toast(json.result.tip.replace('修改', '更新'), \"success\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.$toast(json.result.tip.replace('修改', '更新'), \"danger\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t_this.$toast(json.error.message, \"danger\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast('修改失败! 原因:是服务器连接失败!', \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 修改成功时执行\r\n\t\t * @param {Object} json 结果\r\n\t\t * @param {Object} func 回调函数\r\n\t\t */\r\n\t\tset_after: function set_after(json, func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(json);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 查询数据\r\n\t\t * @param {Object} query 查询参数\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tget: function get(query, func) {\r\n\t\t\tthis.get_main(query, func);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 查询数据(主程序)\r\n\t\t * @param {Object} query 查询参数\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tget_main: function get_main(query, func) {\r\n\t\t\t// console.log(\"get_obj_main\");\r\n\t\t\tvar url = this.url_get_obj ? this.url_get_obj : this.url;\r\n\t\t\tif (url) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.get_obj(query, function() {\r\n\t\t\t\t\t_this.get_create(query, func);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.get_create(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 验证请求\r\n\t\t * @param {Object} param 请求参数\r\n\t\t */\r\n\t\tget_obj_check: function get_obj_check(param) {\r\n\t\t\tvar bl = false;\r\n\t\t\tfor (var k in param) {\r\n\t\t\t\tif (param[k]) {\r\n\t\t\t\t\tbl = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (bl) {\r\n\t\t\t\treturn null;\r\n\t\t\t} else {\r\n\t\t\t\treturn \"缺少查询条件\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 查询一条数据(主程序)\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tget_obj_main: function get_obj_main(query, func) {\r\n\t\t\t// console.log(\"get_obj_main\");\r\n\t\t\tvar url = this.url_get_obj ? this.url_get_obj : this.url + \"method=get_obj\";\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$get(this.toUrl(query, url), null, function(json, status) {\r\n\t\t\t\t_this.events(\"get_obj_after\", json, func);\r\n\t\t\t\tvar res = json.result;\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tvar obj;\r\n\t\t\t\t\tif (res.obj) {\r\n\t\t\t\t\t\tobj = res.obj;\r\n\t\t\t\t\t\tdelete res.obj;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar list = res.list;\r\n\t\t\t\t\t\tif (list && list.length > 0) {\r\n\t\t\t\t\t\t\tobj = list[0];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobj = res;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (obj) {\r\n\t\t\t\t\t\tif (_this.obj || Object.keys(_this.obj).length === 0) {\r\n\t\t\t\t\t\t\t_this.obj = obj;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$.push(_this.obj, obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar o = _this.obj;\r\n\t\t\t\t\t\tfor (var k in o) {\r\n\t\t\t\t\t\t\tif (k.indexOf('time') !== -1) {\r\n\t\t\t\t\t\t\t\tvar val = o[k];\r\n\t\t\t\t\t\t\t\tif (val && val.indexOf('T') !== -1) {\r\n\t\t\t\t\t\t\t\t\tvar v = new Date(o[k]);\r\n\t\t\t\t\t\t\t\t\to[k] = v.toStr('yyyy-MM-dd hh:mm:ss');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (_this.form || Object.keys(_this.form).length === 0) {\r\n\t\t\t\t\t\t\t_this.form = Object.assign({}, _this.obj)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$.push(_this.form, Object.assign({}, _this.obj));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\tconsole.log(json.error.message);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast(\"服务器连接失败！\", \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 获取到对象后事件\r\n\t\t * @param {Object} json 响应结果\r\n\t\t */\r\n\t\tget_obj_after: function get_obj_after(json, func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(json);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 查询多条数据(主程序)\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tget_list_main: function get_list_main(query, func) {\r\n\t\t\tvar url = this.url_get_list ? this.url_get_list : this.url;\r\n\t\t\tif (!url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.loading = 0;\r\n\t\t\tthis.$get(this.toUrl(query, url), null, function(json, status) {\r\n\t\t\t\t_this.loading = 100;\r\n\t\t\t\tif (_this.clear_list) {\r\n\t\t\t\t\t_this.list.clear();\r\n\t\t\t\t}\r\n\t\t\t\t_this.events(\"get_list_after\", json, func, url);\r\n\t\t\t\tvar res = json.result;\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\t_this.page_now = _this.query.page;\r\n\t\t\t\t\t_this.list.addList(res.list);\r\n\t\t\t\t\tif (res.count !== undefined) {\r\n\t\t\t\t\t\t_this.count = res.count;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\tconsole.log(json.error.message);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast(\"服务器连接失败！\", \"danger\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 获取到列表事件\r\n\t\t * @param {Object} res 响应结果\r\n\t\t */\r\n\t\tget_list_after: function get_list_after(res, func, url) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(res, url);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 搜索\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Boolean} bl 是否重置再搜索\r\n\t\t */\r\n\t\tsearch: function search(query, func) {\r\n\t\t\tif (query) {\r\n\t\t\t\t$.push(this.query, query);\r\n\t\t\t}\r\n\t\t\tvar url = this.url_get_list ? this.url_get_list : this.url;\r\n\t\t\tif (url) {\r\n\t\t\t\tthis.query.page = 1;\r\n\t\t\t\tthis.count = 0;\r\n\t\t\t\t$.route.push(\"?\" + this.toUrl(this.query));\r\n\t\t\t\tthis.first(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tget_create: function get_create(query, func) {\r\n\t\t\tif (query) {\r\n\t\t\t\t$.push(this.query, query);\r\n\t\t\t}\r\n\t\t\tvar url = this.url_get_list ? this.url_get_list : this.url;\r\n\t\t\tif (url) {\r\n\t\t\t\tthis.count = 0;\r\n\t\t\t\t$.route.push(\"?\" + this.toUrl(this.query));\r\n\t\t\t\tthis.first(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 查询多条数据 (首次)\r\n\t\t * @param {Object} query 查询条件\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tfirst: function first(query, func) {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (!this.count) {\r\n\t\t\t\tvar qy = Object.assign({}, this.query);\r\n\t\t\t\tthis.get_list(qy, func);\r\n\t\t\t} else {\r\n\t\t\t\tthis.get_list(query, func);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 查询下一页数据\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tnext: function next(query, func) {\r\n\t\t\tconsole.log(\"next\");\r\n\t\t\tvar _this = this;\r\n\t\t\t_this.get_list(query, function(json, url) {\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\tvar list = json.result.list;\r\n\t\t\t\t\tif (list.length > 0) {\r\n\t\t\t\t\t\tvar qy = Object.assign({}, query, {\r\n\t\t\t\t\t\t\tpage: query.page + 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (qy.page <= _this.page_count) {\r\n\t\t\t\t\t\t\t_this.$get(_this.toUrl(qy, url));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (func) {\r\n\t\t\t\t\tfunc(json);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 查询上一页数据\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tprev: function prev(query, func) {\r\n\t\t\tconsole.log(\"prev\");\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.get_list(query, function(json, url) {\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\tvar list = json.result.list;\r\n\t\t\t\t\tif (list.length > 0) {\r\n\t\t\t\t\t\tvar qy = Object.assign({}, query, {\r\n\t\t\t\t\t\t\tpage: query.page - 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (qy.page >= 1) {\r\n\t\t\t\t\t\t\t_this.$get(_this.toUrl(qy, url));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (func) {\r\n\t\t\t\t\tfunc(res);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 清除数据\r\n\t\t * @param {Object} query\r\n\t\t */\r\n\t\tclear: function clear(query) {\r\n\t\t\t$.clear(query);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 重置\r\n\t\t */\r\n\t\treset: function reset() {\r\n\t\t\t$.clear(this.query);\r\n\t\t\t$.push(this.query, this.config);\r\n\t\t\tthis.get_list();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 表单提交\r\n\t\t */\r\n\t\tsubmitForm() {\r\n\t\t\tthis.$refs[\"form\"].validate((valid) => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tthis.submit();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error('error 提交失败!!');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 提交事件\r\n\t\t * @param {Object} param 表单\r\n\t\t * @param {Object} func 返回函数\r\n\t\t */\r\n\t\tsubmit: function submit(param, func) {\r\n\t\t\tconsole.log('提交事件');\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.form;\r\n\t\t\t}\r\n\t\t\tvar pm = this.events(\"submit_before\", Object.assign({}, param)) || param;\r\n\t\t\tvar msg = this.events(\"submit_check\", pm);\r\n\t\t\tvar ret;\r\n\t\t\tif (msg) {\r\n\t\t\t\tthis.$toast(msg, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\tret = this.events(\"submit_main\", pm, func);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 提交前事件\r\n\t\t * @param {Object} param 提交参数\r\n\t\t */\r\n\t\tsubmit_before: function(param) {\r\n\t\t\t// console.log('提交前事件', param);\r\n\t\t\treturn param;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 提交前验证事件\r\n\t\t * @param {Object} 请求参数\r\n\t\t * @return {String} 验证成功返回null, 失败返回错误提示\r\n\t\t */\r\n\t\tsubmit_check: function submit_check(param) {\r\n\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 提交表单\r\n\t\t */\r\n\t\tsubmit_main: function submit_main(param, func) {\r\n\t\t\tconsole.log('提交主要事件', param);\r\n\t\t\tvar url = this.url;\r\n\t\t\tconsole.log(\"地址\",url);\r\n\t\t\tif (url) {\r\n\t\t\t\tif (this.field) {\r\n\t\t\t\t\tvar id = param[this.field];\r\n\t\t\t\t\tif (id) {\r\n\t\t\t\t\t\tvar q = {\r\n\t\t\t\t\t\t\tmethod: 'set'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tq[this.field] = id;\r\n\t\t\t\t\t\turl = this.toUrl(q, url);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\turl += \"method=add\"\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\turl += \"method=submit\"\r\n\t\t\t\t}\r\n\t\t\t} else if (this.url_submit) {\r\n\t\t\t\turl = this.url_submit;\r\n\t\t\t} else if (this.field) {\r\n\t\t\t\t// console.log('发送请求前', url);\r\n\t\t\t\tvar id = param[this.field];\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\turl = this.url_set;\r\n\t\t\t\t} else {\r\n\t\t\t\t\turl = this.url_add;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('发送请求前', url);\r\n\t\t\tif (url) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\t// console.log('发送信息', url, param);\r\n\t\t\t\turl = this.$toUrl(this.query, url);\r\n\t\t\t\tthis.$post(url, param, function(json, status) {\r\n\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t_this.$toast('提交成功！', 'success');\r\n\t\t\t\t\t\t_this.events(\"submit_after\", json, func);\r\n\t\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t\t_this.$toast(json.error.message, 'danger');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.$toast(\"服务器连接失败！\", \"danger\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 获取到对象后事件\r\n\t\t * @param {Object} json 响应结果\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tsubmit_after: function submit_after(json, func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc(json);\r\n\t\t\t}\r\n\t\t\tthis.$router.go(-1);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 上下翻页\r\n\t\t * @param {Number} n 加减页码\r\n\t\t */\r\n\t\tgo: function go(n) {\r\n\t\t\tvar page = this.query.page + n;\r\n\t\t\tthis.goTo(page);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 跳转指定页\r\n\t\t * @param {Number} page 页码\r\n\t\t */\r\n\t\tgoTo: function goTo(page) {\r\n\t\t\tif (page < 1) {\r\n\t\t\t\tpage = 1;\r\n\t\t\t} else if (page > this.page_count) {\r\n\t\t\t\tpage = this.page_count;\r\n\t\t\t}\r\n\t\t\tvar query = this.query;\r\n\t\t\tvar p = query.page;\r\n\t\t\tquery.page = page;\r\n\t\t\tthis.$router.push(\"?\" + this.toUrl(query));\r\n\t\t\tif (this.page_count !== 0) {\r\n\t\t\t\tif (p + 1 == page) {\r\n\t\t\t\t\tthis.next(query);\r\n\t\t\t\t} else if (p - 1 == page) {\r\n\t\t\t\t\tthis.prev(query);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.first(query);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.first(query);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 转查询参数\r\n\t\t * @param {Object} obj 被转换的对象\r\n\t\t * @param {String} url 请求地址\r\n\t\t * @return {String} url字符串\r\n\t\t */\r\n\t\ttoUrl: function toUrl(obj, url) {\r\n\t\t\treturn $.toUrl(obj, url);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 初始化前函数\r\n\t\t */\r\n\t\tinit_before: function init_before(query) {\r\n\t\t\tif (!query) {\r\n\t\t\t\tquery = this.config;\r\n\t\t\t}\r\n\t\t\treturn query;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 初始化\r\n\t\t */\r\n\t\tinit_main: function init_main(query) {\r\n\t\t\tvar _this = this;\r\n\t\t\t$.push(this.query, query);\r\n\t\t\t_this.init_after(function() {\r\n\t\t\t\t_this.get(_this.query);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 初始化后函数\r\n\t\t */\r\n\t\tinit_after: function init_after(func) {\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 上传文件\r\n\t\t * @param {Function} func 回调函数\r\n\t\t */\r\n\t\tupload_main: function upload_main(func) {\r\n\t\t\tvar url = \"\";\r\n\t\t\tif (this.url) {\r\n\t\t\t\turl = this.url + \"method=upload\";\r\n\t\t\t} else {\r\n\t\t\t\turl = this.url_upload;\r\n\t\t\t}\r\n\r\n\t\t\tif (!param) {\r\n\t\t\t\tparam = this.form;\r\n\t\t\t}\r\n\t\t\tif (msg) {\r\n\t\t\t\tthis.$toast(msg, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\tthis.uploading = 0;\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.$upload(url, param, function(json, status) {\r\n\t\t\t\t\t_this.uploading = 100;\r\n\t\t\t\t\t_this.events(\"upload_after\", json, func);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 上传完成时\r\n\t\t * @param {Object} json 响应结果\r\n\t\t * @param {Function} func\r\n\t\t */\r\n\t\tupload_after: function upload_after(json, func) {\r\n\t\t\tif (json.result) {\r\n\t\t\t\tthis.$toast(json.result.tip, json.result.bl ? 'success' : 'danger');\r\n\t\t\t} else if (json.error) {\r\n\t\t\t\tthis.$toast(json.error.message, 'danger');\r\n\t\t\t} else {\r\n\t\t\t\tthis.$toast(\"服务器连接失败！\", \"danger\");\r\n\t\t\t}\r\n\t\t\tif (func) {\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 结束前\r\n\t\t * @param {Object} param 参数\r\n\t\t */\r\n\t\tend_before: function end_before(param) {\r\n\t\t\t// this.reset();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 选择项全改\r\n\t\t */\r\n\t\tselect_all: function select_all() {\r\n\t\t\tvar bl = !this.select_state;\r\n\t\t\tif (!bl) {\r\n\t\t\t\tthis.selects = '';\r\n\t\t\t} else {\r\n\t\t\t\tvar s = '';\r\n\t\t\t\tvar list = this.list;\r\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\ts += '|' + list[i][this.field];\r\n\t\t\t\t}\r\n\t\t\t\tthis.selects = s.replace('|', '');\r\n\t\t\t}\r\n\t\t\tthis.select_state = bl;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 选择项改变\r\n\t\t * @param {String|Number} id 选择的ID\r\n\t\t */\r\n\t\tselect_change: function select_change(id) {\r\n\t\t\tvar has = false\r\n\t\t\tvar arr = this.selects.split('|');\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (id == o) {\r\n\t\t\t\t\tarr.splice(i, 1);\r\n\t\t\t\t\thas = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!has) {\r\n\t\t\t\tarr.push(id)\r\n\t\t\t}\r\n\t\t\tvar s = arr.join('|');\r\n\t\t\tif (s.indexOf('|') == 0) {\r\n\t\t\t\tthis.selects = s.substring(1)\r\n\t\t\t} else {\r\n\t\t\t\tthis.selects = s;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 选择项含有\r\n\t\t * @param {String|Number} id 选择的ID\r\n\t\t */\r\n\t\tselect_has: function select_has(id) {\r\n\t\t\tvar ids = '|' + this.selects + '|';\r\n\t\t\treturn ids.indexOf('|' + id + '|') !== -1;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 选中\r\n\t\t * @param {Number} index 项目索引\r\n\t\t */\r\n\t\tselected: function selected(index) {\r\n\t\t\tthis.select = index;\r\n\t\t\t$.db.set('select', index, 120);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 页面改变时\r\n\t\t * @param {Object} e 事件\r\n\t\t */\r\n\t\tpage_change: function page_change(e) {\r\n\t\t\tvar n = Number(e.target.value);\r\n\t\t\tif (isNaN(n)) {\r\n\t\t\t\tn = 1;\r\n\t\t\t}\r\n\t\t\tif (n < 1) {\r\n\t\t\t\tn = 1;\r\n\t\t\t} else if (n > this.page_count) {\r\n\t\t\t\tn = this.page_count\r\n\t\t\t}\r\n\t\t\tthis.page_now = n;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 获取名称\r\n\t\t * @param {Array} list 用来取名的列表\r\n\t\t * @param {String} arr_str id集合\r\n\t\t * @param {String} key 键\r\n\t\t * @param {String} name 名\r\n\t\t * @param {String} span 分隔符\r\n\t\t */\r\n\t\tget_name(list, arr_str, key, name, span) {\r\n\t\t\tif (!name) {\r\n\t\t\t\tname = \"name\";\r\n\t\t\t}\r\n\t\t\tvar value = \"\";\r\n\t\t\tif (arr_str) {\r\n\t\t\t\tif (typeof(arr_str) == 'string') {\r\n\t\t\t\t\tif (!span) {\r\n\t\t\t\t\t\tspan = ',';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar arr = arr_str.split(span);\r\n\t\t\t\t\tvar id = Number(arr[0]);\r\n\r\n\t\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t\tvar o = list[i];\r\n\t\t\t\t\t\tif (o[key] == id) {\r\n\t\t\t\t\t\t\tvalue += '|' + o[name];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar id = arr_str;\r\n\t\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t\tvar o = list[i];\r\n\t\t\t\t\t\tif (o[key] == id) {\r\n\t\t\t\t\t\t\tvalue = o[name];\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn value.replace('|', '');\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 取消并返回\r\n\t\t */\r\n\t\tcancel: function cancel() {\r\n\t\t\tthis.$router.go(-1);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 导入数据\r\n\t\t * @param {Object} file 文件\r\n\t\t */\r\n\t\timport_db: function import_db(file) {\r\n\t\t\tif (file) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\t$.confirm(\"是否导入 \" + file.name, \"导入数据\", function() {\r\n\t\t\t\t\t$.http.upload(_this.url_import, file, function(json) {\r\n\t\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t\t$.confirm(json.result.tip, function() {\r\n\t\t\t\t\t\t\t\t_this.get();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (json.error) {\r\n\t\t\t\t\t\t\t$.confirm(json.error.message);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.$toast(\"服务器连接失败！\", \"danger\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 导出数据\r\n\t\t */\r\n\t\texport_db: function export_db() {\r\n\t\t\tvar _this = this;\r\n\t\t\tif (this.selects) {\r\n\t\t\t\tvar query = {};\r\n\t\t\t\tquery[this.field] = this.selects;\r\n\t\t\t\tthis.$get(_this.url_export, query, function(json) {\r\n\t\t\t\t\tvar res = json.result;\r\n\t\t\t\t\tif (res && res.bl) {\r\n\t\t\t\t\t\twindow.location.href = res.url;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.$get(_this.url_export, this.query, function(json) {\r\n\t\t\t\t\tvar res = json.result;\r\n\t\t\t\t\tif (res && res.bl) {\r\n\t\t\t\t\t\twindow.location.href = res.url;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 判断是否有下级\r\n\t\t * @param {Number} id 字段ID\r\n\t\t * @param {Object} list 数据列表\r\n\t\t * @return {Number} 返回级别\r\n\t\t */\r\n\t\topens_has_sub: function(id, list) {\r\n\t\t\tif (!list) {\r\n\t\t\t\tlist = this.list;\r\n\t\t\t}\r\n\t\t\tvar bl = false;\r\n\t\t\tvar father_id = this.father_id;\r\n\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\tvar o = list[i];\r\n\t\t\t\tif (o[father_id] === id) {\r\n\t\t\t\t\tbl = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bl;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 改变展开项\r\n\t\t * @param {Number} id 唯一主键\r\n\t\t */\r\n\t\topens_change: function opens_change(id) {\r\n\t\t\tvar index = this.opens.indexOf(id);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.opens.splice(index, 1);\r\n\t\t\t} else {\r\n\t\t\t\tvar bl = this.opens_has_sub(id);\r\n\t\t\t\tif (bl) {\r\n\t\t\t\t\tthis.opens.push(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$.db.set('opens', this.opens);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 判断是否存在\r\n\t\t * @param {Number} id 唯一主键\r\n\t\t * @return {Boolean} 存在返回true, 否则返回false\r\n\t\t */\r\n\t\topens_has: function opens_has(id) {\r\n\t\t\treturn this.opens.indexOf(id) !== -1;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 判断子孙级别, 最大支持5次分叉\r\n\t\t * @param {Number} fid 祖辈ID\r\n\t\t * @param {Object} list 数据列表\r\n\t\t * @return {Number} 返回级别\r\n\t\t */\r\n\t\topens_lv: function opens_lv(fid, list) {\r\n\t\t\tif (!list) {\r\n\t\t\t\tlist = this.list;\r\n\t\t\t}\r\n\t\t\tvar lv = 0;\r\n\t\t\tvar father_id = this.father_id;\r\n\t\t\tvar id = this.field;\r\n\t\t\tvar num = fid;\r\n\t\t\tfor (var n = 0; n < 5; n++) {\r\n\t\t\t\tif (num === 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\tvar o = list[i];\r\n\t\t\t\t\tif (o[id] === num) {\r\n\t\t\t\t\t\tlv++;\r\n\t\t\t\t\t\tnum = o[father_id];\r\n\t\t\t\t\t\tif (num === 0) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn lv;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 筛选内容\r\n\t\t * @param {Object} value\r\n\t\t * @param {Object} row\r\n\t\t */\r\n\t\tfilterState(value, row) {\r\n\t\t\treturn row.state === value;\r\n\t\t},\r\n\r\n\t\t// 删除消息\r\n\t\tdelInfo() {\r\n\t\t\tvar list = this.selection;\r\n\t\t\tif (list.length === 0) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\tmessage: '选择对象不能为空!'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t}).then(async () => {\r\n\t\t\t\tconsole.log(\"进入\");\r\n\t\t\t\tawait this.delAll(list);\r\n\t\t\t}).catch(() => {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\tmessage: '已取消删除'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 批量删除\r\n\t\t * @param {Object} list 删除对象集\r\n\t\t */\r\n\t\tasync delAll(list) {\r\n\t\t\tconsole.log(\"进入2\")\r\n\t\t\tvar bl = false;\r\n\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\tvar o = await this.$get(\"~/api/user/del?\", {\r\n\t\t\t\t\tuser_id: list[i].user_id\r\n\t\t\t\t});\r\n\t\t\t\tif (o.error) {\r\n\t\t\t\t\tthis.$message.error('删除失败' + o.error.message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbl = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (bl) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '删除成功!'\r\n\t\t\t\t});\r\n\t\t\t\tthis.get_list()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 上传文件\r\n\t\t * @param {Object} file 文件对象\r\n\t\t * @param {key} 保存键名\r\n\t\t */\r\n\t\tuploadFile(file, key = \"img\") {\r\n\t\t\tvar _this = this;\r\n\t\t\tvar form = new FormData() // FormData 对象\r\n\t\t\tform.append('file', file) // 文件对象\r\n\t\t\tthis.$upload(this.url_upload, form, function(json) {\r\n\t\t\t\tif (json.result) {\r\n\t\t\t\t\tconsole.log(json.result)\r\n\t\t\t\t\t_this.form[key] = _this.$fullUrl(\"~\" + json.result.url);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.$toast('上传失败！');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 选择更改\r\n\t\t * @param {Object} val\r\n\t\t */\r\n\t\tselectionChange(val) {\r\n\t\t\tthis.selection = val;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 条数变更\r\n\t\t * @param {Object} size\r\n\t\t */\r\n\t\thandleSizeChange(size) {\r\n\t\t\tthis.query.size = size;\r\n\t\t\tthis.get_list();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 页数变更\r\n\t\t * @param {Object} page\r\n\t\t */\r\n\t\thandleCurrentChange(page) {\r\n\t\t\tthis.query.page = page;\r\n\t\t\tthis.get_list();\r\n\t\t},\r\n\r\n\t},\r\n\tcomputed: {\r\n\t\t/**\r\n\t\t * 分页数量\r\n\t\t */\r\n\t\tpage_count: function page_count() {\r\n\t\t\treturn Math.ceil(this.count / this.query.size);\r\n\t\t}\r\n\t},\r\n\tcreated: function created() {\r\n\t\tthis.showing = 0;\r\n\t\tthis.init(this.$route.query);\r\n\t\t// this.check_auth(() => {\r\n\t\t// \tthis.init(this.$route.query);\r\n\t\t// })\r\n\t},\r\n\tmounted: function mounted() {\r\n\t\tthis.showing = 100;\r\n\t},\r\n\tbeforeDestroy: function beforeDestroy() {\r\n\t\tthis.events('end_before');\r\n\t}\r\n};\r\n"]}]}